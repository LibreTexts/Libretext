CitRequire=function(){return function t(e,r,i){function s(o,a){if(!r[o]){if(!e[o]){var l="function"==typeof CitRequire&&CitRequire;if(!a&&l)return l(o,!0);if(n)return n(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};e[o][0].call(c.exports,function(t){return s(e[o][1][t]||t)},c,c.exports,t,e,r,i)}return r[o].exports}for(var n="function"==typeof CitRequire&&CitRequire,o=0;o<i.length;o++)s(i[o]);return s}}()({1:[function(t,e,r){(function(e){"use strict";t("core-js/shim"),t("regenerator-runtime/runtime"),e._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),e._babelPolyfill=!0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/shim":322,"regenerator-runtime/runtime":331}],2:[function(t,e,r){"use strict";e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],3:[function(t,e,r){"use strict";var i=t("./_cof");e.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},{"./_cof":17}],4:[function(t,e,r){"use strict";var i=t("./_wks")("unscopables"),s=Array.prototype;null==s[i]&&t("./_hide")(s,i,{}),e.exports=function(t){s[i][t]=!0}},{"./_hide":41,"./_wks":124}],5:[function(t,e,r){"use strict";e.exports=function(t,e,r,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(r+": incorrect invocation!");return t}},{}],6:[function(t,e,r){"use strict";var i=t("./_is-object");e.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":50}],7:[function(t,e,r){"use strict";var i=t("./_to-object"),s=t("./_to-absolute-index"),n=t("./_to-length");e.exports=[].copyWithin||function(t,e){var r=i(this),o=n(r.length),a=s(t,o),l=s(e,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:s(u,o))-l,o-a),p=1;for(l<a&&a<l+c&&(p=-1,l+=c-1,a+=c-1);c-- >0;)l in r?r[a]=r[l]:delete r[a],a+=p,l+=p;return r}},{"./_to-absolute-index":109,"./_to-length":113,"./_to-object":114}],8:[function(t,e,r){"use strict";var i=t("./_to-object"),s=t("./_to-absolute-index"),n=t("./_to-length");e.exports=function(t){for(var e=i(this),r=n(e.length),o=arguments.length,a=s(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,u=void 0===l?r:s(l,r);u>a;)e[a++]=t;return e}},{"./_to-absolute-index":109,"./_to-length":113,"./_to-object":114}],9:[function(t,e,r){"use strict";var i=t("./_for-of");e.exports=function(t,e){var r=[];return i(t,!1,r.push,r,e),r}},{"./_for-of":38}],10:[function(t,e,r){"use strict";var i=t("./_to-iobject"),s=t("./_to-length"),n=t("./_to-absolute-index");e.exports=function(t){return function(e,r,o){var a,l=i(e),u=s(l.length),c=n(o,u);if(t&&r!=r){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===r)return t||c||0;return!t&&-1}}},{"./_to-absolute-index":109,"./_to-iobject":112,"./_to-length":113}],11:[function(t,e,r){"use strict";var i=t("./_ctx"),s=t("./_iobject"),n=t("./_to-object"),o=t("./_to-length"),a=t("./_array-species-create");e.exports=function(t,e){var r=1==t,l=2==t,u=3==t,c=4==t,p=6==t,m=5==t||p,f=e||a;return function(e,a,h){for(var d,g,b=n(e),_=s(b),v=i(a,h,3),y=o(_.length),x=0,w=r?f(e,y):l?f(e,0):void 0;y>x;x++)if((m||x in _)&&(g=v(d=_[x],x,b),t))if(r)w[x]=g;else if(g)switch(t){case 3:return!0;case 5:return d;case 6:return x;case 2:w.push(d)}else if(c)return!1;return p?-1:u||c?c:w}}},{"./_array-species-create":14,"./_ctx":24,"./_iobject":46,"./_to-length":113,"./_to-object":114}],12:[function(t,e,r){"use strict";var i=t("./_a-function"),s=t("./_to-object"),n=t("./_iobject"),o=t("./_to-length");e.exports=function(t,e,r,a,l){i(e);var u=s(t),c=n(u),p=o(u.length),m=l?p-1:0,f=l?-1:1;if(r<2)for(;;){if(m in c){a=c[m],m+=f;break}if(m+=f,l?m<0:p<=m)throw TypeError("Reduce of empty array with no initial value")}for(;l?m>=0:p>m;m+=f)m in c&&(a=e(a,c[m],m,u));return a}},{"./_a-function":2,"./_iobject":46,"./_to-length":113,"./_to-object":114}],13:[function(t,e,r){"use strict";var i=t("./_is-object"),s=t("./_is-array"),n=t("./_wks")("species");e.exports=function(t){var e;return s(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!s(e.prototype)||(e=void 0),i(e)&&null===(e=e[n])&&(e=void 0)),void 0===e?Array:e}},{"./_is-array":48,"./_is-object":50,"./_wks":124}],14:[function(t,e,r){"use strict";var i=t("./_array-species-constructor");e.exports=function(t,e){return new(i(t))(e)}},{"./_array-species-constructor":13}],15:[function(t,e,r){"use strict";var i=t("./_a-function"),s=t("./_is-object"),n=t("./_invoke"),o=[].slice,a={};e.exports=Function.bind||function(t){var e=i(this),r=o.call(arguments,1),l=function i(){var s=r.concat(o.call(arguments));return this instanceof i?function(t,e,r){if(!(e in a)){for(var i=[],s=0;s<e;s++)i[s]="a["+s+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,r)}(e,s.length,s):n(e,s,t)};return s(e.prototype)&&(l.prototype=e.prototype),l}},{"./_a-function":2,"./_invoke":45,"./_is-object":50}],16:[function(t,e,r){"use strict";var i=t("./_cof"),s=t("./_wks")("toStringTag"),n="Arguments"==i(function(){return arguments}());e.exports=function(t){var e,r,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?r:n?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},{"./_cof":17,"./_wks":124}],17:[function(t,e,r){"use strict";var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],18:[function(t,e,r){"use strict";var i=t("./_object-dp").f,s=t("./_object-create"),n=t("./_redefine-all"),o=t("./_ctx"),a=t("./_an-instance"),l=t("./_for-of"),u=t("./_iter-define"),c=t("./_iter-step"),p=t("./_set-species"),m=t("./_descriptors"),f=t("./_meta").fastKey,h=t("./_validate-collection"),d=m?"_s":"size",g=function(t,e){var r,i=f(e);if("F"!==i)return t._i[i];for(r=t._f;r;r=r.n)if(r.k==e)return r};e.exports={getConstructor:function(t,e,r,u){var c=t(function(t,i){a(t,c,e,"_i"),t._t=e,t._i=s(null),t._f=void 0,t._l=void 0,t[d]=0,null!=i&&l(i,r,t[u],t)});return n(c.prototype,{clear:function(){for(var t=h(this,e),r=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var r=h(this,e),i=g(r,t);if(i){var s=i.n,n=i.p;delete r._i[i.i],i.r=!0,n&&(n.n=s),s&&(s.p=n),r._f==i&&(r._f=s),r._l==i&&(r._l=n),r[d]--}return!!i},forEach:function(t){h(this,e);for(var r,i=o(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(i(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!g(h(this,e),t)}}),m&&i(c.prototype,"size",{get:function(){return h(this,e)[d]}}),c},def:function(t,e,r){var i,s,n=g(t,e);return n?n.v=r:(t._l=n={i:s=f(e,!0),k:e,v:r,p:i=t._l,n:void 0,r:!1},t._f||(t._f=n),i&&(i.n=n),t[d]++,"F"!==s&&(t._i[s]=n)),t},getEntry:g,setStrong:function(t,e,r){u(t,e,function(t,r){this._t=h(t,e),this._k=r,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},r?"entries":"values",!r,!0),p(e)}}},{"./_an-instance":5,"./_ctx":24,"./_descriptors":28,"./_for-of":38,"./_iter-define":54,"./_iter-step":56,"./_meta":64,"./_object-create":69,"./_object-dp":70,"./_redefine-all":89,"./_set-species":95,"./_validate-collection":121}],19:[function(t,e,r){"use strict";var i=t("./_classof"),s=t("./_array-from-iterable");e.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return s(this)}}},{"./_array-from-iterable":9,"./_classof":16}],20:[function(t,e,r){"use strict";var i=t("./_redefine-all"),s=t("./_meta").getWeak,n=t("./_an-object"),o=t("./_is-object"),a=t("./_an-instance"),l=t("./_for-of"),u=t("./_array-methods"),c=t("./_has"),p=t("./_validate-collection"),m=u(5),f=u(6),h=0,d=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},b=function(t,e){return m(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var r=b(this,t);r?r[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(t,e,r,n){var u=t(function(t,i){a(t,u,e,"_i"),t._t=e,t._i=h++,t._l=void 0,null!=i&&l(i,r,t[n],t)});return i(u.prototype,{delete:function(t){if(!o(t))return!1;var r=s(t);return!0===r?d(p(this,e)).delete(t):r&&c(r,this._i)&&delete r[this._i]},has:function(t){if(!o(t))return!1;var r=s(t);return!0===r?d(p(this,e)).has(t):r&&c(r,this._i)}}),u},def:function(t,e,r){var i=s(n(e),!0);return!0===i?d(t).set(e,r):i[t._i]=r,t},ufstore:d}},{"./_an-instance":5,"./_an-object":6,"./_array-methods":11,"./_for-of":38,"./_has":40,"./_is-object":50,"./_meta":64,"./_redefine-all":89,"./_validate-collection":121}],21:[function(t,e,r){"use strict";var i=t("./_global"),s=t("./_export"),n=t("./_redefine"),o=t("./_redefine-all"),a=t("./_meta"),l=t("./_for-of"),u=t("./_an-instance"),c=t("./_is-object"),p=t("./_fails"),m=t("./_iter-detect"),f=t("./_set-to-string-tag"),h=t("./_inherit-if-CitRequired");e.exports=function(t,e,r,d,g,b){var _=i[t],v=_,y=g?"set":"add",x=v&&v.prototype,w={},A=function(t){var e=x[t];n(x,t,"delete"==t?function(t){return!(b&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof v&&(b||x.forEach&&!p(function(){(new v).entries().next()}))){var E=new v,j=E[y](b?{}:-0,1)!=E,O=p(function(){E.has(1)}),S=m(function(t){new v(t)}),k=!b&&p(function(){for(var t=new v,e=5;e--;)t[y](e,e);return!t.has(-0)});S||((v=e(function(e,r){u(e,v,t);var i=h(new _,e,v);return null!=r&&l(r,g,i[y],i),i})).prototype=x,x.constructor=v),(O||k)&&(A("delete"),A("has"),g&&A("get")),(k||j)&&A(y),b&&x.clear&&delete x.clear}else v=d.getConstructor(e,t,g,y),o(v.prototype,r),a.NEED=!0;return f(v,t),w[t]=v,s(s.G+s.W+s.F*(v!=_),w),b||d.setStrong(v,t,g),v}},{"./_an-instance":5,"./_export":32,"./_fails":34,"./_for-of":38,"./_global":39,"./_inherit-if-CitRequired":44,"./_is-object":50,"./_iter-detect":55,"./_meta":64,"./_redefine":90,"./_redefine-all":89,"./_set-to-string-tag":96}],22:[function(t,e,r){"use strict";var i=e.exports={version:"2.5.6"};"number"==typeof __e&&(__e=i)},{}],23:[function(t,e,r){"use strict";var i=t("./_object-dp"),s=t("./_property-desc");e.exports=function(t,e,r){e in t?i.f(t,e,s(0,r)):t[e]=r}},{"./_object-dp":70,"./_property-desc":88}],24:[function(t,e,r){"use strict";var i=t("./_a-function");e.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,s){return t.call(e,r,i,s)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":2}],25:[function(t,e,r){"use strict";var i=t("./_fails"),s=Date.prototype.getTime,n=Date.prototype.toISOString,o=function(t){return t>9?t:"0"+t};e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=n.call(new Date(-5e13-1))})||!i(function(){n.call(new Date(NaN))})?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),r=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(r>99?r:"0"+o(r))+"Z"}:n},{"./_fails":34}],26:[function(t,e,r){"use strict";var i=t("./_an-object"),s=t("./_to-primitive");e.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return s(i(this),"number"!=t)}},{"./_an-object":6,"./_to-primitive":115}],27:[function(t,e,r){"use strict";e.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],28:[function(t,e,r){"use strict";e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":34}],29:[function(t,e,r){"use strict";var i=t("./_is-object"),s=t("./_global").document,n=i(s)&&i(s.createElement);e.exports=function(t){return n?s.createElement(t):{}}},{"./_global":39,"./_is-object":50}],30:[function(t,e,r){"use strict";e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],31:[function(t,e,r){"use strict";var i=t("./_object-keys"),s=t("./_object-gops"),n=t("./_object-pie");e.exports=function(t){var e=i(t),r=s.f;if(r)for(var o,a=r(t),l=n.f,u=0;a.length>u;)l.call(t,o=a[u++])&&e.push(o);return e}},{"./_object-gops":76,"./_object-keys":79,"./_object-pie":80}],32:[function(t,e,r){"use strict";var i=t("./_global"),s=t("./_core"),n=t("./_hide"),o=t("./_redefine"),a=t("./_ctx"),l=function t(e,r,l){var u,c,p,m,f=e&t.F,h=e&t.G,d=e&t.P,g=e&t.B,b=h?i:e&t.S?i[r]||(i[r]={}):(i[r]||{}).prototype,_=h?s:s[r]||(s[r]={}),v=_.prototype||(_.prototype={});for(u in h&&(l=r),l)p=((c=!f&&b&&void 0!==b[u])?b:l)[u],m=g&&c?a(p,i):d&&"function"==typeof p?a(Function.call,p):p,b&&o(b,u,p,e&t.U),_[u]!=p&&n(_,u,m),d&&v[u]!=p&&(v[u]=p)};i.core=s,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},{"./_core":22,"./_ctx":24,"./_global":39,"./_hide":41,"./_redefine":90}],33:[function(t,e,r){"use strict";var i=t("./_wks")("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},{"./_wks":124}],34:[function(t,e,r){"use strict";e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],35:[function(t,e,r){"use strict";var i=t("./_hide"),s=t("./_redefine"),n=t("./_fails"),o=t("./_defined"),a=t("./_wks");e.exports=function(t,e,r){var l=a(t),u=r(o,l,""[t]),c=u[0],p=u[1];n(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(s(String.prototype,t,c),i(RegExp.prototype,l,2==e?function(t,e){return p.call(t,this,e)}:function(t){return p.call(t,this)}))}},{"./_defined":27,"./_fails":34,"./_hide":41,"./_redefine":90,"./_wks":124}],36:[function(t,e,r){"use strict";var i=t("./_an-object");e.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"./_an-object":6}],37:[function(t,e,r){"use strict";var i=t("./_is-array"),s=t("./_is-object"),n=t("./_to-length"),o=t("./_ctx"),a=t("./_wks")("isConcatSpreadable");e.exports=function t(e,r,l,u,c,p,m,f){for(var h,d,g=c,b=0,_=!!m&&o(m,f,3);b<u;){if(b in l){if(h=_?_(l[b],b,r):l[b],d=!1,s(h)&&(d=void 0!==(d=h[a])?!!d:i(h)),d&&p>0)g=t(e,r,h,n(h.length),g,p-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=h}g++}b++}return g}},{"./_ctx":24,"./_is-array":48,"./_is-object":50,"./_to-length":113,"./_wks":124}],38:[function(t,e,r){"use strict";var i=t("./_ctx"),s=t("./_iter-call"),n=t("./_is-array-iter"),o=t("./_an-object"),a=t("./_to-length"),l=t("./core.get-iterator-method"),u={},c={},p=e.exports=function(t,e,r,p,m){var f,h,d,g,b=m?function(){return t}:l(t),_=i(r,p,e?2:1),v=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(n(b)){for(f=a(t.length);f>v;v++)if((g=e?_(o(h=t[v])[0],h[1]):_(t[v]))===u||g===c)return g}else for(d=b.call(t);!(h=d.next()).done;)if((g=s(d,_,h.value,e))===u||g===c)return g};p.BREAK=u,p.RETURN=c},{"./_an-object":6,"./_ctx":24,"./_is-array-iter":47,"./_iter-call":52,"./_to-length":113,"./core.get-iterator-method":125}],39:[function(t,e,r){"use strict";var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],40:[function(t,e,r){"use strict";var i={}.hasOwnProperty;e.exports=function(t,e){return i.call(t,e)}},{}],41:[function(t,e,r){"use strict";var i=t("./_object-dp"),s=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,r){return i.f(t,e,s(1,r))}:function(t,e,r){return t[e]=r,t}},{"./_descriptors":28,"./_object-dp":70,"./_property-desc":88}],42:[function(t,e,r){"use strict";var i=t("./_global").document;e.exports=i&&i.documentElement},{"./_global":39}],43:[function(t,e,r){"use strict";e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":28,"./_dom-create":29,"./_fails":34}],44:[function(t,e,r){"use strict";var i=t("./_is-object"),s=t("./_set-proto").set;e.exports=function(t,e,r){var n,o=e.constructor;return o!==r&&"function"==typeof o&&(n=o.prototype)!==r.prototype&&i(n)&&s&&s(t,n),t}},{"./_is-object":50,"./_set-proto":94}],45:[function(t,e,r){"use strict";e.exports=function(t,e,r){var i=void 0===r;switch(e.length){case 0:return i?t():t.call(r);case 1:return i?t(e[0]):t.call(r,e[0]);case 2:return i?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},{}],46:[function(t,e,r){"use strict";var i=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},{"./_cof":17}],47:[function(t,e,r){"use strict";var i=t("./_iterators"),s=t("./_wks")("iterator"),n=Array.prototype;e.exports=function(t){return void 0!==t&&(i.Array===t||n[s]===t)}},{"./_iterators":57,"./_wks":124}],48:[function(t,e,r){"use strict";var i=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==i(t)}},{"./_cof":17}],49:[function(t,e,r){"use strict";var i=t("./_is-object"),s=Math.floor;e.exports=function(t){return!i(t)&&isFinite(t)&&s(t)===t}},{"./_is-object":50}],50:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.exports=function(t){return"object"===i(t)?null!==t:"function"==typeof t}},{}],51:[function(t,e,r){"use strict";var i=t("./_is-object"),s=t("./_cof"),n=t("./_wks")("match");e.exports=function(t){var e;return i(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==s(t))}},{"./_cof":17,"./_is-object":50,"./_wks":124}],52:[function(t,e,r){"use strict";var i=t("./_an-object");e.exports=function(t,e,r,s){try{return s?e(i(r)[0],r[1]):e(r)}catch(e){var n=t.return;throw void 0!==n&&i(n.call(t)),e}}},{"./_an-object":6}],53:[function(t,e,r){"use strict";var i=t("./_object-create"),s=t("./_property-desc"),n=t("./_set-to-string-tag"),o={};t("./_hide")(o,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,r){t.prototype=i(o,{next:s(1,r)}),n(t,e+" Iterator")}},{"./_hide":41,"./_object-create":69,"./_property-desc":88,"./_set-to-string-tag":96,"./_wks":124}],54:[function(t,e,r){"use strict";var i=t("./_library"),s=t("./_export"),n=t("./_redefine"),o=t("./_hide"),a=t("./_iterators"),l=t("./_iter-create"),u=t("./_set-to-string-tag"),c=t("./_object-gpo"),p=t("./_wks")("iterator"),m=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(t,e,r,h,d,g,b){l(r,e,h);var _,v,y,x=function(t){if(!m&&t in j)return j[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},w=e+" Iterator",A="values"==d,E=!1,j=t.prototype,O=j[p]||j["@@iterator"]||d&&j[d],S=O||x(d),k=d?A?x("entries"):S:void 0,T="Array"==e&&j.entries||O;if(T&&(y=c(T.call(new t)))!==Object.prototype&&y.next&&(u(y,w,!0),i||"function"==typeof y[p]||o(y,p,f)),A&&O&&"values"!==O.name&&(E=!0,S=function(){return O.call(this)}),i&&!b||!m&&!E&&j[p]||o(j,p,S),a[e]=S,a[w]=f,d)if(_={values:A?S:x("values"),keys:g?S:x("keys"),entries:k},b)for(v in _)v in j||n(j,v,_[v]);else s(s.P+s.F*(m||E),e,_);return _}},{"./_export":32,"./_hide":41,"./_iter-create":53,"./_iterators":57,"./_library":58,"./_object-gpo":77,"./_redefine":90,"./_set-to-string-tag":96,"./_wks":124}],55:[function(t,e,r){"use strict";var i=t("./_wks")("iterator"),s=!1;try{var n=[7][i]();n.return=function(){s=!0},Array.from(n,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!s)return!1;var r=!1;try{var n=[7],o=n[i]();o.next=function(){return{done:r=!0}},n[i]=function(){return o},t(n)}catch(t){}return r}},{"./_wks":124}],56:[function(t,e,r){"use strict";e.exports=function(t,e){return{value:e,done:!!t}}},{}],57:[function(t,e,r){"use strict";e.exports={}},{}],58:[function(t,e,r){"use strict";e.exports=!1},{}],59:[function(t,e,r){"use strict";var i=Math.expm1;e.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},{}],60:[function(t,e,r){"use strict";var i=t("./_math-sign"),s=Math.pow,n=s(2,-52),o=s(2,-23),a=s(2,127)*(2-o),l=s(2,-126);e.exports=Math.fround||function(t){var e,r,s=Math.abs(t),u=i(t);return s<l?u*(s/l/o+1/n-1/n)*l*o:(r=(e=(1+o/n)*s)-(e-s))>a||r!=r?u*(1/0):u*r}},{"./_math-sign":63}],61:[function(t,e,r){"use strict";e.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],62:[function(t,e,r){"use strict";e.exports=Math.scale||function(t,e,r,i,s){return 0===arguments.length||t!=t||e!=e||r!=r||i!=i||s!=s?NaN:t===1/0||t===-1/0?t:(t-e)*(s-i)/(r-e)+i}},{}],63:[function(t,e,r){"use strict";e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],64:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("./_uid")("meta"),n=t("./_is-object"),o=t("./_has"),a=t("./_object-dp").f,l=0,u=Object.isExtensible||function(){return!0},c=!t("./_fails")(function(){return u(Object.preventExtensions({}))}),p=function(t){a(t,s,{value:{i:"O"+ ++l,w:{}}})},m=e.exports={KEY:s,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==i(t)?t:("string"==typeof t?"S":"P")+t;if(!o(t,s)){if(!u(t))return"F";if(!e)return"E";p(t)}return t[s].i},getWeak:function(t,e){if(!o(t,s)){if(!u(t))return!0;if(!e)return!1;p(t)}return t[s].w},onFreeze:function(t){return c&&m.NEED&&u(t)&&!o(t,s)&&p(t),t}}},{"./_fails":34,"./_has":40,"./_is-object":50,"./_object-dp":70,"./_uid":119}],65:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("./es6.map"),n=t("./_export"),o=t("./_shared")("metadata"),a=o.store||(o.store=new(t("./es6.weak-map"))),l=function(t,e,r){var i=a.get(t);if(!i){if(!r)return;a.set(t,i=new s)}var n=i.get(e);if(!n){if(!r)return;i.set(e,n=new s)}return n};e.exports={store:a,map:l,has:function(t,e,r){var i=l(e,r,!1);return void 0!==i&&i.has(t)},get:function(t,e,r){var i=l(e,r,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,r,i){l(r,i,!0).set(t,e)},keys:function(t,e){var r=l(t,e,!1),i=[];return r&&r.forEach(function(t,e){i.push(e)}),i},key:function(t){return void 0===t||"symbol"==i(t)?t:String(t)},exp:function(t){n(n.S,"Reflect",t)}}},{"./_export":32,"./_shared":98,"./es6.map":155,"./es6.weak-map":261}],66:[function(t,e,r){"use strict";var i=t("./_global"),s=t("./_task").set,n=i.MutationObserver||i.WebKitMutationObserver,o=i.process,a=i.Promise,l="process"==t("./_cof")(o);e.exports=function(){var t,e,r,u=function(){var i,s;for(l&&(i=o.domain)&&i.exit();t;){s=t.fn,t=t.next;try{s()}catch(i){throw t?r():e=void 0,i}}e=void 0,i&&i.enter()};if(l)r=function(){o.nextTick(u)};else if(!n||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var c=a.resolve(void 0);r=function(){c.then(u)}}else r=function(){s.call(i,u)};else{var p=!0,m=document.createTextNode("");new n(u).observe(m,{characterData:!0}),r=function(){m.data=p=!p}}return function(i){var s={fn:i,next:void 0};e&&(e.next=s),t||(t=s,r()),e=s}}},{"./_cof":17,"./_global":39,"./_task":108}],67:[function(t,e,r){"use strict";var i=t("./_a-function");function s(t){var e,r;this.promise=new t(function(t,i){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=i}),this.resolve=i(e),this.reject=i(r)}e.exports.f=function(t){return new s(t)}},{"./_a-function":2}],68:[function(t,e,r){"use strict";var i=t("./_object-keys"),s=t("./_object-gops"),n=t("./_object-pie"),o=t("./_to-object"),a=t("./_iobject"),l=Object.assign;e.exports=!l||t("./_fails")(function(){var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[r]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var r=o(t),l=arguments.length,u=1,c=s.f,p=n.f;l>u;)for(var m,f=a(arguments[u++]),h=c?i(f).concat(c(f)):i(f),d=h.length,g=0;d>g;)p.call(f,m=h[g++])&&(r[m]=f[m]);return r}:l},{"./_fails":34,"./_iobject":46,"./_object-gops":76,"./_object-keys":79,"./_object-pie":80,"./_to-object":114}],69:[function(t,e,r){"use strict";var i=t("./_an-object"),s=t("./_object-dps"),n=t("./_enum-bug-keys"),o=t("./_shared-key")("IE_PROTO"),a=function(){},l=function(){var e,r=t("./_dom-create")("iframe"),i=n.length;for(r.style.display="none",t("./_html").appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[n[i]];return l()};e.exports=Object.create||function(t,e){var r;return null!==t?(a.prototype=i(t),r=new a,a.prototype=null,r[o]=t):r=l(),void 0===e?r:s(r,e)}},{"./_an-object":6,"./_dom-create":29,"./_enum-bug-keys":30,"./_html":42,"./_object-dps":71,"./_shared-key":97}],70:[function(t,e,r){"use strict";var i=t("./_an-object"),s=t("./_ie8-dom-define"),n=t("./_to-primitive"),o=Object.defineProperty;r.f=t("./_descriptors")?Object.defineProperty:function(t,e,r){if(i(t),e=n(e,!0),i(r),s)try{return o(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},{"./_an-object":6,"./_descriptors":28,"./_ie8-dom-define":43,"./_to-primitive":115}],71:[function(t,e,r){"use strict";var i=t("./_object-dp"),s=t("./_an-object"),n=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){s(t);for(var r,o=n(e),a=o.length,l=0;a>l;)i.f(t,r=o[l++],e[r]);return t}},{"./_an-object":6,"./_descriptors":28,"./_object-dp":70,"./_object-keys":79}],72:[function(t,e,r){"use strict";e.exports=t("./_library")||!t("./_fails")(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete t("./_global")[e]})},{"./_fails":34,"./_global":39,"./_library":58}],73:[function(t,e,r){"use strict";var i=t("./_object-pie"),s=t("./_property-desc"),n=t("./_to-iobject"),o=t("./_to-primitive"),a=t("./_has"),l=t("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;r.f=t("./_descriptors")?u:function(t,e){if(t=n(t),e=o(e,!0),l)try{return u(t,e)}catch(t){}if(a(t,e))return s(!i.f.call(t,e),t[e])}},{"./_descriptors":28,"./_has":40,"./_ie8-dom-define":43,"./_object-pie":80,"./_property-desc":88,"./_to-iobject":112,"./_to-primitive":115}],74:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("./_to-iobject"),n=t("./_object-gopn").f,o={}.toString,a="object"==("undefined"==typeof window?"undefined":i(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return n(t)}catch(t){return a.slice()}}(t):n(s(t))}},{"./_object-gopn":75,"./_to-iobject":112}],75:[function(t,e,r){"use strict";var i=t("./_object-keys-internal"),s=t("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return i(t,s)}},{"./_enum-bug-keys":30,"./_object-keys-internal":78}],76:[function(t,e,r){"use strict";r.f=Object.getOwnPropertySymbols},{}],77:[function(t,e,r){"use strict";var i=t("./_has"),s=t("./_to-object"),n=t("./_shared-key")("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=s(t),i(t,n)?t[n]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},{"./_has":40,"./_shared-key":97,"./_to-object":114}],78:[function(t,e,r){"use strict";var i=t("./_has"),s=t("./_to-iobject"),n=t("./_array-includes")(!1),o=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var r,a=s(t),l=0,u=[];for(r in a)r!=o&&i(a,r)&&u.push(r);for(;e.length>l;)i(a,r=e[l++])&&(~n(u,r)||u.push(r));return u}},{"./_array-includes":10,"./_has":40,"./_shared-key":97,"./_to-iobject":112}],79:[function(t,e,r){"use strict";var i=t("./_object-keys-internal"),s=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return i(t,s)}},{"./_enum-bug-keys":30,"./_object-keys-internal":78}],80:[function(t,e,r){"use strict";r.f={}.propertyIsEnumerable},{}],81:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_core"),n=t("./_fails");e.exports=function(t,e){var r=(s.Object||{})[t]||Object[t],o={};o[t]=e(r),i(i.S+i.F*n(function(){r(1)}),"Object",o)}},{"./_core":22,"./_export":32,"./_fails":34}],82:[function(t,e,r){"use strict";var i=t("./_object-keys"),s=t("./_to-iobject"),n=t("./_object-pie").f;e.exports=function(t){return function(e){for(var r,o=s(e),a=i(o),l=a.length,u=0,c=[];l>u;)n.call(o,r=a[u++])&&c.push(t?[r,o[r]]:o[r]);return c}}},{"./_object-keys":79,"./_object-pie":80,"./_to-iobject":112}],83:[function(t,e,r){"use strict";var i=t("./_object-gopn"),s=t("./_object-gops"),n=t("./_an-object"),o=t("./_global").Reflect;e.exports=o&&o.ownKeys||function(t){var e=i.f(n(t)),r=s.f;return r?e.concat(r(t)):e}},{"./_an-object":6,"./_global":39,"./_object-gopn":75,"./_object-gops":76}],84:[function(t,e,r){"use strict";var i=t("./_global").parseFloat,s=t("./_string-trim").trim;e.exports=1/i(t("./_string-ws")+"-0")!=-1/0?function(t){var e=s(String(t),3),r=i(e);return 0===r&&"-"==e.charAt(0)?-0:r}:i},{"./_global":39,"./_string-trim":106,"./_string-ws":107}],85:[function(t,e,r){"use strict";var i=t("./_global").parseInt,s=t("./_string-trim").trim,n=t("./_string-ws"),o=/^[-+]?0[xX]/;e.exports=8!==i(n+"08")||22!==i(n+"0x16")?function(t,e){var r=s(String(t),3);return i(r,e>>>0||(o.test(r)?16:10))}:i},{"./_global":39,"./_string-trim":106,"./_string-ws":107}],86:[function(t,e,r){"use strict";e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],87:[function(t,e,r){"use strict";var i=t("./_an-object"),s=t("./_is-object"),n=t("./_new-promise-capability");e.exports=function(t,e){if(i(t),s(e)&&e.constructor===t)return e;var r=n.f(t);return(0,r.resolve)(e),r.promise}},{"./_an-object":6,"./_is-object":50,"./_new-promise-capability":67}],88:[function(t,e,r){"use strict";e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],89:[function(t,e,r){"use strict";var i=t("./_redefine");e.exports=function(t,e,r){for(var s in e)i(t,s,e[s],r);return t}},{"./_redefine":90}],90:[function(t,e,r){"use strict";var i=t("./_global"),s=t("./_hide"),n=t("./_has"),o=t("./_uid")("src"),a=Function.toString,l=(""+a).split("toString");t("./_core").inspectSource=function(t){return a.call(t)},(e.exports=function(t,e,r,a){var u="function"==typeof r;u&&(n(r,"name")||s(r,"name",e)),t[e]!==r&&(u&&(n(r,o)||s(r,o,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=r:a?t[e]?t[e]=r:s(t,e,r):(delete t[e],s(t,e,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||a.call(this)})},{"./_core":22,"./_global":39,"./_has":40,"./_hide":41,"./_uid":119}],91:[function(t,e,r){"use strict";e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],92:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_a-function"),n=t("./_ctx"),o=t("./_for-of");e.exports=function(t){i(i.S,t,{from:function(t){var e,r,i,a,l=arguments[1];return s(this),(e=void 0!==l)&&s(l),null==t?new this:(r=[],e?(i=0,a=n(l,arguments[2],2),o(t,!1,function(t){r.push(a(t,i++))})):o(t,!1,r.push,r),new this(r))}})}},{"./_a-function":2,"./_ctx":24,"./_export":32,"./_for-of":38}],93:[function(t,e,r){"use strict";var i=t("./_export");e.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},{"./_export":32}],94:[function(t,e,r){"use strict";var i=t("./_is-object"),s=t("./_an-object"),n=function(t,e){if(s(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,i){try{(i=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(t){r=!0}return function(t,e){return n(t,e),r?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:n}},{"./_an-object":6,"./_ctx":24,"./_is-object":50,"./_object-gopd":73}],95:[function(t,e,r){"use strict";var i=t("./_global"),s=t("./_object-dp"),n=t("./_descriptors"),o=t("./_wks")("species");e.exports=function(t){var e=i[t];n&&e&&!e[o]&&s.f(e,o,{configurable:!0,get:function(){return this}})}},{"./_descriptors":28,"./_global":39,"./_object-dp":70,"./_wks":124}],96:[function(t,e,r){"use strict";var i=t("./_object-dp").f,s=t("./_has"),n=t("./_wks")("toStringTag");e.exports=function(t,e,r){t&&!s(t=r?t:t.prototype,n)&&i(t,n,{configurable:!0,value:e})}},{"./_has":40,"./_object-dp":70,"./_wks":124}],97:[function(t,e,r){"use strict";var i=t("./_shared")("keys"),s=t("./_uid");e.exports=function(t){return i[t]||(i[t]=s(t))}},{"./_shared":98,"./_uid":119}],98:[function(t,e,r){"use strict";var i=t("./_core"),s=t("./_global"),n=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(e.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:t("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":22,"./_global":39,"./_library":58}],99:[function(t,e,r){"use strict";var i=t("./_an-object"),s=t("./_a-function"),n=t("./_wks")("species");e.exports=function(t,e){var r,o=i(t).constructor;return void 0===o||null==(r=i(o)[n])?e:s(r)}},{"./_a-function":2,"./_an-object":6,"./_wks":124}],100:[function(t,e,r){"use strict";var i=t("./_fails");e.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},{"./_fails":34}],101:[function(t,e,r){"use strict";var i=t("./_to-integer"),s=t("./_defined");e.exports=function(t){return function(e,r){var n,o,a=String(s(e)),l=i(r),u=a.length;return l<0||l>=u?t?"":void 0:(n=a.charCodeAt(l))<55296||n>56319||l+1===u||(o=a.charCodeAt(l+1))<56320||o>57343?t?a.charAt(l):n:t?a.slice(l,l+2):o-56320+(n-55296<<10)+65536}}},{"./_defined":27,"./_to-integer":111}],102:[function(t,e,r){"use strict";var i=t("./_is-regexp"),s=t("./_defined");e.exports=function(t,e,r){if(i(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(s(t))}},{"./_defined":27,"./_is-regexp":51}],103:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_fails"),n=t("./_defined"),o=/"/g,a=function(t,e,r,i){var s=String(n(t)),a="<"+e;return""!==r&&(a+=" "+r+'="'+String(i).replace(o,"&quot;")+'"'),a+">"+s+"</"+e+">"};e.exports=function(t,e){var r={};r[t]=e(a),i(i.P+i.F*s(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",r)}},{"./_defined":27,"./_export":32,"./_fails":34}],104:[function(t,e,r){"use strict";var i=t("./_to-length"),s=t("./_string-repeat"),n=t("./_defined");e.exports=function(t,e,r,o){var a=String(n(t)),l=a.length,u=void 0===r?" ":String(r),c=i(e);if(c<=l||""==u)return a;var p=c-l,m=s.call(u,Math.ceil(p/u.length));return m.length>p&&(m=m.slice(0,p)),o?m+a:a+m}},{"./_defined":27,"./_string-repeat":105,"./_to-length":113}],105:[function(t,e,r){"use strict";var i=t("./_to-integer"),s=t("./_defined");e.exports=function(t){var e=String(s(this)),r="",n=i(t);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r}},{"./_defined":27,"./_to-integer":111}],106:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_defined"),n=t("./_fails"),o=t("./_string-ws"),a="["+o+"]",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),c=function(t,e,r){var s={},a=n(function(){return!!o[t]()||"​"!="​"[t]()}),l=s[t]=a?e(p):o[t];r&&(s[r]=l),i(i.P+i.F*a,"String",s)},p=c.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};e.exports=c},{"./_defined":27,"./_export":32,"./_fails":34,"./_string-ws":107}],107:[function(t,e,r){"use strict";e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],108:[function(t,e,r){"use strict";var i,s,n,o=t("./_ctx"),a=t("./_invoke"),l=t("./_html"),u=t("./_dom-create"),c=t("./_global"),p=c.process,m=c.setImmediate,f=c.clearImmediate,h=c.MessageChannel,d=c.Dispatch,g=0,b={},_=function(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},v=function(t){_.call(t.data)};m&&f||(m=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return b[++g]=function(){a("function"==typeof t?t:Function(t),e)},i(g),g},f=function(t){delete b[t]},"process"==t("./_cof")(p)?i=function(t){p.nextTick(o(_,t,1))}:d&&d.now?i=function(t){d.now(o(_,t,1))}:h?(n=(s=new h).port2,s.port1.onmessage=v,i=o(n.postMessage,n,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",v,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),_.call(t)}}:function(t){setTimeout(o(_,t,1),0)}),e.exports={set:m,clear:f}},{"./_cof":17,"./_ctx":24,"./_dom-create":29,"./_global":39,"./_html":42,"./_invoke":45}],109:[function(t,e,r){"use strict";var i=t("./_to-integer"),s=Math.max,n=Math.min;e.exports=function(t,e){return(t=i(t))<0?s(t+e,0):n(t,e)}},{"./_to-integer":111}],110:[function(t,e,r){"use strict";var i=t("./_to-integer"),s=t("./_to-length");e.exports=function(t){if(void 0===t)return 0;var e=i(t),r=s(e);if(e!==r)throw RangeError("Wrong length!");return r}},{"./_to-integer":111,"./_to-length":113}],111:[function(t,e,r){"use strict";var i=Math.ceil,s=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?s:i)(t)}},{}],112:[function(t,e,r){"use strict";var i=t("./_iobject"),s=t("./_defined");e.exports=function(t){return i(s(t))}},{"./_defined":27,"./_iobject":46}],113:[function(t,e,r){"use strict";var i=t("./_to-integer"),s=Math.min;e.exports=function(t){return t>0?s(i(t),9007199254740991):0}},{"./_to-integer":111}],114:[function(t,e,r){"use strict";var i=t("./_defined");e.exports=function(t){return Object(i(t))}},{"./_defined":27}],115:[function(t,e,r){"use strict";var i=t("./_is-object");e.exports=function(t,e){if(!i(t))return t;var r,s;if(e&&"function"==typeof(r=t.toString)&&!i(s=r.call(t)))return s;if("function"==typeof(r=t.valueOf)&&!i(s=r.call(t)))return s;if(!e&&"function"==typeof(r=t.toString)&&!i(s=r.call(t)))return s;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":50}],116:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if(t("./_descriptors")){var s=t("./_library"),n=t("./_global"),o=t("./_fails"),a=t("./_export"),l=t("./_typed"),u=t("./_typed-buffer"),c=t("./_ctx"),p=t("./_an-instance"),m=t("./_property-desc"),f=t("./_hide"),h=t("./_redefine-all"),d=t("./_to-integer"),g=t("./_to-length"),b=t("./_to-index"),_=t("./_to-absolute-index"),v=t("./_to-primitive"),y=t("./_has"),x=t("./_classof"),w=t("./_is-object"),A=t("./_to-object"),E=t("./_is-array-iter"),j=t("./_object-create"),O=t("./_object-gpo"),S=t("./_object-gopn").f,k=t("./core.get-iterator-method"),T=t("./_uid"),I=t("./_wks"),N=t("./_array-methods"),C=t("./_array-includes"),D=t("./_species-constructor"),P=t("./es6.array.iterator"),R=t("./_iterators"),F=t("./_iter-detect"),L=t("./_set-species"),M=t("./_array-fill"),B=t("./_array-copy-within"),U=t("./_object-dp"),z=t("./_object-gopd"),q=U.f,$=z.f,V=n.RangeError,G=n.TypeError,X=n.Uint8Array,W=Array.prototype,H=u.ArrayBuffer,Q=u.DataView,J=N(0),K=N(2),Y=N(3),Z=N(4),tt=N(5),et=N(6),rt=C(!0),it=C(!1),st=P.values,nt=P.keys,ot=P.entries,at=W.lastIndexOf,lt=W.reduce,ut=W.reduceRight,ct=W.join,pt=W.sort,mt=W.slice,ft=W.toString,ht=W.toLocaleString,dt=I("iterator"),gt=I("toStringTag"),bt=T("typed_constructor"),_t=T("def_constructor"),vt=l.CONSTR,yt=l.TYPED,xt=l.VIEW,wt=N(1,function(t,e){return St(D(t,t[_t]),e)}),At=o(function(){return 1===new X(new Uint16Array([1]).buffer)[0]}),Et=!!X&&!!X.prototype.set&&o(function(){new X(1).set({})}),jt=function(t,e){var r=d(t);if(r<0||r%e)throw V("Wrong offset!");return r},Ot=function(t){if(w(t)&&yt in t)return t;throw G(t+" is not a typed array!")},St=function(t,e){if(!(w(t)&&bt in t))throw G("It is not a typed array constructor!");return new t(e)},kt=function(t,e){return Tt(D(t,t[_t]),e)},Tt=function(t,e){for(var r=0,i=e.length,s=St(t,i);i>r;)s[r]=e[r++];return s},It=function(t,e,r){q(t,e,{get:function(){return this._d[r]}})},Nt=function(t){var e,r,i,s,n,o,a=A(t),l=arguments.length,u=l>1?arguments[1]:void 0,p=void 0!==u,m=k(a);if(null!=m&&!E(m)){for(o=m.call(a),i=[],e=0;!(n=o.next()).done;e++)i.push(n.value);a=i}for(p&&l>2&&(u=c(u,arguments[2],2)),e=0,r=g(a.length),s=St(this,r);r>e;e++)s[e]=p?u(a[e],e):a[e];return s},Ct=function(){for(var t=0,e=arguments.length,r=St(this,e);e>t;)r[t]=arguments[t++];return r},Dt=!!X&&o(function(){ht.call(new X(1))}),Pt=function(){return ht.apply(Dt?mt.call(Ot(this)):Ot(this),arguments)},Rt={copyWithin:function(t,e){return B.call(Ot(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Z(Ot(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return M.apply(Ot(this),arguments)},filter:function(t){return kt(this,K(Ot(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return tt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return et(Ot(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){J(Ot(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return it(Ot(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return rt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Ot(this),arguments)},lastIndexOf:function(t){return at.apply(Ot(this),arguments)},map:function(t){return wt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return lt.apply(Ot(this),arguments)},reduceRight:function(t){return ut.apply(Ot(this),arguments)},reverse:function(){for(var t,e=Ot(this).length,r=Math.floor(e/2),i=0;i<r;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return Y(Ot(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Ot(this),t)},subarray:function(t,e){var r=Ot(this),i=r.length,s=_(t,i);return new(D(r,r[_t]))(r.buffer,r.byteOffset+s*r.BYTES_PER_ELEMENT,g((void 0===e?i:_(e,i))-s))}},Ft=function(t,e){return kt(this,mt.call(Ot(this),t,e))},Lt=function(t){Ot(this);var e=jt(arguments[1],1),r=this.length,i=A(t),s=g(i.length),n=0;if(s+e>r)throw V("Wrong length!");for(;n<s;)this[e+n]=i[n++]},Mt={entries:function(){return ot.call(Ot(this))},keys:function(){return nt.call(Ot(this))},values:function(){return st.call(Ot(this))}},Bt=function(t,e){return w(t)&&t[yt]&&"symbol"!=i(e)&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Bt(t,e=v(e,!0))?m(2,t[e]):$(t,e)},zt=function(t,e,r){return!(Bt(t,e=v(e,!0))&&w(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?q(t,e,r):(t[e]=r.value,t)};vt||(z.f=Ut,U.f=zt),a(a.S+a.F*!vt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:zt}),o(function(){ft.call({})})&&(ft=ht=function(){return ct.call(this)});var qt=h({},Rt);h(qt,Mt),f(qt,dt,Mt.values),h(qt,{slice:Ft,set:Lt,constructor:function(){},toString:ft,toLocaleString:Pt}),It(qt,"buffer","b"),It(qt,"byteOffset","o"),It(qt,"byteLength","l"),It(qt,"length","e"),q(qt,gt,{get:function(){return this[yt]}}),e.exports=function(t,e,r,i){var u=t+((i=!!i)?"Clamped":"")+"Array",c="get"+t,m="set"+t,h=n[u],d=h||{},_=h&&O(h),v=!h||!l.ABV,y={},A=h&&h.prototype,E=function(t,r){q(t,r,{get:function(){return function(t,r){var i=t._d;return i.v[c](r*e+i.o,At)}(this,r)},set:function(t){return function(t,r,s){var n=t._d;i&&(s=(s=Math.round(s))<0?0:s>255?255:255&s),n.v[m](r*e+n.o,s,At)}(this,r,t)},enumerable:!0})};v?(h=r(function(t,r,i,s){p(t,h,u,"_d");var n,o,a,l,c=0,m=0;if(w(r)){if(!(r instanceof H||"ArrayBuffer"==(l=x(r))||"SharedArrayBuffer"==l))return yt in r?Tt(h,r):Nt.call(h,r);n=r,m=jt(i,e);var d=r.byteLength;if(void 0===s){if(d%e)throw V("Wrong length!");if((o=d-m)<0)throw V("Wrong length!")}else if((o=g(s)*e)+m>d)throw V("Wrong length!");a=o/e}else a=b(r),n=new H(o=a*e);for(f(t,"_d",{b:n,o:m,l:o,e:a,v:new Q(n)});c<a;)E(t,c++)}),A=h.prototype=j(qt),f(A,"constructor",h)):o(function(){h(1)})&&o(function(){new h(-1)})&&F(function(t){new h,new h(null),new h(1.5),new h(t)},!0)||(h=r(function(t,r,i,s){var n;return p(t,h,u),w(r)?r instanceof H||"ArrayBuffer"==(n=x(r))||"SharedArrayBuffer"==n?void 0!==s?new d(r,jt(i,e),s):void 0!==i?new d(r,jt(i,e)):new d(r):yt in r?Tt(h,r):Nt.call(h,r):new d(b(r))}),J(_!==Function.prototype?S(d).concat(S(_)):S(d),function(t){t in h||f(h,t,d[t])}),h.prototype=A,s||(A.constructor=h));var k=A[dt],T=!!k&&("values"==k.name||null==k.name),I=Mt.values;f(h,bt,!0),f(A,yt,u),f(A,xt,!0),f(A,_t,h),(i?new h(1)[gt]==u:gt in A)||q(A,gt,{get:function(){return u}}),y[u]=h,a(a.G+a.W+a.F*(h!=d),y),a(a.S,u,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){d.of.call(h,1)}),u,{from:Nt,of:Ct}),"BYTES_PER_ELEMENT"in A||f(A,"BYTES_PER_ELEMENT",e),a(a.P,u,Rt),L(u),a(a.P+a.F*Et,u,{set:Lt}),a(a.P+a.F*!T,u,Mt),s||A.toString==ft||(A.toString=ft),a(a.P+a.F*o(function(){new h(1).slice()}),u,{slice:Ft}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!o(function(){A.toLocaleString.call([1,2])})),u,{toLocaleString:Pt}),R[u]=T?k:I,s||T||f(A,dt,I)}}else e.exports=function(){}},{"./_an-instance":5,"./_array-copy-within":7,"./_array-fill":8,"./_array-includes":10,"./_array-methods":11,"./_classof":16,"./_ctx":24,"./_descriptors":28,"./_export":32,"./_fails":34,"./_global":39,"./_has":40,"./_hide":41,"./_is-array-iter":47,"./_is-object":50,"./_iter-detect":55,"./_iterators":57,"./_library":58,"./_object-create":69,"./_object-dp":70,"./_object-gopd":73,"./_object-gopn":75,"./_object-gpo":77,"./_property-desc":88,"./_redefine-all":89,"./_set-species":95,"./_species-constructor":99,"./_to-absolute-index":109,"./_to-index":110,"./_to-integer":111,"./_to-length":113,"./_to-object":114,"./_to-primitive":115,"./_typed":118,"./_typed-buffer":117,"./_uid":119,"./_wks":124,"./core.get-iterator-method":125,"./es6.array.iterator":136}],117:[function(t,e,r){"use strict";var i=t("./_global"),s=t("./_descriptors"),n=t("./_library"),o=t("./_typed"),a=t("./_hide"),l=t("./_redefine-all"),u=t("./_fails"),c=t("./_an-instance"),p=t("./_to-integer"),m=t("./_to-length"),f=t("./_to-index"),h=t("./_object-gopn").f,d=t("./_object-dp").f,g=t("./_array-fill"),b=t("./_set-to-string-tag"),_="prototype",v="Wrong index!",y=i.ArrayBuffer,x=i.DataView,w=i.Math,A=i.RangeError,E=i.Infinity,j=y,O=w.abs,S=w.pow,k=w.floor,T=w.log,I=w.LN2,N=s?"_b":"buffer",C=s?"_l":"byteLength",D=s?"_o":"byteOffset";function P(t,e,r){var i,s,n,o=new Array(r),a=8*r-e-1,l=(1<<a)-1,u=l>>1,c=23===e?S(2,-24)-S(2,-77):0,p=0,m=t<0||0===t&&1/t<0?1:0;for((t=O(t))!=t||t===E?(s=t!=t?1:0,i=l):(i=k(T(t)/I),t*(n=S(2,-i))<1&&(i--,n*=2),(t+=i+u>=1?c/n:c*S(2,1-u))*n>=2&&(i++,n/=2),i+u>=l?(s=0,i=l):i+u>=1?(s=(t*n-1)*S(2,e),i+=u):(s=t*S(2,u-1)*S(2,e),i=0));e>=8;o[p++]=255&s,s/=256,e-=8);for(i=i<<e|s,a+=e;a>0;o[p++]=255&i,i/=256,a-=8);return o[--p]|=128*m,o}function R(t,e,r){var i,s=8*r-e-1,n=(1<<s)-1,o=n>>1,a=s-7,l=r-1,u=t[l--],c=127&u;for(u>>=7;a>0;c=256*c+t[l],l--,a-=8);for(i=c&(1<<-a)-1,c>>=-a,a+=e;a>0;i=256*i+t[l],l--,a-=8);if(0===c)c=1-o;else{if(c===n)return i?NaN:u?-E:E;i+=S(2,e),c-=o}return(u?-1:1)*i*S(2,c-e)}function F(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function L(t){return[255&t]}function M(t){return[255&t,t>>8&255]}function B(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function U(t){return P(t,52,8)}function z(t){return P(t,23,4)}function q(t,e,r){d(t[_],e,{get:function(){return this[r]}})}function $(t,e,r,i){var s=f(+r);if(s+e>t[C])throw A(v);var n=t[N]._b,o=s+t[D],a=n.slice(o,o+e);return i?a:a.reverse()}function V(t,e,r,i,s,n){var o=f(+r);if(o+e>t[C])throw A(v);for(var a=t[N]._b,l=o+t[D],u=i(+s),c=0;c<e;c++)a[l+c]=u[n?c:e-c-1]}if(o.ABV){if(!u(function(){y(1)})||!u(function(){new y(-1)})||u(function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name})){for(var G,X=(y=function(t){return c(this,y),new j(f(t))})[_]=j[_],W=h(j),H=0;W.length>H;)(G=W[H++])in y||a(y,G,j[G]);n||(X.constructor=y)}var Q=new x(new y(2)),J=x[_].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||l(x[_],{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},!0)}else y=function(t){c(this,y,"ArrayBuffer");var e=f(t);this._b=g.call(new Array(e),0),this[C]=e},x=function(t,e,r){c(this,x,"DataView"),c(t,y,"DataView");var i=t[C],s=p(e);if(s<0||s>i)throw A("Wrong offset!");if(s+(r=void 0===r?i-s:m(r))>i)throw A("Wrong length!");this[N]=t,this[D]=s,this[C]=r},s&&(q(y,"byteLength","_l"),q(x,"buffer","_b"),q(x,"byteLength","_l"),q(x,"byteOffset","_o")),l(x[_],{getInt8:function(t){return $(this,1,t)[0]<<24>>24},getUint8:function(t){return $(this,1,t)[0]},getInt16:function(t){var e=$(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=$(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return F($(this,4,t,arguments[1]))},getUint32:function(t){return F($(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return R($(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return R($(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){V(this,1,t,L,e)},setUint8:function(t,e){V(this,1,t,L,e)},setInt16:function(t,e){V(this,2,t,M,e,arguments[2])},setUint16:function(t,e){V(this,2,t,M,e,arguments[2])},setInt32:function(t,e){V(this,4,t,B,e,arguments[2])},setUint32:function(t,e){V(this,4,t,B,e,arguments[2])},setFloat32:function(t,e){V(this,4,t,z,e,arguments[2])},setFloat64:function(t,e){V(this,8,t,U,e,arguments[2])}});b(y,"ArrayBuffer"),b(x,"DataView"),a(x[_],o.VIEW,!0),r.ArrayBuffer=y,r.DataView=x},{"./_an-instance":5,"./_array-fill":8,"./_descriptors":28,"./_fails":34,"./_global":39,"./_hide":41,"./_library":58,"./_object-dp":70,"./_object-gopn":75,"./_redefine-all":89,"./_set-to-string-tag":96,"./_to-index":110,"./_to-integer":111,"./_to-length":113,"./_typed":118}],118:[function(t,e,r){"use strict";for(var i,s=t("./_global"),n=t("./_hide"),o=t("./_uid"),a=o("typed_array"),l=o("view"),u=!(!s.ArrayBuffer||!s.DataView),c=u,p=0,m="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");p<9;)(i=s[m[p++]])?(n(i.prototype,a,!0),n(i.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:a,VIEW:l}},{"./_global":39,"./_hide":41,"./_uid":119}],119:[function(t,e,r){"use strict";var i=0,s=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+s).toString(36))}},{}],120:[function(t,e,r){"use strict";var i=t("./_global").navigator;e.exports=i&&i.userAgent||""},{"./_global":39}],121:[function(t,e,r){"use strict";var i=t("./_is-object");e.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" CitRequired!");return t}},{"./_is-object":50}],122:[function(t,e,r){"use strict";var i=t("./_global"),s=t("./_core"),n=t("./_library"),o=t("./_wks-ext"),a=t("./_object-dp").f;e.exports=function(t){var e=s.Symbol||(s.Symbol=n?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},{"./_core":22,"./_global":39,"./_library":58,"./_object-dp":70,"./_wks-ext":123}],123:[function(t,e,r){"use strict";r.f=t("./_wks")},{"./_wks":124}],124:[function(t,e,r){"use strict";var i=t("./_shared")("wks"),s=t("./_uid"),n=t("./_global").Symbol,o="function"==typeof n;(e.exports=function(t){return i[t]||(i[t]=o&&n[t]||(o?n:s)("Symbol."+t))}).store=i},{"./_global":39,"./_shared":98,"./_uid":119}],125:[function(t,e,r){"use strict";var i=t("./_classof"),s=t("./_wks")("iterator"),n=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(null!=t)return t[s]||t["@@iterator"]||n[i(t)]}},{"./_classof":16,"./_core":22,"./_iterators":57,"./_wks":124}],126:[function(t,e,r){"use strict";var i=t("./_export");i(i.P,"Array",{copyWithin:t("./_array-copy-within")}),t("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":4,"./_array-copy-within":7,"./_export":32}],127:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-methods")(4);i(i.P+i.F*!t("./_strict-method")([].every,!0),"Array",{every:function(t){return s(this,t,arguments[1])}})},{"./_array-methods":11,"./_export":32,"./_strict-method":100}],128:[function(t,e,r){"use strict";var i=t("./_export");i(i.P,"Array",{fill:t("./_array-fill")}),t("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":4,"./_array-fill":8,"./_export":32}],129:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-methods")(2);i(i.P+i.F*!t("./_strict-method")([].filter,!0),"Array",{filter:function(t){return s(this,t,arguments[1])}})},{"./_array-methods":11,"./_export":32,"./_strict-method":100}],130:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-methods")(6),n="findIndex",o=!0;n in[]&&Array(1)[n](function(){o=!1}),i(i.P+i.F*o,"Array",{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(n)},{"./_add-to-unscopables":4,"./_array-methods":11,"./_export":32}],131:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-methods")(5),n=!0;"find"in[]&&Array(1).find(function(){n=!1}),i(i.P+i.F*n,"Array",{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("find")},{"./_add-to-unscopables":4,"./_array-methods":11,"./_export":32}],132:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-methods")(0),n=t("./_strict-method")([].forEach,!0);i(i.P+i.F*!n,"Array",{forEach:function(t){return s(this,t,arguments[1])}})},{"./_array-methods":11,"./_export":32,"./_strict-method":100}],133:[function(t,e,r){"use strict";var i=t("./_ctx"),s=t("./_export"),n=t("./_to-object"),o=t("./_iter-call"),a=t("./_is-array-iter"),l=t("./_to-length"),u=t("./_create-property"),c=t("./core.get-iterator-method");s(s.S+s.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,s,p,m=n(t),f="function"==typeof this?this:Array,h=arguments.length,d=h>1?arguments[1]:void 0,g=void 0!==d,b=0,_=c(m);if(g&&(d=i(d,h>2?arguments[2]:void 0,2)),null==_||f==Array&&a(_))for(r=new f(e=l(m.length));e>b;b++)u(r,b,g?d(m[b],b):m[b]);else for(p=_.call(m),r=new f;!(s=p.next()).done;b++)u(r,b,g?o(p,d,[s.value,b],!0):s.value);return r.length=b,r}})},{"./_create-property":23,"./_ctx":24,"./_export":32,"./_is-array-iter":47,"./_iter-call":52,"./_iter-detect":55,"./_to-length":113,"./_to-object":114,"./core.get-iterator-method":125}],134:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-includes")(!1),n=[].indexOf,o=!!n&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(o||!t("./_strict-method")(n)),"Array",{indexOf:function(t){return o?n.apply(this,arguments)||0:s(this,t,arguments[1])}})},{"./_array-includes":10,"./_export":32,"./_strict-method":100}],135:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Array",{isArray:t("./_is-array")})},{"./_export":32,"./_is-array":48}],136:[function(t,e,r){"use strict";var i=t("./_add-to-unscopables"),s=t("./_iter-step"),n=t("./_iterators"),o=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,s(1)):s(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),n.Arguments=n.Array,i("keys"),i("values"),i("entries")},{"./_add-to-unscopables":4,"./_iter-define":54,"./_iter-step":56,"./_iterators":57,"./_to-iobject":112}],137:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-iobject"),n=[].join;i(i.P+i.F*(t("./_iobject")!=Object||!t("./_strict-method")(n)),"Array",{join:function(t){return n.call(s(this),void 0===t?",":t)}})},{"./_export":32,"./_iobject":46,"./_strict-method":100,"./_to-iobject":112}],138:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-iobject"),n=t("./_to-integer"),o=t("./_to-length"),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!t("./_strict-method")(a)),"Array",{lastIndexOf:function(t){if(l)return a.apply(this,arguments)||0;var e=s(this),r=o(e.length),i=r-1;for(arguments.length>1&&(i=Math.min(i,n(arguments[1]))),i<0&&(i=r+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},{"./_export":32,"./_strict-method":100,"./_to-integer":111,"./_to-iobject":112,"./_to-length":113}],139:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-methods")(1);i(i.P+i.F*!t("./_strict-method")([].map,!0),"Array",{map:function(t){return s(this,t,arguments[1])}})},{"./_array-methods":11,"./_export":32,"./_strict-method":100}],140:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_create-property");i(i.S+i.F*t("./_fails")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,r=new("function"==typeof this?this:Array)(e);e>t;)s(r,t,arguments[t++]);return r.length=e,r}})},{"./_create-property":23,"./_export":32,"./_fails":34}],141:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-reduce");i(i.P+i.F*!t("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(t){return s(this,t,arguments.length,arguments[1],!0)}})},{"./_array-reduce":12,"./_export":32,"./_strict-method":100}],142:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-reduce");i(i.P+i.F*!t("./_strict-method")([].reduce,!0),"Array",{reduce:function(t){return s(this,t,arguments.length,arguments[1],!1)}})},{"./_array-reduce":12,"./_export":32,"./_strict-method":100}],143:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_html"),n=t("./_cof"),o=t("./_to-absolute-index"),a=t("./_to-length"),l=[].slice;i(i.P+i.F*t("./_fails")(function(){s&&l.call(s)}),"Array",{slice:function(t,e){var r=a(this.length),i=n(this);if(e=void 0===e?r:e,"Array"==i)return l.call(this,t,e);for(var s=o(t,r),u=o(e,r),c=a(u-s),p=new Array(c),m=0;m<c;m++)p[m]="String"==i?this.charAt(s+m):this[s+m];return p}})},{"./_cof":17,"./_export":32,"./_fails":34,"./_html":42,"./_to-absolute-index":109,"./_to-length":113}],144:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-methods")(3);i(i.P+i.F*!t("./_strict-method")([].some,!0),"Array",{some:function(t){return s(this,t,arguments[1])}})},{"./_array-methods":11,"./_export":32,"./_strict-method":100}],145:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_a-function"),n=t("./_to-object"),o=t("./_fails"),a=[].sort,l=[1,2,3];i(i.P+i.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!t("./_strict-method")(a)),"Array",{sort:function(t){return void 0===t?a.call(n(this)):a.call(n(this),s(t))}})},{"./_a-function":2,"./_export":32,"./_fails":34,"./_strict-method":100,"./_to-object":114}],146:[function(t,e,r){"use strict";t("./_set-species")("Array")},{"./_set-species":95}],147:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":32}],148:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_date-to-iso-string");i(i.P+i.F*(Date.prototype.toISOString!==s),"Date",{toISOString:s})},{"./_date-to-iso-string":25,"./_export":32}],149:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-object"),n=t("./_to-primitive");i(i.P+i.F*t("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=s(this),r=n(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},{"./_export":32,"./_fails":34,"./_to-object":114,"./_to-primitive":115}],150:[function(t,e,r){"use strict";var i=t("./_wks")("toPrimitive"),s=Date.prototype;i in s||t("./_hide")(s,i,t("./_date-to-primitive"))},{"./_date-to-primitive":26,"./_hide":41,"./_wks":124}],151:[function(t,e,r){"use strict";var i=Date.prototype,s=i.toString,n=i.getTime;new Date(NaN)+""!="Invalid Date"&&t("./_redefine")(i,"toString",function(){var t=n.call(this);return t==t?s.call(this):"Invalid Date"})},{"./_redefine":90}],152:[function(t,e,r){"use strict";var i=t("./_export");i(i.P,"Function",{bind:t("./_bind")})},{"./_bind":15,"./_export":32}],153:[function(t,e,r){"use strict";var i=t("./_is-object"),s=t("./_object-gpo"),n=t("./_wks")("hasInstance"),o=Function.prototype;n in o||t("./_object-dp").f(o,n,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=s(t);)if(this.prototype===t)return!0;return!1}})},{"./_is-object":50,"./_object-dp":70,"./_object-gpo":77,"./_wks":124}],154:[function(t,e,r){"use strict";var i=t("./_object-dp").f,s=Function.prototype,n=/^\s*function ([^ (]*)/;"name"in s||t("./_descriptors")&&i(s,"name",{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},{"./_descriptors":28,"./_object-dp":70}],155:[function(t,e,r){"use strict";var i=t("./_collection-strong"),s=t("./_validate-collection");e.exports=t("./_collection")("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(s(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(s(this,"Map"),0===t?0:t,e)}},i,!0)},{"./_collection":21,"./_collection-strong":18,"./_validate-collection":121}],156:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_math-log1p"),n=Math.sqrt,o=Math.acosh;i(i.S+i.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:s(t-1+n(t-1)*n(t+1))}})},{"./_export":32,"./_math-log1p":61}],157:[function(t,e,r){"use strict";var i=t("./_export"),s=Math.asinh;i(i.S+i.F*!(s&&1/s(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},{"./_export":32}],158:[function(t,e,r){"use strict";var i=t("./_export"),s=Math.atanh;i(i.S+i.F*!(s&&1/s(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{"./_export":32}],159:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_math-sign");i(i.S,"Math",{cbrt:function(t){return s(t=+t)*Math.pow(Math.abs(t),1/3)}})},{"./_export":32,"./_math-sign":63}],160:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{"./_export":32}],161:[function(t,e,r){"use strict";var i=t("./_export"),s=Math.exp;i(i.S,"Math",{cosh:function(t){return(s(t=+t)+s(-t))/2}})},{"./_export":32}],162:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_math-expm1");i(i.S+i.F*(s!=Math.expm1),"Math",{expm1:s})},{"./_export":32,"./_math-expm1":59}],163:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{fround:t("./_math-fround")})},{"./_export":32,"./_math-fround":60}],164:[function(t,e,r){"use strict";var i=t("./_export"),s=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var r,i,n=0,o=0,a=arguments.length,l=0;o<a;)l<(r=s(arguments[o++]))?(n=n*(i=l/r)*i+1,l=r):n+=r>0?(i=r/l)*i:r;return l===1/0?1/0:l*Math.sqrt(n)}})},{"./_export":32}],165:[function(t,e,r){"use strict";var i=t("./_export"),s=Math.imul;i(i.S+i.F*t("./_fails")(function(){return-5!=s(4294967295,5)||2!=s.length}),"Math",{imul:function(t,e){var r=+t,i=+e,s=65535&r,n=65535&i;return 0|s*n+((65535&r>>>16)*n+s*(65535&i>>>16)<<16>>>0)}})},{"./_export":32,"./_fails":34}],166:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{"./_export":32}],167:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{log1p:t("./_math-log1p")})},{"./_export":32,"./_math-log1p":61}],168:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{"./_export":32}],169:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{sign:t("./_math-sign")})},{"./_export":32,"./_math-sign":63}],170:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_math-expm1"),n=Math.exp;i(i.S+i.F*t("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(s(t)-s(-t))/2:(n(t-1)-n(-t-1))*(Math.E/2)}})},{"./_export":32,"./_fails":34,"./_math-expm1":59}],171:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_math-expm1"),n=Math.exp;i(i.S,"Math",{tanh:function(t){var e=s(t=+t),r=s(-t);return e==1/0?1:r==1/0?-1:(e-r)/(n(t)+n(-t))}})},{"./_export":32,"./_math-expm1":59}],172:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},{"./_export":32}],173:[function(t,e,r){"use strict";var i=t("./_global"),s=t("./_has"),n=t("./_cof"),o=t("./_inherit-if-CitRequired"),a=t("./_to-primitive"),l=t("./_fails"),u=t("./_object-gopn").f,c=t("./_object-gopd").f,p=t("./_object-dp").f,m=t("./_string-trim").trim,f=i.Number,h=f,d=f.prototype,g="Number"==n(t("./_object-create")(d)),b="trim"in String.prototype,_=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var r,i,s,n=(e=b?e.trim():m(e,3)).charCodeAt(0);if(43===n||45===n){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+e}for(var o,l=e.slice(2),u=0,c=l.length;u<c;u++)if((o=l.charCodeAt(u))<48||o>s)return NaN;return parseInt(l,i)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof f&&(g?l(function(){d.valueOf.call(r)}):"Number"!=n(r))?o(new h(_(e)),r,f):_(e)};for(var v,y=t("./_descriptors")?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;y.length>x;x++)s(h,v=y[x])&&!s(f,v)&&p(f,v,c(h,v));f.prototype=d,d.constructor=f,t("./_redefine")(i,"Number",f)}},{"./_cof":17,"./_descriptors":28,"./_fails":34,"./_global":39,"./_has":40,"./_inherit-if-CitRequired":44,"./_object-create":69,"./_object-dp":70,"./_object-gopd":73,"./_object-gopn":75,"./_redefine":90,"./_string-trim":106,"./_to-primitive":115}],174:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":32}],175:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_global").isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&s(t)}})},{"./_export":32,"./_global":39}],176:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Number",{isInteger:t("./_is-integer")})},{"./_export":32,"./_is-integer":49}],177:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Number",{isNaN:function(t){return t!=t}})},{"./_export":32}],178:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_is-integer"),n=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return s(t)&&n(t)<=9007199254740991}})},{"./_export":32,"./_is-integer":49}],179:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":32}],180:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":32}],181:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_parse-float");i(i.S+i.F*(Number.parseFloat!=s),"Number",{parseFloat:s})},{"./_export":32,"./_parse-float":84}],182:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_parse-int");i(i.S+i.F*(Number.parseInt!=s),"Number",{parseInt:s})},{"./_export":32,"./_parse-int":85}],183:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-integer"),n=t("./_a-number-value"),o=t("./_string-repeat"),a=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",p=function(t,e){for(var r=-1,i=e;++r<6;)i+=t*u[r],u[r]=i%1e7,i=l(i/1e7)},m=function(t){for(var e=6,r=0;--e>=0;)r+=u[e],u[e]=l(r/t),r=r%t*1e7},f=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var r=String(u[t]);e=""===e?r:e+o.call("0",7-r.length)+r}return e},h=function t(e,r,i){return 0===r?i:r%2==1?t(e,r-1,i*e):t(e*e,r/2,i)};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t("./_fails")(function(){a.call({})})),"Number",{toFixed:function(t){var e,r,i,a,l=n(this,c),u=s(t),d="",g="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(d="-",l=-l),l>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(l*h(2,69,1))-69)<0?l*h(2,-e,1):l/h(2,e,1),r*=4503599627370496,(e=52-e)>0){for(p(0,r),i=u;i>=7;)p(1e7,0),i-=7;for(p(h(10,i,1),0),i=e-1;i>=23;)m(1<<23),i-=23;m(1<<i),p(1,1),m(2),g=f()}else p(0,r),p(1<<-e,0),g=f()+o.call("0",u);return g=u>0?d+((a=g.length)<=u?"0."+o.call("0",u-a)+g:g.slice(0,a-u)+"."+g.slice(a-u)):d+g}})},{"./_a-number-value":3,"./_export":32,"./_fails":34,"./_string-repeat":105,"./_to-integer":111}],184:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_fails"),n=t("./_a-number-value"),o=1..toPrecision;i(i.P+i.F*(s(function(){return"1"!==o.call(1,void 0)})||!s(function(){o.call({})})),"Number",{toPrecision:function(t){var e=n(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},{"./_a-number-value":3,"./_export":32,"./_fails":34}],185:[function(t,e,r){"use strict";var i=t("./_export");i(i.S+i.F,"Object",{assign:t("./_object-assign")})},{"./_export":32,"./_object-assign":68}],186:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Object",{create:t("./_object-create")})},{"./_export":32,"./_object-create":69}],187:[function(t,e,r){"use strict";var i=t("./_export");i(i.S+i.F*!t("./_descriptors"),"Object",{defineProperties:t("./_object-dps")})},{"./_descriptors":28,"./_export":32,"./_object-dps":71}],188:[function(t,e,r){"use strict";var i=t("./_export");i(i.S+i.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":28,"./_export":32,"./_object-dp":70}],189:[function(t,e,r){"use strict";var i=t("./_is-object"),s=t("./_meta").onFreeze;t("./_object-sap")("freeze",function(t){return function(e){return t&&i(e)?t(s(e)):e}})},{"./_is-object":50,"./_meta":64,"./_object-sap":81}],190:[function(t,e,r){"use strict";var i=t("./_to-iobject"),s=t("./_object-gopd").f;t("./_object-sap")("getOwnPropertyDescriptor",function(){return function(t,e){return s(i(t),e)}})},{"./_object-gopd":73,"./_object-sap":81,"./_to-iobject":112}],191:[function(t,e,r){"use strict";t("./_object-sap")("getOwnPropertyNames",function(){return t("./_object-gopn-ext").f})},{"./_object-gopn-ext":74,"./_object-sap":81}],192:[function(t,e,r){"use strict";var i=t("./_to-object"),s=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",function(){return function(t){return s(i(t))}})},{"./_object-gpo":77,"./_object-sap":81,"./_to-object":114}],193:[function(t,e,r){"use strict";var i=t("./_is-object");t("./_object-sap")("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},{"./_is-object":50,"./_object-sap":81}],194:[function(t,e,r){"use strict";var i=t("./_is-object");t("./_object-sap")("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},{"./_is-object":50,"./_object-sap":81}],195:[function(t,e,r){"use strict";var i=t("./_is-object");t("./_object-sap")("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},{"./_is-object":50,"./_object-sap":81}],196:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Object",{is:t("./_same-value")})},{"./_export":32,"./_same-value":91}],197:[function(t,e,r){"use strict";var i=t("./_to-object"),s=t("./_object-keys");t("./_object-sap")("keys",function(){return function(t){return s(i(t))}})},{"./_object-keys":79,"./_object-sap":81,"./_to-object":114}],198:[function(t,e,r){"use strict";var i=t("./_is-object"),s=t("./_meta").onFreeze;t("./_object-sap")("preventExtensions",function(t){return function(e){return t&&i(e)?t(s(e)):e}})},{"./_is-object":50,"./_meta":64,"./_object-sap":81}],199:[function(t,e,r){"use strict";var i=t("./_is-object"),s=t("./_meta").onFreeze;t("./_object-sap")("seal",function(t){return function(e){return t&&i(e)?t(s(e)):e}})},{"./_is-object":50,"./_meta":64,"./_object-sap":81}],200:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Object",{setPrototypeOf:t("./_set-proto").set})},{"./_export":32,"./_set-proto":94}],201:[function(t,e,r){"use strict";var i=t("./_classof"),s={};s[t("./_wks")("toStringTag")]="z",s+""!="[object z]"&&t("./_redefine")(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},{"./_classof":16,"./_redefine":90,"./_wks":124}],202:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_parse-float");i(i.G+i.F*(parseFloat!=s),{parseFloat:s})},{"./_export":32,"./_parse-float":84}],203:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_parse-int");i(i.G+i.F*(parseInt!=s),{parseInt:s})},{"./_export":32,"./_parse-int":85}],204:[function(t,e,r){"use strict";var i,s,n,o,a=t("./_library"),l=t("./_global"),u=t("./_ctx"),c=t("./_classof"),p=t("./_export"),m=t("./_is-object"),f=t("./_a-function"),h=t("./_an-instance"),d=t("./_for-of"),g=t("./_species-constructor"),b=t("./_task").set,_=t("./_microtask")(),v=t("./_new-promise-capability"),y=t("./_perform"),x=t("./_user-agent"),w=t("./_promise-resolve"),A=l.TypeError,E=l.process,j=E&&E.versions,O=j&&j.v8||"",S=l.Promise,k="process"==c(E),T=function(){},I=s=v.f,N=!!function(){try{var e=S.resolve(1),r=(e.constructor={})[t("./_wks")("species")]=function(t){t(T,T)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof r&&0!==O.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),C=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var r=t._c;_(function(){for(var i=t._v,s=1==t._s,n=0,o=function(e){var r,n,o,a=s?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{a?(s||(2==t._h&&F(t),t._h=1),!0===a?r=i:(c&&c.enter(),r=a(i),c&&(c.exit(),o=!0)),r===e.promise?u(A("Promise-chain cycle")):(n=C(r))?n.call(r,l,u):l(r)):u(i)}catch(t){c&&!o&&c.exit(),u(t)}};r.length>n;)o(r[n++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){b.call(l,function(){var e,r,i,s=t._v,n=R(t);if(n&&(e=y(function(){k?E.emit("unhandledRejection",s,t):(r=l.onunhandledrejection)?r({promise:t,reason:s}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",s)}),t._h=k||R(t)?2:1),t._a=void 0,n&&e.e)throw e.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){b.call(l,function(){var e;k?E.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},M=function t(e){var r,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw A("Promise can't be resolved itself");(r=C(e))?_(function(){var s={_w:i,_d:!1};try{r.call(e,u(t,s,1),u(L,s,1))}catch(t){L.call(s,t)}}):(i._v=e,i._s=1,D(i,!1))}catch(t){L.call({_w:i,_d:!1},t)}}};N||(S=function(t){h(this,S,"Promise","_h"),f(t),i.call(this);try{t(u(M,this,1),u(L,this,1))}catch(t){L.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t("./_redefine-all")(S.prototype,{then:function(t,e){var r=I(g(this,S));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=k?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&D(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),n=function(){var t=new i;this.promise=t,this.resolve=u(M,t,1),this.reject=u(L,t,1)},v.f=I=function(t){return t===S||t===o?new n(t):s(t)}),p(p.G+p.W+p.F*!N,{Promise:S}),t("./_set-to-string-tag")(S,"Promise"),t("./_set-species")("Promise"),o=t("./_core").Promise,p(p.S+p.F*!N,"Promise",{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(a||!N),"Promise",{resolve:function(t){return w(a&&this===o?S:this,t)}}),p(p.S+p.F*!(N&&t("./_iter-detect")(function(t){S.all(t).catch(T)})),"Promise",{all:function(t){var e=this,r=I(e),i=r.resolve,s=r.reject,n=y(function(){var r=[],n=0,o=1;d(t,!1,function(t){var a=n++,l=!1;r.push(void 0),o++,e.resolve(t).then(function(t){l||(l=!0,r[a]=t,--o||i(r))},s)}),--o||i(r)});return n.e&&s(n.v),r.promise},race:function(t){var e=this,r=I(e),i=r.reject,s=y(function(){d(t,!1,function(t){e.resolve(t).then(r.resolve,i)})});return s.e&&i(s.v),r.promise}})},{"./_a-function":2,"./_an-instance":5,"./_classof":16,"./_core":22,"./_ctx":24,"./_export":32,"./_for-of":38,"./_global":39,"./_is-object":50,"./_iter-detect":55,"./_library":58,"./_microtask":66,"./_new-promise-capability":67,"./_perform":86,"./_promise-resolve":87,"./_redefine-all":89,"./_set-species":95,"./_set-to-string-tag":96,"./_species-constructor":99,"./_task":108,"./_user-agent":120,"./_wks":124}],205:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_a-function"),n=t("./_an-object"),o=(t("./_global").Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!t("./_fails")(function(){o(function(){})}),"Reflect",{apply:function(t,e,r){var i=s(t),l=n(r);return o?o(i,e,l):a.call(i,e,l)}})},{"./_a-function":2,"./_an-object":6,"./_export":32,"./_fails":34,"./_global":39}],206:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_object-create"),n=t("./_a-function"),o=t("./_an-object"),a=t("./_is-object"),l=t("./_fails"),u=t("./_bind"),c=(t("./_global").Reflect||{}).construct,p=l(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),m=!l(function(){c(function(){})});i(i.S+i.F*(p||m),"Reflect",{construct:function(t,e){n(t),o(e);var r=arguments.length<3?t:n(arguments[2]);if(m&&!p)return c(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}var l=r.prototype,f=s(a(l)?l:Object.prototype),h=Function.apply.call(t,f,e);return a(h)?h:f}})},{"./_a-function":2,"./_an-object":6,"./_bind":15,"./_export":32,"./_fails":34,"./_global":39,"./_is-object":50,"./_object-create":69}],207:[function(t,e,r){"use strict";var i=t("./_object-dp"),s=t("./_export"),n=t("./_an-object"),o=t("./_to-primitive");s(s.S+s.F*t("./_fails")(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,r){n(t),e=o(e,!0),n(r);try{return i.f(t,e,r),!0}catch(t){return!1}}})},{"./_an-object":6,"./_export":32,"./_fails":34,"./_object-dp":70,"./_to-primitive":115}],208:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_object-gopd").f,n=t("./_an-object");i(i.S,"Reflect",{deleteProperty:function(t,e){var r=s(n(t),e);return!(r&&!r.configurable)&&delete t[e]}})},{"./_an-object":6,"./_export":32,"./_object-gopd":73}],209:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_an-object"),n=function(t){this._t=s(t),this._i=0;var e,r=this._k=[];for(e in t)r.push(e)};t("./_iter-create")(n,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new n(t)}})},{"./_an-object":6,"./_export":32,"./_iter-create":53}],210:[function(t,e,r){"use strict";var i=t("./_object-gopd"),s=t("./_export"),n=t("./_an-object");s(s.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(n(t),e)}})},{"./_an-object":6,"./_export":32,"./_object-gopd":73}],211:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_object-gpo"),n=t("./_an-object");i(i.S,"Reflect",{getPrototypeOf:function(t){return s(n(t))}})},{"./_an-object":6,"./_export":32,"./_object-gpo":77}],212:[function(t,e,r){"use strict";var i=t("./_object-gopd"),s=t("./_object-gpo"),n=t("./_has"),o=t("./_export"),a=t("./_is-object"),l=t("./_an-object");o(o.S,"Reflect",{get:function t(e,r){var o,u,c=arguments.length<3?e:arguments[2];return l(e)===c?e[r]:(o=i.f(e,r))?n(o,"value")?o.value:void 0!==o.get?o.get.call(c):void 0:a(u=s(e))?t(u,r,c):void 0}})},{"./_an-object":6,"./_export":32,"./_has":40,"./_is-object":50,"./_object-gopd":73,"./_object-gpo":77}],213:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Reflect",{has:function(t,e){return e in t}})},{"./_export":32}],214:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_an-object"),n=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return s(t),!n||n(t)}})},{"./_an-object":6,"./_export":32}],215:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Reflect",{ownKeys:t("./_own-keys")})},{"./_export":32,"./_own-keys":83}],216:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_an-object"),n=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){s(t);try{return n&&n(t),!0}catch(t){return!1}}})},{"./_an-object":6,"./_export":32}],217:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_set-proto");s&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){s.check(t,e);try{return s.set(t,e),!0}catch(t){return!1}}})},{"./_export":32,"./_set-proto":94}],218:[function(t,e,r){"use strict";var i=t("./_object-dp"),s=t("./_object-gopd"),n=t("./_object-gpo"),o=t("./_has"),a=t("./_export"),l=t("./_property-desc"),u=t("./_an-object"),c=t("./_is-object");a(a.S,"Reflect",{set:function t(e,r,a){var p,m,f=arguments.length<4?e:arguments[3],h=s.f(u(e),r);if(!h){if(c(m=n(e)))return t(m,r,a,f);h=l(0)}if(o(h,"value")){if(!1===h.writable||!c(f))return!1;if(p=s.f(f,r)){if(p.get||p.set||!1===p.writable)return!1;p.value=a,i.f(f,r,p)}else i.f(f,r,l(0,a));return!0}return void 0!==h.set&&(h.set.call(f,a),!0)}})},{"./_an-object":6,"./_export":32,"./_has":40,"./_is-object":50,"./_object-dp":70,"./_object-gopd":73,"./_object-gpo":77,"./_property-desc":88}],219:[function(t,e,r){"use strict";var i=t("./_global"),s=t("./_inherit-if-CitRequired"),n=t("./_object-dp").f,o=t("./_object-gopn").f,a=t("./_is-regexp"),l=t("./_flags"),u=i.RegExp,c=u,p=u.prototype,m=/a/g,f=/a/g,h=new u(m)!==m;if(t("./_descriptors")&&(!h||t("./_fails")(function(){return f[t("./_wks")("match")]=!1,u(m)!=m||u(f)==f||"/a/i"!=u(m,"i")}))){u=function(t,e){var r=this instanceof u,i=a(t),n=void 0===e;return!r&&i&&t.constructor===u&&n?t:s(h?new c(i&&!n?t.source:t,e):c((i=t instanceof u)?t.source:t,i&&n?l.call(t):e),r?this:p,u)};for(var d=function(t){t in u||n(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},g=o(c),b=0;g.length>b;)d(g[b++]);p.constructor=u,u.prototype=p,t("./_redefine")(i,"RegExp",u)}t("./_set-species")("RegExp")},{"./_descriptors":28,"./_fails":34,"./_flags":36,"./_global":39,"./_inherit-if-CitRequired":44,"./_is-regexp":51,"./_object-dp":70,"./_object-gopn":75,"./_redefine":90,"./_set-species":95,"./_wks":124}],220:[function(t,e,r){"use strict";t("./_descriptors")&&"g"!=/./g.flags&&t("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:t("./_flags")})},{"./_descriptors":28,"./_flags":36,"./_object-dp":70}],221:[function(t,e,r){"use strict";t("./_fix-re-wks")("match",1,function(t,e,r){return[function(r){var i=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,i):new RegExp(r)[e](String(i))},r]})},{"./_fix-re-wks":35}],222:[function(t,e,r){"use strict";t("./_fix-re-wks")("replace",2,function(t,e,r){return[function(i,s){var n=t(this),o=null==i?void 0:i[e];return void 0!==o?o.call(i,n,s):r.call(String(n),i,s)},r]})},{"./_fix-re-wks":35}],223:[function(t,e,r){"use strict";t("./_fix-re-wks")("search",1,function(t,e,r){return[function(r){var i=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,i):new RegExp(r)[e](String(i))},r]})},{"./_fix-re-wks":35}],224:[function(t,e,r){"use strict";t("./_fix-re-wks")("split",2,function(e,r,i){var s=t("./_is-regexp"),n=i,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];i=function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!s(t))return n.call(r,t,e);var i,l,u,c,p,m=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,d=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,f+"g");for(a||(i=new RegExp("^"+g.source+"$(?!\\s)",f));(l=g.exec(r))&&!((u=l.index+l[0].length)>h&&(m.push(r.slice(h,l.index)),!a&&l.length>1&&l[0].replace(i,function(){for(p=1;p<arguments.length-2;p++)void 0===arguments[p]&&(l[p]=void 0)}),l.length>1&&l.index<r.length&&o.apply(m,l.slice(1)),c=l[0].length,h=u,m.length>=d));)g.lastIndex===l.index&&g.lastIndex++;return h===r.length?!c&&g.test("")||m.push(""):m.push(r.slice(h)),m.length>d?m.slice(0,d):m}}else"0".split(void 0,0).length&&(i=function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)});return[function(t,s){var n=e(this),o=null==t?void 0:t[r];return void 0!==o?o.call(t,n,s):i.call(String(n),t,s)},i]})},{"./_fix-re-wks":35,"./_is-regexp":51}],225:[function(t,e,r){"use strict";t("./es6.regexp.flags");var i=t("./_an-object"),s=t("./_flags"),n=t("./_descriptors"),o=/./.toString,a=function(e){t("./_redefine")(RegExp.prototype,"toString",e,!0)};t("./_fails")(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?a(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!n&&t instanceof RegExp?s.call(t):void 0)}):"toString"!=o.name&&a(function(){return o.call(this)})},{"./_an-object":6,"./_descriptors":28,"./_fails":34,"./_flags":36,"./_redefine":90,"./es6.regexp.flags":220}],226:[function(t,e,r){"use strict";var i=t("./_collection-strong"),s=t("./_validate-collection");e.exports=t("./_collection")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(s(this,"Set"),t=0===t?0:t,t)}},i)},{"./_collection":21,"./_collection-strong":18,"./_validate-collection":121}],227:[function(t,e,r){"use strict";t("./_string-html")("anchor",function(t){return function(e){return t(this,"a","name",e)}})},{"./_string-html":103}],228:[function(t,e,r){"use strict";t("./_string-html")("big",function(t){return function(){return t(this,"big","","")}})},{"./_string-html":103}],229:[function(t,e,r){"use strict";t("./_string-html")("blink",function(t){return function(){return t(this,"blink","","")}})},{"./_string-html":103}],230:[function(t,e,r){"use strict";t("./_string-html")("bold",function(t){return function(){return t(this,"b","","")}})},{"./_string-html":103}],231:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_string-at")(!1);i(i.P,"String",{codePointAt:function(t){return s(this,t)}})},{"./_export":32,"./_string-at":101}],232:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-length"),n=t("./_string-context"),o="".endsWith;i(i.P+i.F*t("./_fails-is-regexp")("endsWith"),"String",{endsWith:function(t){var e=n(this,t,"endsWith"),r=arguments.length>1?arguments[1]:void 0,i=s(e.length),a=void 0===r?i:Math.min(s(r),i),l=String(t);return o?o.call(e,l,a):e.slice(a-l.length,a)===l}})},{"./_export":32,"./_fails-is-regexp":33,"./_string-context":102,"./_to-length":113}],233:[function(t,e,r){"use strict";t("./_string-html")("fixed",function(t){return function(){return t(this,"tt","","")}})},{"./_string-html":103}],234:[function(t,e,r){"use strict";t("./_string-html")("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},{"./_string-html":103}],235:[function(t,e,r){"use strict";t("./_string-html")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},{"./_string-html":103}],236:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-absolute-index"),n=String.fromCharCode,o=String.fromCodePoint;i(i.S+i.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,r=[],i=arguments.length,o=0;i>o;){if(e=+arguments[o++],s(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?n(e):n(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}})},{"./_export":32,"./_to-absolute-index":109}],237:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_string-context");i(i.P+i.F*t("./_fails-is-regexp")("includes"),"String",{includes:function(t){return!!~s(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{"./_export":32,"./_fails-is-regexp":33,"./_string-context":102}],238:[function(t,e,r){"use strict";t("./_string-html")("italics",function(t){return function(){return t(this,"i","","")}})},{"./_string-html":103}],239:[function(t,e,r){"use strict";var i=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":54,"./_string-at":101}],240:[function(t,e,r){"use strict";t("./_string-html")("link",function(t){return function(e){return t(this,"a","href",e)}})},{"./_string-html":103}],241:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-iobject"),n=t("./_to-length");i(i.S,"String",{raw:function(t){for(var e=s(t.raw),r=n(e.length),i=arguments.length,o=[],a=0;r>a;)o.push(String(e[a++])),a<i&&o.push(String(arguments[a]));return o.join("")}})},{"./_export":32,"./_to-iobject":112,"./_to-length":113}],242:[function(t,e,r){"use strict";var i=t("./_export");i(i.P,"String",{repeat:t("./_string-repeat")})},{"./_export":32,"./_string-repeat":105}],243:[function(t,e,r){"use strict";t("./_string-html")("small",function(t){return function(){return t(this,"small","","")}})},{"./_string-html":103}],244:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-length"),n=t("./_string-context"),o="".startsWith;i(i.P+i.F*t("./_fails-is-regexp")("startsWith"),"String",{startsWith:function(t){var e=n(this,t,"startsWith"),r=s(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return o?o.call(e,i,r):e.slice(r,r+i.length)===i}})},{"./_export":32,"./_fails-is-regexp":33,"./_string-context":102,"./_to-length":113}],245:[function(t,e,r){"use strict";t("./_string-html")("strike",function(t){return function(){return t(this,"strike","","")}})},{"./_string-html":103}],246:[function(t,e,r){"use strict";t("./_string-html")("sub",function(t){return function(){return t(this,"sub","","")}})},{"./_string-html":103}],247:[function(t,e,r){"use strict";t("./_string-html")("sup",function(t){return function(){return t(this,"sup","","")}})},{"./_string-html":103}],248:[function(t,e,r){"use strict";t("./_string-trim")("trim",function(t){return function(){return t(this,3)}})},{"./_string-trim":106}],249:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("./_global"),n=t("./_has"),o=t("./_descriptors"),a=t("./_export"),l=t("./_redefine"),u=t("./_meta").KEY,c=t("./_fails"),p=t("./_shared"),m=t("./_set-to-string-tag"),f=t("./_uid"),h=t("./_wks"),d=t("./_wks-ext"),g=t("./_wks-define"),b=t("./_enum-keys"),_=t("./_is-array"),v=t("./_an-object"),y=t("./_is-object"),x=t("./_to-iobject"),w=t("./_to-primitive"),A=t("./_property-desc"),E=t("./_object-create"),j=t("./_object-gopn-ext"),O=t("./_object-gopd"),S=t("./_object-dp"),k=t("./_object-keys"),T=O.f,I=S.f,N=j.f,C=s.Symbol,D=s.JSON,P=D&&D.stringify,R=h("_hidden"),F=h("toPrimitive"),L={}.propertyIsEnumerable,M=p("symbol-registry"),B=p("symbols"),U=p("op-symbols"),z=Object.prototype,q="function"==typeof C,$=s.QObject,V=!$||!$.prototype||!$.prototype.findChild,G=o&&c(function(){return 7!=E(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,e,r){var i=T(z,e);i&&delete z[e],I(t,e,r),i&&t!==z&&I(z,e,i)}:I,X=function(t){var e=B[t]=E(C.prototype);return e._k=t,e},W=q&&"symbol"==i(C.iterator)?function(t){return"symbol"==i(t)}:function(t){return t instanceof C},H=function(t,e,r){return t===z&&H(U,e,r),v(t),e=w(e,!0),v(r),n(B,e)?(r.enumerable?(n(t,R)&&t[R][e]&&(t[R][e]=!1),r=E(r,{enumerable:A(0,!1)})):(n(t,R)||I(t,R,A(1,{})),t[R][e]=!0),G(t,e,r)):I(t,e,r)},Q=function(t,e){v(t);for(var r,i=b(e=x(e)),s=0,n=i.length;n>s;)H(t,r=i[s++],e[r]);return t},J=function(t){var e=L.call(this,t=w(t,!0));return!(this===z&&n(B,t)&&!n(U,t))&&(!(e||!n(this,t)||!n(B,t)||n(this,R)&&this[R][t])||e)},K=function(t,e){if(t=x(t),e=w(e,!0),t!==z||!n(B,e)||n(U,e)){var r=T(t,e);return!r||!n(B,e)||n(t,R)&&t[R][e]||(r.enumerable=!0),r}},Y=function(t){for(var e,r=N(x(t)),i=[],s=0;r.length>s;)n(B,e=r[s++])||e==R||e==u||i.push(e);return i},Z=function(t){for(var e,r=t===z,i=N(r?U:x(t)),s=[],o=0;i.length>o;)!n(B,e=i[o++])||r&&!n(z,e)||s.push(B[e]);return s};q||(l((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0);return o&&V&&G(z,t,{configurable:!0,set:function e(r){this===z&&e.call(U,r),n(this,R)&&n(this[R],t)&&(this[R][t]=!1),G(this,t,A(1,r))}}),X(t)}).prototype,"toString",function(){return this._k}),O.f=K,S.f=H,t("./_object-gopn").f=j.f=Y,t("./_object-pie").f=J,t("./_object-gops").f=Z,o&&!t("./_library")&&l(z,"propertyIsEnumerable",J,!0),d.f=function(t){return X(h(t))}),a(a.G+a.W+a.F*!q,{Symbol:C});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)h(tt[et++]);for(var rt=k(h.store),it=0;rt.length>it;)g(rt[it++]);a(a.S+a.F*!q,"Symbol",{for:function(t){return n(M,t+="")?M[t]:M[t]=C(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!q,"Object",{create:function(t,e){return void 0===e?E(t):Q(E(t),e)},defineProperty:H,defineProperties:Q,getOwnPropertyDescriptor:K,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),D&&a(a.S+a.F*(!q||c(function(){var t=C();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){for(var e,r,i=[t],s=1;arguments.length>s;)i.push(arguments[s++]);if(r=e=i[1],(y(e)||void 0!==t)&&!W(t))return _(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!W(e))return e}),i[1]=e,P.apply(D,i)}}),C.prototype[F]||t("./_hide")(C.prototype,F,C.prototype.valueOf),m(C,"Symbol"),m(Math,"Math",!0),m(s.JSON,"JSON",!0)},{"./_an-object":6,"./_descriptors":28,"./_enum-keys":31,"./_export":32,"./_fails":34,"./_global":39,"./_has":40,"./_hide":41,"./_is-array":48,"./_is-object":50,"./_library":58,"./_meta":64,"./_object-create":69,"./_object-dp":70,"./_object-gopd":73,"./_object-gopn":75,"./_object-gopn-ext":74,"./_object-gops":76,"./_object-keys":79,"./_object-pie":80,"./_property-desc":88,"./_redefine":90,"./_set-to-string-tag":96,"./_shared":98,"./_to-iobject":112,"./_to-primitive":115,"./_uid":119,"./_wks":124,"./_wks-define":122,"./_wks-ext":123}],250:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_typed"),n=t("./_typed-buffer"),o=t("./_an-object"),a=t("./_to-absolute-index"),l=t("./_to-length"),u=t("./_is-object"),c=t("./_global").ArrayBuffer,p=t("./_species-constructor"),m=n.ArrayBuffer,f=n.DataView,h=s.ABV&&c.isView,d=m.prototype.slice,g=s.VIEW;i(i.G+i.W+i.F*(c!==m),{ArrayBuffer:m}),i(i.S+i.F*!s.CONSTR,"ArrayBuffer",{isView:function(t){return h&&h(t)||u(t)&&g in t}}),i(i.P+i.U+i.F*t("./_fails")(function(){return!new m(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==d&&void 0===e)return d.call(o(this),t);for(var r=o(this).byteLength,i=a(t,r),s=a(void 0===e?r:e,r),n=new(p(this,m))(l(s-i)),u=new f(this),c=new f(n),h=0;i<s;)c.setUint8(h++,u.getUint8(i++));return n}}),t("./_set-species")("ArrayBuffer")},{"./_an-object":6,"./_export":32,"./_fails":34,"./_global":39,"./_is-object":50,"./_set-species":95,"./_species-constructor":99,"./_to-absolute-index":109,"./_to-length":113,"./_typed":118,"./_typed-buffer":117}],251:[function(t,e,r){"use strict";var i=t("./_export");i(i.G+i.W+i.F*!t("./_typed").ABV,{DataView:t("./_typed-buffer").DataView})},{"./_export":32,"./_typed":118,"./_typed-buffer":117}],252:[function(t,e,r){"use strict";t("./_typed-array")("Float32",4,function(t){return function(e,r,i){return t(this,e,r,i)}})},{"./_typed-array":116}],253:[function(t,e,r){"use strict";t("./_typed-array")("Float64",8,function(t){return function(e,r,i){return t(this,e,r,i)}})},{"./_typed-array":116}],254:[function(t,e,r){"use strict";t("./_typed-array")("Int16",2,function(t){return function(e,r,i){return t(this,e,r,i)}})},{"./_typed-array":116}],255:[function(t,e,r){"use strict";t("./_typed-array")("Int32",4,function(t){return function(e,r,i){return t(this,e,r,i)}})},{"./_typed-array":116}],256:[function(t,e,r){"use strict";t("./_typed-array")("Int8",1,function(t){return function(e,r,i){return t(this,e,r,i)}})},{"./_typed-array":116}],257:[function(t,e,r){"use strict";t("./_typed-array")("Uint16",2,function(t){return function(e,r,i){return t(this,e,r,i)}})},{"./_typed-array":116}],258:[function(t,e,r){"use strict";t("./_typed-array")("Uint32",4,function(t){return function(e,r,i){return t(this,e,r,i)}})},{"./_typed-array":116}],259:[function(t,e,r){"use strict";t("./_typed-array")("Uint8",1,function(t){return function(e,r,i){return t(this,e,r,i)}})},{"./_typed-array":116}],260:[function(t,e,r){"use strict";t("./_typed-array")("Uint8",1,function(t){return function(e,r,i){return t(this,e,r,i)}},!0)},{"./_typed-array":116}],261:[function(t,e,r){"use strict";var i,s=t("./_array-methods")(0),n=t("./_redefine"),o=t("./_meta"),a=t("./_object-assign"),l=t("./_collection-weak"),u=t("./_is-object"),c=t("./_fails"),p=t("./_validate-collection"),m=o.getWeak,f=Object.isExtensible,h=l.ufstore,d={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(u(t)){var e=m(t);return!0===e?h(p(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(p(this,"WeakMap"),t,e)}},_=e.exports=t("./_collection")("WeakMap",g,b,l,!0,!0);c(function(){return 7!=(new _).set((Object.freeze||Object)(d),7).get(d)})&&(a((i=l.getConstructor(g,"WeakMap")).prototype,b),o.NEED=!0,s(["delete","has","get","set"],function(t){var e=_.prototype,r=e[t];n(e,t,function(e,s){if(u(e)&&!f(e)){this._f||(this._f=new i);var n=this._f[t](e,s);return"set"==t?this:n}return r.call(this,e,s)})}))},{"./_array-methods":11,"./_collection":21,"./_collection-weak":20,"./_fails":34,"./_is-object":50,"./_meta":64,"./_object-assign":68,"./_redefine":90,"./_validate-collection":121}],262:[function(t,e,r){"use strict";var i=t("./_collection-weak"),s=t("./_validate-collection");t("./_collection")("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(s(this,"WeakSet"),t,!0)}},i,!1,!0)},{"./_collection":21,"./_collection-weak":20,"./_validate-collection":121}],263:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_flatten-into-array"),n=t("./_to-object"),o=t("./_to-length"),a=t("./_a-function"),l=t("./_array-species-create");i(i.P,"Array",{flatMap:function(t){var e,r,i=n(this);return a(t),e=o(i.length),r=l(i,0),s(r,i,i,e,0,1,t,arguments[1]),r}}),t("./_add-to-unscopables")("flatMap")},{"./_a-function":2,"./_add-to-unscopables":4,"./_array-species-create":14,"./_export":32,"./_flatten-into-array":37,"./_to-length":113,"./_to-object":114}],264:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_flatten-into-array"),n=t("./_to-object"),o=t("./_to-length"),a=t("./_to-integer"),l=t("./_array-species-create");i(i.P,"Array",{flatten:function(){var t=arguments[0],e=n(this),r=o(e.length),i=l(e,0);return s(i,e,e,r,0,void 0===t?1:a(t)),i}}),t("./_add-to-unscopables")("flatten")},{"./_add-to-unscopables":4,"./_array-species-create":14,"./_export":32,"./_flatten-into-array":37,"./_to-integer":111,"./_to-length":113,"./_to-object":114}],265:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_array-includes")(!0);i(i.P,"Array",{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":4,"./_array-includes":10,"./_export":32}],266:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_microtask")(),n=t("./_global").process,o="process"==t("./_cof")(n);i(i.G,{asap:function(t){var e=o&&n.domain;s(e?e.bind(t):t)}})},{"./_cof":17,"./_export":32,"./_global":39,"./_microtask":66}],267:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_cof");i(i.S,"Error",{isError:function(t){return"Error"===s(t)}})},{"./_cof":17,"./_export":32}],268:[function(t,e,r){"use strict";var i=t("./_export");i(i.G,{global:t("./_global")})},{"./_export":32,"./_global":39}],269:[function(t,e,r){"use strict";t("./_set-collection-from")("Map")},{"./_set-collection-from":92}],270:[function(t,e,r){"use strict";t("./_set-collection-of")("Map")},{"./_set-collection-of":93}],271:[function(t,e,r){"use strict";var i=t("./_export");i(i.P+i.R,"Map",{toJSON:t("./_collection-to-json")("Map")})},{"./_collection-to-json":19,"./_export":32}],272:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{clamp:function(t,e,r){return Math.min(r,Math.max(e,t))}})},{"./_export":32}],273:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},{"./_export":32}],274:[function(t,e,r){"use strict";var i=t("./_export"),s=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*s}})},{"./_export":32}],275:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_math-scale"),n=t("./_math-fround");i(i.S,"Math",{fscale:function(t,e,r,i,o){return n(s(t,e,r,i,o))}})},{"./_export":32,"./_math-fround":60,"./_math-scale":62}],276:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{iaddh:function(t,e,r,i){var s=t>>>0,n=r>>>0;return(e>>>0)+(i>>>0)+((s&n|(s|n)&~(s+n>>>0))>>>31)|0}})},{"./_export":32}],277:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{imulh:function(t,e){var r=+t,i=+e,s=65535&r,n=65535&i,o=r>>16,a=i>>16,l=(o*n>>>0)+(s*n>>>16);return o*a+(l>>16)+((s*a>>>0)+(65535&l)>>16)}})},{"./_export":32}],278:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{isubh:function(t,e,r,i){var s=t>>>0,n=r>>>0;return(e>>>0)-(i>>>0)-((~s&n|~(s^n)&s-n>>>0)>>>31)|0}})},{"./_export":32}],279:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},{"./_export":32}],280:[function(t,e,r){"use strict";var i=t("./_export"),s=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*s}})},{"./_export":32}],281:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{scale:t("./_math-scale")})},{"./_export":32,"./_math-scale":62}],282:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},{"./_export":32}],283:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"Math",{umulh:function(t,e){var r=+t,i=+e,s=65535&r,n=65535&i,o=r>>>16,a=i>>>16,l=(o*n>>>0)+(s*n>>>16);return o*a+(l>>>16)+((s*a>>>0)+(65535&l)>>>16)}})},{"./_export":32}],284:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-object"),n=t("./_a-function"),o=t("./_object-dp");t("./_descriptors")&&i(i.P+t("./_object-forced-pam"),"Object",{__defineGetter__:function(t,e){o.f(s(this),t,{get:n(e),enumerable:!0,configurable:!0})}})},{"./_a-function":2,"./_descriptors":28,"./_export":32,"./_object-dp":70,"./_object-forced-pam":72,"./_to-object":114}],285:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-object"),n=t("./_a-function"),o=t("./_object-dp");t("./_descriptors")&&i(i.P+t("./_object-forced-pam"),"Object",{__defineSetter__:function(t,e){o.f(s(this),t,{set:n(e),enumerable:!0,configurable:!0})}})},{"./_a-function":2,"./_descriptors":28,"./_export":32,"./_object-dp":70,"./_object-forced-pam":72,"./_to-object":114}],286:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_object-to-array")(!0);i(i.S,"Object",{entries:function(t){return s(t)}})},{"./_export":32,"./_object-to-array":82}],287:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_own-keys"),n=t("./_to-iobject"),o=t("./_object-gopd"),a=t("./_create-property");i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,i=n(t),l=o.f,u=s(i),c={},p=0;u.length>p;)void 0!==(r=l(i,e=u[p++]))&&a(c,e,r);return c}})},{"./_create-property":23,"./_export":32,"./_object-gopd":73,"./_own-keys":83,"./_to-iobject":112}],288:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-object"),n=t("./_to-primitive"),o=t("./_object-gpo"),a=t("./_object-gopd").f;t("./_descriptors")&&i(i.P+t("./_object-forced-pam"),"Object",{__lookupGetter__:function(t){var e,r=s(this),i=n(t,!0);do{if(e=a(r,i))return e.get}while(r=o(r))}})},{"./_descriptors":28,"./_export":32,"./_object-forced-pam":72,"./_object-gopd":73,"./_object-gpo":77,"./_to-object":114,"./_to-primitive":115}],289:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_to-object"),n=t("./_to-primitive"),o=t("./_object-gpo"),a=t("./_object-gopd").f;t("./_descriptors")&&i(i.P+t("./_object-forced-pam"),"Object",{__lookupSetter__:function(t){var e,r=s(this),i=n(t,!0);do{if(e=a(r,i))return e.set}while(r=o(r))}})},{"./_descriptors":28,"./_export":32,"./_object-forced-pam":72,"./_object-gopd":73,"./_object-gpo":77,"./_to-object":114,"./_to-primitive":115}],290:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_object-to-array")(!1);i(i.S,"Object",{values:function(t){return s(t)}})},{"./_export":32,"./_object-to-array":82}],291:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_global"),n=t("./_core"),o=t("./_microtask")(),a=t("./_wks")("observable"),l=t("./_a-function"),u=t("./_an-object"),c=t("./_an-instance"),p=t("./_redefine-all"),m=t("./_hide"),f=t("./_for-of"),h=f.RETURN,d=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},b=function(t){return void 0===t._o},_=function(t){b(t)||(t._o=void 0,g(t))},v=function(t,e){u(t),this._c=void 0,this._o=t,t=new y(this);try{var r=e(t),i=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){i.unsubscribe()}:l(r),this._c=r)}catch(e){return void t.error(e)}b(this)&&g(this)};v.prototype=p({},{unsubscribe:function(){_(this)}});var y=function(t){this._s=t};y.prototype=p({},{next:function(t){var e=this._s;if(!b(e)){var r=e._o;try{var i=d(r.next);if(i)return i.call(r,t)}catch(t){try{_(e)}finally{throw t}}}},error:function(t){var e=this._s;if(b(e))throw t;var r=e._o;e._o=void 0;try{var i=d(r.error);if(!i)throw t;t=i.call(r,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!b(e)){var r=e._o;e._o=void 0;try{var i=d(r.complete);t=i?i.call(r,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var x=function(t){c(this,x,"Observable","_f")._f=l(t)};p(x.prototype,{subscribe:function(t){return new v(t,this._f)},forEach:function(t){var e=this;return new(n.Promise||s.Promise)(function(r,i){l(t);var s=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),s.unsubscribe()}},error:i,complete:r})})}}),p(x,{from:function(t){var e="function"==typeof this?this:x,r=d(u(t)[a]);if(r){var i=u(r.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var r=!1;return o(function(){if(!r){try{if(f(t,!1,function(t){if(e.next(t),r)return h})===h)return}catch(t){if(r)throw t;return void e.error(t)}e.complete()}}),function(){r=!0}})},of:function(){for(var t=0,e=arguments.length,r=new Array(e);t<e;)r[t]=arguments[t++];return new("function"==typeof this?this:x)(function(t){var e=!1;return o(function(){if(!e){for(var i=0;i<r.length;++i)if(t.next(r[i]),e)return;t.complete()}}),function(){e=!0}})}}),m(x.prototype,a,function(){return this}),i(i.G,{Observable:x}),t("./_set-species")("Observable")},{"./_a-function":2,"./_an-instance":5,"./_an-object":6,"./_core":22,"./_export":32,"./_for-of":38,"./_global":39,"./_hide":41,"./_microtask":66,"./_redefine-all":89,"./_set-species":95,"./_wks":124}],292:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_core"),n=t("./_global"),o=t("./_species-constructor"),a=t("./_promise-resolve");i(i.P+i.R,"Promise",{finally:function(t){var e=o(this,s.Promise||n.Promise),r="function"==typeof t;return this.then(r?function(r){return a(e,t()).then(function(){return r})}:t,r?function(r){return a(e,t()).then(function(){throw r})}:t)}})},{"./_core":22,"./_export":32,"./_global":39,"./_promise-resolve":87,"./_species-constructor":99}],293:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_new-promise-capability"),n=t("./_perform");i(i.S,"Promise",{try:function(t){var e=s.f(this),r=n(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},{"./_export":32,"./_new-promise-capability":67,"./_perform":86}],294:[function(t,e,r){"use strict";var i=t("./_metadata"),s=t("./_an-object"),n=i.key,o=i.set;i.exp({defineMetadata:function(t,e,r,i){o(t,e,s(r),n(i))}})},{"./_an-object":6,"./_metadata":65}],295:[function(t,e,r){"use strict";var i=t("./_metadata"),s=t("./_an-object"),n=i.key,o=i.map,a=i.store;i.exp({deleteMetadata:function(t,e){var r=arguments.length<3?void 0:n(arguments[2]),i=o(s(e),r,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var l=a.get(e);return l.delete(r),!!l.size||a.delete(e)}})},{"./_an-object":6,"./_metadata":65}],296:[function(t,e,r){"use strict";var i=t("./es6.set"),s=t("./_array-from-iterable"),n=t("./_metadata"),o=t("./_an-object"),a=t("./_object-gpo"),l=n.keys,u=n.key;n.exp({getMetadataKeys:function(t){return function t(e,r){var n=l(e,r),o=a(e);if(null===o)return n;var u=t(o,r);return u.length?n.length?s(new i(n.concat(u))):u:n}(o(t),arguments.length<2?void 0:u(arguments[1]))}})},{"./_an-object":6,"./_array-from-iterable":9,"./_metadata":65,"./_object-gpo":77,"./es6.set":226}],297:[function(t,e,r){"use strict";var i=t("./_metadata"),s=t("./_an-object"),n=t("./_object-gpo"),o=i.has,a=i.get,l=i.key;i.exp({getMetadata:function(t,e){return function t(e,r,i){if(o(e,r,i))return a(e,r,i);var s=n(r);return null!==s?t(e,s,i):void 0}(t,s(e),arguments.length<3?void 0:l(arguments[2]))}})},{"./_an-object":6,"./_metadata":65,"./_object-gpo":77}],298:[function(t,e,r){"use strict";var i=t("./_metadata"),s=t("./_an-object"),n=i.keys,o=i.key;i.exp({getOwnMetadataKeys:function(t){return n(s(t),arguments.length<2?void 0:o(arguments[1]))}})},{"./_an-object":6,"./_metadata":65}],299:[function(t,e,r){"use strict";var i=t("./_metadata"),s=t("./_an-object"),n=i.get,o=i.key;i.exp({getOwnMetadata:function(t,e){return n(t,s(e),arguments.length<3?void 0:o(arguments[2]))}})},{"./_an-object":6,"./_metadata":65}],300:[function(t,e,r){"use strict";var i=t("./_metadata"),s=t("./_an-object"),n=t("./_object-gpo"),o=i.has,a=i.key;i.exp({hasMetadata:function(t,e){return function t(e,r,i){if(o(e,r,i))return!0;var s=n(r);return null!==s&&t(e,s,i)}(t,s(e),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":6,"./_metadata":65,"./_object-gpo":77}],301:[function(t,e,r){"use strict";var i=t("./_metadata"),s=t("./_an-object"),n=i.has,o=i.key;i.exp({hasOwnMetadata:function(t,e){return n(t,s(e),arguments.length<3?void 0:o(arguments[2]))}})},{"./_an-object":6,"./_metadata":65}],302:[function(t,e,r){"use strict";var i=t("./_metadata"),s=t("./_an-object"),n=t("./_a-function"),o=i.key,a=i.set;i.exp({metadata:function(t,e){return function(r,i){a(t,e,(void 0!==i?s:n)(r),o(i))}}})},{"./_a-function":2,"./_an-object":6,"./_metadata":65}],303:[function(t,e,r){"use strict";t("./_set-collection-from")("Set")},{"./_set-collection-from":92}],304:[function(t,e,r){"use strict";t("./_set-collection-of")("Set")},{"./_set-collection-of":93}],305:[function(t,e,r){"use strict";var i=t("./_export");i(i.P+i.R,"Set",{toJSON:t("./_collection-to-json")("Set")})},{"./_collection-to-json":19,"./_export":32}],306:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_string-at")(!0);i(i.P,"String",{at:function(t){return s(this,t)}})},{"./_export":32,"./_string-at":101}],307:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_defined"),n=t("./_to-length"),o=t("./_is-regexp"),a=t("./_flags"),l=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};t("./_iter-create")(u,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(s(this),!o(t))throw TypeError(t+" is not a regexp!");var e=String(this),r="flags"in l?String(t.flags):a.call(t),i=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return i.lastIndex=n(t.lastIndex),new u(i,e)}})},{"./_defined":27,"./_export":32,"./_flags":36,"./_is-regexp":51,"./_iter-create":53,"./_to-length":113}],308:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_string-pad"),n=t("./_user-agent");i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(n),"String",{padEnd:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":32,"./_string-pad":104,"./_user-agent":120}],309:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_string-pad"),n=t("./_user-agent");i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(n),"String",{padStart:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":32,"./_string-pad":104,"./_user-agent":120}],310:[function(t,e,r){"use strict";t("./_string-trim")("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},{"./_string-trim":106}],311:[function(t,e,r){"use strict";t("./_string-trim")("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},{"./_string-trim":106}],312:[function(t,e,r){"use strict";t("./_wks-define")("asyncIterator")},{"./_wks-define":122}],313:[function(t,e,r){"use strict";t("./_wks-define")("observable")},{"./_wks-define":122}],314:[function(t,e,r){"use strict";var i=t("./_export");i(i.S,"System",{global:t("./_global")})},{"./_export":32,"./_global":39}],315:[function(t,e,r){"use strict";t("./_set-collection-from")("WeakMap")},{"./_set-collection-from":92}],316:[function(t,e,r){"use strict";t("./_set-collection-of")("WeakMap")},{"./_set-collection-of":93}],317:[function(t,e,r){"use strict";t("./_set-collection-from")("WeakSet")},{"./_set-collection-from":92}],318:[function(t,e,r){"use strict";t("./_set-collection-of")("WeakSet")},{"./_set-collection-of":93}],319:[function(t,e,r){"use strict";for(var i=t("./es6.array.iterator"),s=t("./_object-keys"),n=t("./_redefine"),o=t("./_global"),a=t("./_hide"),l=t("./_iterators"),u=t("./_wks"),c=u("iterator"),p=u("toStringTag"),m=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=s(f),d=0;d<h.length;d++){var g,b=h[d],_=f[b],v=o[b],y=v&&v.prototype;if(y&&(y[c]||a(y,c,m),y[p]||a(y,p,b),l[b]=m,_))for(g in i)y[g]||n(y,g,i[g],!0)}},{"./_global":39,"./_hide":41,"./_iterators":57,"./_object-keys":79,"./_redefine":90,"./_wks":124,"./es6.array.iterator":136}],320:[function(t,e,r){"use strict";var i=t("./_export"),s=t("./_task");i(i.G+i.B,{setImmediate:s.set,clearImmediate:s.clear})},{"./_export":32,"./_task":108}],321:[function(t,e,r){"use strict";var i=t("./_global"),s=t("./_export"),n=t("./_user-agent"),o=[].slice,a=/MSIE .\./.test(n),l=function(t){return function(e,r){var i=arguments.length>2,s=!!i&&o.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,s)}:e,r)}};s(s.G+s.B+s.F*a,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},{"./_export":32,"./_global":39,"./_user-agent":120}],322:[function(t,e,r){"use strict";t("./modules/es6.symbol"),t("./modules/es6.object.create"),t("./modules/es6.object.define-property"),t("./modules/es6.object.define-properties"),t("./modules/es6.object.get-own-property-descriptor"),t("./modules/es6.object.get-prototype-of"),t("./modules/es6.object.keys"),t("./modules/es6.object.get-own-property-names"),t("./modules/es6.object.freeze"),t("./modules/es6.object.seal"),t("./modules/es6.object.prevent-extensions"),t("./modules/es6.object.is-frozen"),t("./modules/es6.object.is-sealed"),t("./modules/es6.object.is-extensible"),t("./modules/es6.object.assign"),t("./modules/es6.object.is"),t("./modules/es6.object.set-prototype-of"),t("./modules/es6.object.to-string"),t("./modules/es6.function.bind"),t("./modules/es6.function.name"),t("./modules/es6.function.has-instance"),t("./modules/es6.parse-int"),t("./modules/es6.parse-float"),t("./modules/es6.number.constructor"),t("./modules/es6.number.to-fixed"),t("./modules/es6.number.to-precision"),t("./modules/es6.number.epsilon"),t("./modules/es6.number.is-finite"),t("./modules/es6.number.is-integer"),t("./modules/es6.number.is-nan"),t("./modules/es6.number.is-safe-integer"),t("./modules/es6.number.max-safe-integer"),t("./modules/es6.number.min-safe-integer"),t("./modules/es6.number.parse-float"),t("./modules/es6.number.parse-int"),t("./modules/es6.math.acosh"),t("./modules/es6.math.asinh"),t("./modules/es6.math.atanh"),t("./modules/es6.math.cbrt"),t("./modules/es6.math.clz32"),t("./modules/es6.math.cosh"),t("./modules/es6.math.expm1"),t("./modules/es6.math.fround"),t("./modules/es6.math.hypot"),t("./modules/es6.math.imul"),t("./modules/es6.math.log10"),t("./modules/es6.math.log1p"),t("./modules/es6.math.log2"),t("./modules/es6.math.sign"),t("./modules/es6.math.sinh"),t("./modules/es6.math.tanh"),t("./modules/es6.math.trunc"),t("./modules/es6.string.from-code-point"),t("./modules/es6.string.raw"),t("./modules/es6.string.trim"),t("./modules/es6.string.iterator"),t("./modules/es6.string.code-point-at"),t("./modules/es6.string.ends-with"),t("./modules/es6.string.includes"),t("./modules/es6.string.repeat"),t("./modules/es6.string.starts-with"),t("./modules/es6.string.anchor"),t("./modules/es6.string.big"),t("./modules/es6.string.blink"),t("./modules/es6.string.bold"),t("./modules/es6.string.fixed"),t("./modules/es6.string.fontcolor"),t("./modules/es6.string.fontsize"),t("./modules/es6.string.italics"),t("./modules/es6.string.link"),t("./modules/es6.string.small"),t("./modules/es6.string.strike"),t("./modules/es6.string.sub"),t("./modules/es6.string.sup"),t("./modules/es6.date.now"),t("./modules/es6.date.to-json"),t("./modules/es6.date.to-iso-string"),t("./modules/es6.date.to-string"),t("./modules/es6.date.to-primitive"),t("./modules/es6.array.is-array"),t("./modules/es6.array.from"),t("./modules/es6.array.of"),t("./modules/es6.array.join"),t("./modules/es6.array.slice"),t("./modules/es6.array.sort"),t("./modules/es6.array.for-each"),t("./modules/es6.array.map"),t("./modules/es6.array.filter"),t("./modules/es6.array.some"),t("./modules/es6.array.every"),t("./modules/es6.array.reduce"),t("./modules/es6.array.reduce-right"),t("./modules/es6.array.index-of"),t("./modules/es6.array.last-index-of"),t("./modules/es6.array.copy-within"),t("./modules/es6.array.fill"),t("./modules/es6.array.find"),t("./modules/es6.array.find-index"),t("./modules/es6.array.species"),t("./modules/es6.array.iterator"),t("./modules/es6.regexp.constructor"),t("./modules/es6.regexp.to-string"),t("./modules/es6.regexp.flags"),t("./modules/es6.regexp.match"),t("./modules/es6.regexp.replace"),t("./modules/es6.regexp.search"),t("./modules/es6.regexp.split"),t("./modules/es6.promise"),t("./modules/es6.map"),t("./modules/es6.set"),t("./modules/es6.weak-map"),t("./modules/es6.weak-set"),t("./modules/es6.typed.array-buffer"),t("./modules/es6.typed.data-view"),t("./modules/es6.typed.int8-array"),t("./modules/es6.typed.uint8-array"),t("./modules/es6.typed.uint8-clamped-array"),t("./modules/es6.typed.int16-array"),t("./modules/es6.typed.uint16-array"),t("./modules/es6.typed.int32-array"),t("./modules/es6.typed.uint32-array"),t("./modules/es6.typed.float32-array"),t("./modules/es6.typed.float64-array"),t("./modules/es6.reflect.apply"),t("./modules/es6.reflect.construct"),t("./modules/es6.reflect.define-property"),t("./modules/es6.reflect.delete-property"),t("./modules/es6.reflect.enumerate"),t("./modules/es6.reflect.get"),t("./modules/es6.reflect.get-own-property-descriptor"),t("./modules/es6.reflect.get-prototype-of"),t("./modules/es6.reflect.has"),t("./modules/es6.reflect.is-extensible"),t("./modules/es6.reflect.own-keys"),t("./modules/es6.reflect.prevent-extensions"),t("./modules/es6.reflect.set"),t("./modules/es6.reflect.set-prototype-of"),t("./modules/es7.array.includes"),t("./modules/es7.array.flat-map"),t("./modules/es7.array.flatten"),t("./modules/es7.string.at"),t("./modules/es7.string.pad-start"),t("./modules/es7.string.pad-end"),t("./modules/es7.string.trim-left"),t("./modules/es7.string.trim-right"),t("./modules/es7.string.match-all"),t("./modules/es7.symbol.async-iterator"),t("./modules/es7.symbol.observable"),t("./modules/es7.object.get-own-property-descriptors"),t("./modules/es7.object.values"),t("./modules/es7.object.entries"),t("./modules/es7.object.define-getter"),t("./modules/es7.object.define-setter"),t("./modules/es7.object.lookup-getter"),t("./modules/es7.object.lookup-setter"),t("./modules/es7.map.to-json"),t("./modules/es7.set.to-json"),t("./modules/es7.map.of"),t("./modules/es7.set.of"),t("./modules/es7.weak-map.of"),t("./modules/es7.weak-set.of"),t("./modules/es7.map.from"),t("./modules/es7.set.from"),t("./modules/es7.weak-map.from"),t("./modules/es7.weak-set.from"),t("./modules/es7.global"),t("./modules/es7.system.global"),t("./modules/es7.error.is-error"),t("./modules/es7.math.clamp"),t("./modules/es7.math.deg-per-rad"),t("./modules/es7.math.degrees"),t("./modules/es7.math.fscale"),t("./modules/es7.math.iaddh"),t("./modules/es7.math.isubh"),t("./modules/es7.math.imulh"),t("./modules/es7.math.rad-per-deg"),t("./modules/es7.math.radians"),t("./modules/es7.math.scale"),t("./modules/es7.math.umulh"),t("./modules/es7.math.signbit"),t("./modules/es7.promise.finally"),t("./modules/es7.promise.try"),t("./modules/es7.reflect.define-metadata"),t("./modules/es7.reflect.delete-metadata"),t("./modules/es7.reflect.get-metadata"),t("./modules/es7.reflect.get-metadata-keys"),t("./modules/es7.reflect.get-own-metadata"),t("./modules/es7.reflect.get-own-metadata-keys"),t("./modules/es7.reflect.has-metadata"),t("./modules/es7.reflect.has-own-metadata"),t("./modules/es7.reflect.metadata"),t("./modules/es7.asap"),t("./modules/es7.observable"),t("./modules/web.timers"),t("./modules/web.immediate"),t("./modules/web.dom.iterable"),e.exports=t("./modules/_core")},{"./modules/_core":22,"./modules/es6.array.copy-within":126,"./modules/es6.array.every":127,"./modules/es6.array.fill":128,"./modules/es6.array.filter":129,"./modules/es6.array.find":131,"./modules/es6.array.find-index":130,"./modules/es6.array.for-each":132,"./modules/es6.array.from":133,"./modules/es6.array.index-of":134,"./modules/es6.array.is-array":135,"./modules/es6.array.iterator":136,"./modules/es6.array.join":137,"./modules/es6.array.last-index-of":138,"./modules/es6.array.map":139,"./modules/es6.array.of":140,"./modules/es6.array.reduce":142,"./modules/es6.array.reduce-right":141,"./modules/es6.array.slice":143,"./modules/es6.array.some":144,"./modules/es6.array.sort":145,"./modules/es6.array.species":146,"./modules/es6.date.now":147,"./modules/es6.date.to-iso-string":148,"./modules/es6.date.to-json":149,"./modules/es6.date.to-primitive":150,"./modules/es6.date.to-string":151,"./modules/es6.function.bind":152,"./modules/es6.function.has-instance":153,"./modules/es6.function.name":154,"./modules/es6.map":155,"./modules/es6.math.acosh":156,"./modules/es6.math.asinh":157,"./modules/es6.math.atanh":158,"./modules/es6.math.cbrt":159,"./modules/es6.math.clz32":160,"./modules/es6.math.cosh":161,"./modules/es6.math.expm1":162,"./modules/es6.math.fround":163,"./modules/es6.math.hypot":164,"./modules/es6.math.imul":165,"./modules/es6.math.log10":166,"./modules/es6.math.log1p":167,"./modules/es6.math.log2":168,"./modules/es6.math.sign":169,"./modules/es6.math.sinh":170,"./modules/es6.math.tanh":171,"./modules/es6.math.trunc":172,"./modules/es6.number.constructor":173,"./modules/es6.number.epsilon":174,"./modules/es6.number.is-finite":175,"./modules/es6.number.is-integer":176,"./modules/es6.number.is-nan":177,"./modules/es6.number.is-safe-integer":178,"./modules/es6.number.max-safe-integer":179,"./modules/es6.number.min-safe-integer":180,"./modules/es6.number.parse-float":181,"./modules/es6.number.parse-int":182,"./modules/es6.number.to-fixed":183,"./modules/es6.number.to-precision":184,"./modules/es6.object.assign":185,"./modules/es6.object.create":186,"./modules/es6.object.define-properties":187,"./modules/es6.object.define-property":188,"./modules/es6.object.freeze":189,"./modules/es6.object.get-own-property-descriptor":190,"./modules/es6.object.get-own-property-names":191,"./modules/es6.object.get-prototype-of":192,"./modules/es6.object.is":196,"./modules/es6.object.is-extensible":193,"./modules/es6.object.is-frozen":194,"./modules/es6.object.is-sealed":195,"./modules/es6.object.keys":197,"./modules/es6.object.prevent-extensions":198,"./modules/es6.object.seal":199,"./modules/es6.object.set-prototype-of":200,"./modules/es6.object.to-string":201,"./modules/es6.parse-float":202,"./modules/es6.parse-int":203,"./modules/es6.promise":204,"./modules/es6.reflect.apply":205,"./modules/es6.reflect.construct":206,"./modules/es6.reflect.define-property":207,"./modules/es6.reflect.delete-property":208,"./modules/es6.reflect.enumerate":209,"./modules/es6.reflect.get":212,"./modules/es6.reflect.get-own-property-descriptor":210,"./modules/es6.reflect.get-prototype-of":211,"./modules/es6.reflect.has":213,"./modules/es6.reflect.is-extensible":214,"./modules/es6.reflect.own-keys":215,"./modules/es6.reflect.prevent-extensions":216,"./modules/es6.reflect.set":218,"./modules/es6.reflect.set-prototype-of":217,"./modules/es6.regexp.constructor":219,"./modules/es6.regexp.flags":220,"./modules/es6.regexp.match":221,"./modules/es6.regexp.replace":222,"./modules/es6.regexp.search":223,"./modules/es6.regexp.split":224,"./modules/es6.regexp.to-string":225,"./modules/es6.set":226,"./modules/es6.string.anchor":227,"./modules/es6.string.big":228,"./modules/es6.string.blink":229,"./modules/es6.string.bold":230,"./modules/es6.string.code-point-at":231,"./modules/es6.string.ends-with":232,"./modules/es6.string.fixed":233,"./modules/es6.string.fontcolor":234,"./modules/es6.string.fontsize":235,"./modules/es6.string.from-code-point":236,"./modules/es6.string.includes":237,"./modules/es6.string.italics":238,"./modules/es6.string.iterator":239,"./modules/es6.string.link":240,"./modules/es6.string.raw":241,"./modules/es6.string.repeat":242,"./modules/es6.string.small":243,"./modules/es6.string.starts-with":244,"./modules/es6.string.strike":245,"./modules/es6.string.sub":246,"./modules/es6.string.sup":247,"./modules/es6.string.trim":248,"./modules/es6.symbol":249,"./modules/es6.typed.array-buffer":250,"./modules/es6.typed.data-view":251,"./modules/es6.typed.float32-array":252,"./modules/es6.typed.float64-array":253,"./modules/es6.typed.int16-array":254,"./modules/es6.typed.int32-array":255,"./modules/es6.typed.int8-array":256,"./modules/es6.typed.uint16-array":257,"./modules/es6.typed.uint32-array":258,"./modules/es6.typed.uint8-array":259,"./modules/es6.typed.uint8-clamped-array":260,"./modules/es6.weak-map":261,"./modules/es6.weak-set":262,"./modules/es7.array.flat-map":263,"./modules/es7.array.flatten":264,"./modules/es7.array.includes":265,"./modules/es7.asap":266,"./modules/es7.error.is-error":267,"./modules/es7.global":268,"./modules/es7.map.from":269,"./modules/es7.map.of":270,"./modules/es7.map.to-json":271,"./modules/es7.math.clamp":272,"./modules/es7.math.deg-per-rad":273,"./modules/es7.math.degrees":274,"./modules/es7.math.fscale":275,"./modules/es7.math.iaddh":276,"./modules/es7.math.imulh":277,"./modules/es7.math.isubh":278,"./modules/es7.math.rad-per-deg":279,"./modules/es7.math.radians":280,"./modules/es7.math.scale":281,"./modules/es7.math.signbit":282,"./modules/es7.math.umulh":283,"./modules/es7.object.define-getter":284,"./modules/es7.object.define-setter":285,"./modules/es7.object.entries":286,"./modules/es7.object.get-own-property-descriptors":287,"./modules/es7.object.lookup-getter":288,"./modules/es7.object.lookup-setter":289,"./modules/es7.object.values":290,"./modules/es7.observable":291,"./modules/es7.promise.finally":292,"./modules/es7.promise.try":293,"./modules/es7.reflect.define-metadata":294,"./modules/es7.reflect.delete-metadata":295,"./modules/es7.reflect.get-metadata":297,"./modules/es7.reflect.get-metadata-keys":296,"./modules/es7.reflect.get-own-metadata":299,"./modules/es7.reflect.get-own-metadata-keys":298,"./modules/es7.reflect.has-metadata":300,"./modules/es7.reflect.has-own-metadata":301,"./modules/es7.reflect.metadata":302,"./modules/es7.set.from":303,"./modules/es7.set.of":304,"./modules/es7.set.to-json":305,"./modules/es7.string.at":306,"./modules/es7.string.match-all":307,"./modules/es7.string.pad-end":308,"./modules/es7.string.pad-start":309,"./modules/es7.string.trim-left":310,"./modules/es7.string.trim-right":311,"./modules/es7.symbol.async-iterator":312,"./modules/es7.symbol.observable":313,"./modules/es7.system.global":314,"./modules/es7.weak-map.from":315,"./modules/es7.weak-map.of":316,"./modules/es7.weak-set.from":317,"./modules/es7.weak-set.of":318,"./modules/web.dom.iterable":319,"./modules/web.immediate":320,"./modules/web.timers":321}],323:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s,n,o,a,l,u,c,p,m,f={PROCESSOR_VERSION:"1.1.206",CONDITION_LEVEL_TOP:1,CONDITION_LEVEL_BOTTOM:2,PLAIN_HYPHEN_REGEX:/(?:[^\\]-|\u2013)/,LOCATOR_LABELS_REGEXP:new RegExp("^((art|ch|subch|col|fig|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_GROUPED_REGEX:/((?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/g,STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"art.":"article","bk.":"book","ch.":"chapter","subch.":"subchapter","p.":"page","pp.":"page","para.":"paragraph","subpara.":"subparagraph","pt.":"part","r.":"rule","sec.":"section","subsec.":"subsection","sch.":"schedule","tit.":"title","col.":"column","fig.":"figure","fol.":"folio","l.":"line","n.":"note","no.":"issue","op.":"opus","sv.":"sub-verbo","vrs.":"verse","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{article:"art.",book:"bk.",chapter:"ch.",subchapter:"subch.",page:"p.",paragraph:"para.",subparagraph:"subpara.",part:"pt.",rule:"r.",section:"sec.",subsection:"subsec.",schedule:"sch.",title:"tit.",column:"col.",figure:"fig.",folio:"fol.",line:"l.",note:"n.",issue:"no.",opus:"op.","sub-verbo":"sv.","sub verbo":"sv.",verse:"vrs.",volume:"vol."},LOCATOR_LABELS_MAP:{art:"article",bk:"book",ch:"chapter",subch:"subchapter",col:"column",fig:"figure",fol:"folio",l:"line",n:"note",no:"issue",op:"opus",p:"page",pp:"page",para:"paragraph",subpara:"subparagraph",pt:"part",r:"rule",sec:"section",subsec:"subsection",sv:"sub-verbo",sch:"schedule",tit:"title",vrs:"verse",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0},NestedBraces:[["(","["],[")","]"]],checkNestedBrace:function(t){"note"===t.opt.xclass?(this.depth=0,this.update=function(t){for(var e=(t=t||"").split(/([\(\)])/),r=1,i=e.length;r<i;r+=2)"("===e[r]?(1==this.depth%2&&(e[r]="["),this.depth+=1):")"===e[r]&&(0==this.depth%2&&(e[r]="]"),this.depth-=1);return e.join("")}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"journals",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"number",edition:"number",issue:"number",volume:"number"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"collection-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(t){if(this.opt.development_extensions.locator_date_and_revision&&t.locator){t.locator=""+t.locator;var e=t.locator.indexOf("|");if(e>-1){var r=t.locator;t.locator=r.slice(0,e);var i=(r=r.slice(e+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);i&&(t["locator-date"]=this.fun.dateparser.parseDateToObject(i[1]),r=r.slice(i[1].length)),t["locator-extra"]=r.replace(/^\s+/,"").replace(/\s+$/,"")}}return t.locator&&(t.locator=(""+t.locator).replace(/\s+$/,"")),t},normalizeLocaleStr:function(t){if(t){var e=t.split("-");return e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase()),e.join("-")}},isDatePart:function(t,e,r){return!!(t.length>e&&t.length<r&&parseInt(t))},isDateString:function(t){if(!t)return!1;var e=t.split("-");return!(e.length>0&&!isDatePart(e[0],3,5))&&(!(e.length>1&&!isDatePart(e[1],0,3))&&(!(e.length>2&&!isDatePart(e[2],0,3))&&!(e.length>3)))},parseNoteFieldHacks:function(t,e,r){if("string"==typeof t.note){for(var i=[],s=t.note.split("\n"),n=0,o=s.length;n<o;n++){i=[];var a=(h=s[n]).match(f.NOTE_FIELDS_REGEXP);if(a){for(var l=h.split(f.NOTE_FIELDS_REGEXP),u=0,c=l.length-1;u<c;u++)i.push(l[u]),i.push(a[u]);i.push(l[l.length-1]);for(u=1,c=i.length;u<c&&(!i[u-1].trim()||!(n>0||u>1)||i[u-1].match(f.NOTE_FIELD_REGEXP));u+=2)i[u]="\n"+i[u].slice(2,-1).trim()+"\n";s[n]=i.join("")}}var p=0,m={};for(n=0,o=(s=s.join("\n").split("\n")).length;n<o;n++){var h,d=(h=s[n]).match(f.NOTE_FIELD_REGEXP);if(h.trim()){if(!d){if(0===n)continue;p=n;break}var g=d[1],b=d[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===g)t.type=b,s[n]="";else if(f.DATE_VARIABLES.indexOf(g)>-1)r&&(t[g]={raw:b},(!e||e[g]&&isDateString(b))&&(s[n]=""));else if(!t[g]){if(f.NAME_VARIABLES.indexOf(g)>-1){m[g]||(m[g]=[]);var _=b.split(/\s*\|\|\s*/);if(1===_.length)m[g].push({literal:_[0]});else if(2===_.length){var v={family:_[0],given:_[1]};f.parseParticles(v),m[g].push(v)}}else t[g]=b;e&&!e[g]||(s[n]="")}}}for(var g in m)t[g]=m[g];if(e){s[p].trim()&&(s[p]="\n"+s[p]);for(n=p-1;n>-1;n--)s[n].trim()||(s=s.slice(0,n).concat(s.slice(n+1)))}t.note=s.join("\n").trim()}},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,ONLY_FIRST:1,ALWAYS:2,ONLY_LAST:3,FINISH:1,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,MARK_TRAILING_NAMES:!0,POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort"],CITE_FIELDS:["first-reference-note-number","locator","locator-extra"],MINIMAL_NAME_FIELDS:["literal","family"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,COLLAPSE_VALUES:["citation-number","year","year-suffix"],DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DECORABLE_NAME_PARTS:["given","family","suffix"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],PARALLEL_MATCH_VARS:["container-title"],PARALLEL_TYPES:["bill","gazette","regulation","legislation","legal_case","treaty","article-magazine","article-journal"],PARALLEL_COLLAPSING_MID_VARSET:["volume","issue","container-title","section","collection-number"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","editor","translator","contributor","collection-editor","composer","container-author","director","editorial-director","interviewer","original-author","recipient"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","edition","page","issue","locator","number","number-of-pages","number-of-volumes","volume","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","container","original-date","publication-date","original-date","available-date","submitted"],TITLE_FIELD_SPLITS:function(t){for(var e=["title","short","main","sub"],r={},i=0,s=e.length;i<s;i++)r[e[i]]=t+"title"+("title"===e[i]?"":"-"+e[i]);return r},TAG_USEALL:function(t){var e,r,i,s;for(e=[""],r=t.indexOf("<"),i=t.indexOf(">");r>-1&&i>-1;)s=r>i?r+1:i+1,r<i&&-1===t.slice(r+1,i).indexOf("<")?(e[e.length-1]+=t.slice(0,r),e.push(t.slice(r,i+1)),e.push(""),t=t.slice(s)):(e[e.length-1]+=t.slice(0,i+1),t=t.slice(s)),r=t.indexOf("<"),i=t.indexOf(">");return e[e.length-1]+=t,e},demoteNoiseWords:function(t,e,r){var i=t.locale[t.opt.lang].opts["leading-noise-words"];if(e&&r){(e=e.split(/\s+/)).reverse();for(var s=[],n=e.length-1;n>-1&&i.indexOf(e[n].toLowerCase())>-1;n+=-1)s.push(e.pop());e.reverse();var o=e.join(" "),a=s.join(" ");"drop"!==r&&a?"demote"===r&&(e=[o,a].join(", ")):e=o}return e},extractTitleAndSubtitle:function(t){for(var e=["","container-"],r=0,i=e.length;r<i;r++){var s=e[r],n=f.TITLE_FIELD_SPLITS(s),o=[!1];if(t.multi)for(var a in t.multi._keys[n.short])o.push(a);var l=0;for(o.length;l<i;l++){var u={};if((a=o[l])?(t.multi._keys[n.title]&&(u[n.title]=t.multi._keys[n.title][a]),t.multi._keys[n.short]&&(u[n.short]=t.multi._keys[n.short][a])):(u[n.title]=t[n.title],u[n.short]=t[n.short]),u[n.main]=u[n.title],u[n.sub]=!1,u[n.title]&&u[n.short]){var c=u[n.short],p=c.length;u[n.title].slice(0,p)===c&&u[n.title].slice(p).match(/^\s*:/)&&(u[n.main]=u[n.title].slice(0,p).replace(/\s+$/,""),u[n.sub]=u[n.title].slice(p).replace(/^\s*:\s*/,""))}if(a)for(var m in u)t.multi._keys[m]||(t.multi._keys[m]={}),t.multi._keys[m][a]=u[m];else for(var m in u)t[m]=u[m]}}},titlecaseSentenceOrNormal:function(t,e,r,i,s){var n=f.TITLE_FIELD_SPLITS(r),o={};if(i&&e.multi?(e.multi._keys[n.title]&&(o[n.title]=e.multi._keys[n.title][i]),e.multi._keys[n.main]&&(o[n.main]=e.multi._keys[n.main][i]),e.multi._keys[n.sub]&&(o[n.sub]=e.multi._keys[n.sub][i])):(o[n.title]=e[n.title],o[n.main]=e[n.main],o[n.sub]=e[n.sub]),o[n.main]&&o[n.sub]){var a=o[n.main],l=o[n.sub];return s?(a=f.Output.Formatters.sentence(t,a),l=f.Output.Formatters.sentence(t,l)):l=f.Output.Formatters["capitalize-first"](t,l),[a,l].join(o[n.title].slice(a.length,-1*l.length))}return s?f.Output.Formatters.sentence(t,o[n.title]):o[n.title]},getSafeEscape:function(t){if(["bibliography","citation"].indexOf(t.tmp.area)>-1){var e=[];return t.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===t.opt.mode&&e.push(function(t){return t.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),e.length?function(r){for(var i=0,s=e.length;i<s;i+=1)r=e[i](r);return f.Output.Formats[t.opt.mode].text_escape(r)}:f.Output.Formats[t.opt.mode].text_escape}return function(t){return t}},SKIP_WORDS:["about","above","across","afore","after","against","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-à-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","et","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],CREATORS:["author","editor","contributor","translator","recipient","interviewer","composer","original-author","container-author","collection-editor"],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokmål)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukranian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"ª":"a","²":"2","³":"3","¹":"1","º":"o","ʰ":"h","ʱ":"ɦ","ʲ":"j","ʳ":"r","ʴ":"ɹ","ʵ":"ɻ","ʶ":"ʁ","ʷ":"w","ʸ":"y","ˠ":"ɣ","ˡ":"l","ˢ":"s","ˣ":"x","ˤ":"ʕ","ᴬ":"A","ᴭ":"Æ","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴲ":"Ǝ","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴽ":"Ȣ","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ᵂ":"W","ᵃ":"a","ᵄ":"ɐ","ᵅ":"ɑ","ᵆ":"ᴂ","ᵇ":"b","ᵈ":"d","ᵉ":"e","ᵊ":"ə","ᵋ":"ɛ","ᵌ":"ɜ","ᵍ":"g","ᵏ":"k","ᵐ":"m","ᵑ":"ŋ","ᵒ":"o","ᵓ":"ɔ","ᵔ":"ᴖ","ᵕ":"ᴗ","ᵖ":"p","ᵗ":"t","ᵘ":"u","ᵙ":"ᴝ","ᵚ":"ɯ","ᵛ":"v","ᵜ":"ᴥ","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"φ","ᵡ":"χ","⁰":"0","ⁱ":"i","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","⁺":"+","⁻":"−","⁼":"=","⁽":"(","⁾":")","ⁿ":"n","℠":"SM","™":"TM","㆒":"一","㆓":"二","㆔":"三","㆕":"四","㆖":"上","㆗":"中","㆘":"下","㆙":"甲","㆚":"乙","㆛":"丙","㆜":"丁","㆝":"天","㆞":"地","㆟":"人","ˀ":"ʔ","ˁ":"ʕ","ۥ":"و","ۦ":"ي"},SUPERSCRIPTS_REGEXP:new RegExp("[ª²³¹ºʰʱʲʳʴʵʶʷʸˠˡˢˣˤᴬᴭᴮᴰᴱᴲᴳᴴᴵᴶᴷᴸᴹᴺᴼᴽᴾᴿᵀᵁᵂᵃᵄᵅᵆᵇᵈᵉᵊᵋᵌᵍᵏᵐᵑᵒᵓᵔᵕᵖᵗᵘᵙᵚᵛᵜᵝᵞᵟᵠᵡ⁰ⁱ⁴⁵⁶⁷⁸⁹⁺⁻⁼⁽⁾ⁿ℠™㆒㆓㆔㆕㆖㆗㆘㆙㆚㆛㆜㆝㆞㆟ˀˁۥۦ]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(t,e,r){if(t.tmp.group_context.tip.condition){if(t.tmp.group_context.tip.condition.test){var i;if("empty-label"===t.tmp.group_context.tip.condition.test)i=!e;else if("empty-label-no-decor"===t.tmp.group_context.tip.condition.test)i=!e||e.indexOf("%s")>-1;else if("comma-safe"===t.tmp.group_context.tip.condition.test){var s=!e,n=e.slice(0,1).match(f.ALL_ROMANESQUE_REGEXP);t.tmp.just_did_number;i=!!s||!(!n||r)}t.tmp.group_context.tip.force_suppress=!i,t.tmp.group_context.tip.condition.not&&(t.tmp.group_context.tip.force_suppress=!t.tmp.group_context.tip.force_suppress)}}else e.slice(-1).match(/[0-9]/)?t.tmp.just_did_number=!0:t.tmp.just_did_number=!1},locale:{},locale_opts:{},locale_dates:{}};if(void 0!==t&&void 0!==e&&"exports"in e){r.CSL=f}f.TERMINAL_PUNCTUATION_REGEXP=new RegExp("^(["+f.TERMINAL_PUNCTUATION.slice(0,-1).join("")+"])(.*)"),f.CLOSURES=new RegExp(".*[\\]\\)]"),e.exports=f,"undefined"==typeof console?(f.debug=function(t){dump("CSL: "+t+"\n")},f.error=function(t){dump("CSL error: "+t+"\n")}):(f.debug=function(t){console.log("CSL: "+t)},f.error=function(t){console.log("CSL error: "+t)}),e.exports=f,f.XmlJSON=function(t){this.dataObj=t,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", ","substitute-use-first":"1","use-last":"1"},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},f.XmlJSON.prototype.clean=function(t){return t},f.XmlJSON.prototype.getStyleId=function(t,e){var r="id";e&&(r="title");for(var i="",s=t.children,n=0,o=s.length;n<o;n++)if("info"===s[n].name)for(var a=s[n].children,l=0,u=a.length;l<u;l++)a[l].name===r&&(i=a[l].children[0]);return i},f.XmlJSON.prototype.children=function(t){return!(!t||!t.children.length)&&t.children.slice()},f.XmlJSON.prototype.nodename=function(t){return t?t.name:null},f.XmlJSON.prototype.attributes=function(t){var e={};for(var r in t.attrs)e["@"+r]=t.attrs[r];return e},f.XmlJSON.prototype.content=function(t){var e="";if(!t||!t.children)return e;for(var r=0,i=t.children.length;r<i;r+=1)"string"==typeof t.children[r]&&(e+=t.children[r]);return e},f.XmlJSON.prototype.namespace={},f.XmlJSON.prototype.numberofnodes=function(t){return t&&"number"==typeof t.length?t.length:0},f.XmlJSON.prototype.getAttributeValue=function(t,e,r){var i="";return r&&(e=r+":"+e),t&&t.attrs&&(i=t.attrs[e]?t.attrs[e]:""),i},f.XmlJSON.prototype.getNodeValue=function(t,e){var r="";if(e)for(var i=0,s=t.children.length;i<s;i+=1)t.children[i].name===e&&(r=t.children[i].children.length?t.children[i]:"");else t&&(r=t);return r&&r.children&&1==r.children.length&&"string"==typeof r.children[0]&&(r=r.children[0]),r},f.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,r,i,s){"@"===i.slice(0,1)&&(i=i.slice(1));for(var n=0,o=t.children.length;n<o;n+=1)t.children[n].name===e&&t.children[n].attrs.name===r&&(t.children[n].attrs[i]=s)},f.XmlJSON.prototype.deleteNodeByNameAttribute=function(t,e){var r,i;for(r=0,i=t.children.length;r<i;r+=1)t.children[r]&&"string"!=typeof t.children[r]&&t.children[r].attrs.name==e&&(t.children=t.children.slice(0,r).concat(t.children.slice(r+1)))},f.XmlJSON.prototype.deleteAttribute=function(t,e){void 0!==t.attrs[e]&&t.attrs.pop(e)},f.XmlJSON.prototype.setAttribute=function(t,e,r){return t.attrs[e]=r,!1},f.XmlJSON.prototype.nodeCopy=function(t,e){if(!e)e={};if("object"===i(e)&&void 0===e.length)for(var r in t)"string"==typeof t[r]?e[r]=t[r]:"object"===i(t[r])&&(void 0===t[r].length?e[r]=this.nodeCopy(t[r],{}):e[r]=this.nodeCopy(t[r],[]));else for(var s=0,n=t.length;s<n;s+=1)"string"==typeof t[s]?e[s]=t[s]:e[s]=this.nodeCopy(t[s],{});return e},f.XmlJSON.prototype.getNodesByName=function(t,e,r,s){if(!s)s=[];if(!t||!t.children)return s;e===t.name&&(r?r===t.attrs.name&&s.push(t):s.push(t));for(var n=0,o=t.children.length;n<o;n+=1)"object"===i(t.children[n])&&this.getNodesByName(t.children[n],e,r,s);return s},f.XmlJSON.prototype.nodeNameIs=function(t,e){return void 0!==t&&e==t.name},f.XmlJSON.prototype.makeXml=function(t){return"string"==typeof t&&(t="<"===t.slice(0,1)?this.jsonStringWalker.walkToObject(t):JSON.parse(t)),t},f.XmlJSON.prototype.insertChildNodeAfter=function(t,e,r,i){for(var s=0,n=t.children.length;s<n;s+=1)if(e===t.children[s]){t.children=t.children.slice(0,s).concat([i]).concat(t.children.slice(s+1));break}return t},f.XmlJSON.prototype.insertPublisherAndPlace=function(t){if("group"===t.name){for(var e=!0,r=["publisher","publisher-place"],s=0,n=t.children.length;s<n;s+=1){var o=r.indexOf(t.children[s].attrs.variable);if(!("text"===t.children[s].name&&o>-1)||t.children[s].attrs.prefix||t.children[s].attrs.suffix){e=!1;break}r=r.slice(0,o).concat(r.slice(o+1))}e&&!r.length&&(t.attrs["has-publisher-and-publisher-place"]=!0)}for(s=0,n=t.children.length;s<n;s+=1)"object"===i(t.children[s])&&this.insertPublisherAndPlace(t.children[s])},f.XmlJSON.prototype.isChildOfSubstitute=function(t){if(t.length>0){var e=t.slice();return"substitute"===e.pop()||this.isChildOfSubstitute(e)}return!1},f.XmlJSON.prototype.addMissingNameNodes=function(t,e){if(e||(e=[]),"names"===t.name&&!this.isChildOfSubstitute(e)){for(var r=!0,s=0,n=t.children.length;s<n;s++)if("name"===t.children[s].name){r=!1;break}r&&(t.children=[{name:"name",attrs:{},children:[]}].concat(t.children))}e.push(t.name);for(s=0,n=t.children.length;s<n;s+=1)"object"===i(t.children[s])&&this.addMissingNameNodes(t.children[s],e);e.pop()},f.XmlJSON.prototype.addInstitutionNodes=function(t){if("names"===t.name){for(var e={},r=-1,i=0,s=t.children.length;i<s;i+=1){if("name"==t.children[i].name){for(var n in t.children[i].attrs)e[n]=t.children[i].attrs[n];e.delimiter=t.children[i].attrs.delimiter,e.and=t.children[i].attrs.and,r=i;for(var o=0,a=t.children[i].children.length;o<a;o+=1)if("family"===t.children[i].children[o].attrs.name)for(var n in t.children[i].children[o].attrs)e[n]=t.children[i].children[o].attrs[n]}if("institution"==t.children[i].name){r=-1;break}}if(r>-1){var l=this.nodeCopy(this.institution);for(i=0,s=f.INSTITUTION_KEYS.length;i<s;i+=1){var u=f.INSTITUTION_KEYS[i];void 0!==e[u]&&(l.children[0].attrs[u]=e[u]),e.delimiter&&(l.attrs.delimiter=e.delimiter),e.and&&(l.attrs.and="text")}t.children=t.children.slice(0,r+1).concat([l]).concat(t.children.slice(r+1))}}for(i=0,s=t.children.length;i<s;i+=1)"string"!=typeof t.children[i]&&this.addInstitutionNodes(t.children[i])},f.XmlJSON.prototype.flagDateMacros=function(t){for(var e=0,r=t.children.length;e<r;e+=1)"macro"===t.children[e].name&&this.inspectDateMacros(t.children[e])&&(t.children[e].attrs["macro-has-date"]="true")},f.XmlJSON.prototype.inspectDateMacros=function(t){if(!t||!t.children)return!1;if("date"===t.name)return!0;for(var e=0,r=t.children.length;e<r;e+=1)if(this.inspectDateMacros(t.children[e]))return!0;return!1},f.stripXmlProcessingInstruction=function(t){return t?t=(t=(t=(t=t.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):t},f.parseXml=function(t){var e={children:[]},r=[e.children];function i(t){return t.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(t,e){var r=parseInt(e,10);return String.fromCharCode(r)}).replace(/&#x([a-f0-9]{1,6});/gi,function(t,e){var r=parseInt(e,16);return String.fromCharCode(r)})}function s(t,e){var r=RegExp("^.*[\t ]+"+e+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),i=t.match(r);return i?i[1].slice(1,-1):null}function n(t){var e=RegExp("^<([^\t />]+)"),r=t.match(e);return r?r[1]:null}function o(t){var e={};e.name=n(t),e.attrs={};var r=function(t){var e=t.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(e)for(var r=0,i=e.length;r<i;r++)e[r]=e[r].replace(/=.*/,"");return e}(t);if(r)for(var o=0,a=r.length;o<a;o++){var l={name:r[o],value:s(t,r[o])};e.attrs[l.name]=i(l.value)}return e.children=[],e}function a(t){return i(t.match(/^.*>([^<]*)<.*$/)[1])}function l(t){r.slice(-1)[0].push(t)}function u(t){var e;t.slice(1).indexOf("<")>-1?((e=o(t.slice(0,t.indexOf(">")+1))).children=[a(t)],l(e)):"/>"===t.slice(-2)?(e=o(t),"term"===n(t)&&e.children.push(""),l(e)):"</"===t.slice(0,2)?r.pop():(l(e=o(t)),function(t){r.push(t.children)}(e))}for(var c=function(t){for(var e=(t=t.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),r=null,i=0,s=e.length;i<s;i++)i>0&&(e[i]="<"+e[i]),i<e.length-1&&(e[i]=e[i]+">"),"number"!=typeof r&&("<style "!==e[i].slice(0,7)&&"<locale "!=e[i].slice(0,8)||(r=i));for(i=(e=e.slice(r)).length-2;i>-1;i--)if(-1===e[i].slice(1).indexOf("<")){var n=e[i].slice(0,5);"/>"!==e[i].slice(-2)&&("<term"===n?"</term"===e[i+1].slice(0,6)&&(e[i]=e[i]+e[i+1],e=e.slice(0,i+1).concat(e.slice(i+2))):["<sing","<mult"].indexOf(n)>-1&&"/>"!==e[i].slice(-2)&&"<"===e[i+1].slice(0,1)&&(e[i]=e[i]+e[i+1],e=e.slice(0,i+1).concat(e.slice(i+2))))}return e}(t),p=0,m=c.length;p<m;p++){u(c[p])}return e.children[0]},e.exports=f,f.XmlDOM=function(t){this.dataObj=t,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(t,e){var r;return"undefined"!=typeof ActiveXObject?((r=new ActiveXObject("MSXML.DomDocument")).async=!1,r.loadXML(t),r):"undefined"!=typeof XMLHttpRequest?(e||(e="text/xml"),(r=new XMLHttpRequest).open("GET","data:"+e+";charset=utf-8,"+encodeURIComponent(t),!1),r.overrideMimeType&&r.overrideMimeType(e),r.send(null),r.responseXML):"undefined"!=typeof marknote?(new marknote.Parser).parse(t):void 0},this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)}):this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)},this.importNode=function(t,e){if(void 0===t.importNode)var r=this._importNode(t,e,!0);else r=t.importNode(e,!0);return r},this._importNode=function(t,e,r){switch(e.nodeType){case 1:var i=t.createElement(e.nodeName);if(e.attributes&&e.attributes.length>0)for(var s=0,n=e.attributes.length;s<n;)i.setAttribute(e.attributes[s].nodeName,e.getAttribute(e.attributes[s++].nodeName));if(r&&e.childNodes&&e.childNodes.length>0)for(s=0,n=e.childNodes.length;s<n;)i.appendChild(this._importNode(t,e.childNodes[s++],r));return i}},this.parser=new DOMParser;var e=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),r=e.getElementsByTagName("institution");this.institution=r.item(0);var i=e.getElementsByTagName("institution-part");this.institutionpart=i.item(0),this.ns="http://purl.org/net/xbiblio/csl"},f.XmlDOM.prototype.clean=function(t){return t=(t=(t=(t=(t=t.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},f.XmlDOM.prototype.getStyleId=function(t,e){var r="",i="id";e&&(i="title");var s=t.getElementsByTagName(i);return s&&s.length&&(s=s.item(0)),s&&(r=s.textContent),r||(r=s.innerText),r||(r=s.innerHTML),r},f.XmlDOM.prototype.children=function(t){var e,r,i,s;if(t){for(s=[],r=0,i=(e=t.childNodes).length;r<i;r+=1)"#text"!=e[r].nodeName&&s.push(e[r]);return s}return[]},f.XmlDOM.prototype.nodename=function(t){return t.nodeName},f.XmlDOM.prototype.attributes=function(t){var e,r,i,s,n;if(e=new Object,t&&this.hasAttributes(t))for(s=0,n=(r=t.attributes).length;s<n;s+=1)e["@"+(i=r[s]).name]=i.value;return e},f.XmlDOM.prototype.content=function(t){return void 0!==t.textContent?t.textContent:void 0!==t.innerText?t.innerText:t.txt},f.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},f.XmlDOM.prototype.numberofnodes=function(t){return t?t.length:0},f.XmlDOM.prototype.getAttributeName=function(t){return t.name},f.XmlDOM.prototype.getAttributeValue=function(t,e,r){var i="";return r&&(e=r+":"+e),t&&this.hasAttributes(t)&&t.getAttribute(e)&&(i=t.getAttribute(e)),i},f.XmlDOM.prototype.getNodeValue=function(t,e){var r=null;if(e){var i=t.getElementsByTagName(e);i.length>0&&(r=void 0!==i[0].textContent?i[0].textContent:void 0!==i[0].innerText?i[0].innerText:i[0].text)}return null===r&&t&&t.childNodes&&(0==t.childNodes.length||1==t.childNodes.length&&"#text"==t.firstChild.nodeName)&&(r=void 0!==t.textContent?t.textContent:void 0!==t.innerText?t.innerText:t.text),null===r&&(r=t),r},f.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,r,i,s){var n,o,a,l;for("@"===i.slice(0,1)&&(i=i.slice(1)),n=0,o=(a=t.getElementsByTagName(e)).length;n<o;n+=1)(l=a[n]).getAttribute("name")==r&&l.setAttribute(i,s)},f.XmlDOM.prototype.deleteNodeByNameAttribute=function(t,e){var r,i,s,n;for(r=0,i=(n=t.childNodes).length;r<i;r+=1)(s=n[r])&&s.nodeType!=s.TEXT_NODE&&this.hasAttributes(s)&&s.getAttribute("name")==e&&t.removeChild(n[r])},f.XmlDOM.prototype.deleteAttribute=function(t,e){t.removeAttribute(e)},f.XmlDOM.prototype.setAttribute=function(t,e,r){return t.ownerDocument||(t=t.firstChild),["function","unknown"].indexOf(i(t.setAttribute))>-1&&t.setAttribute(e,r),!1},f.XmlDOM.prototype.nodeCopy=function(t){return t.cloneNode(!0)},f.XmlDOM.prototype.getNodesByName=function(t,e,r){var i,s,n,o,a;for(i=[],o=0,a=(s=t.getElementsByTagName(e)).length;o<a;o+=1)n=s.item(o),(!r||this.hasAttributes(n)&&n.getAttribute("name")==r)&&i.push(n);return i},f.XmlDOM.prototype.nodeNameIs=function(t,e){return e==t.nodeName},f.XmlDOM.prototype.makeXml=function(t){return t||(t="<docco><bogus/></docco>"),t=t.replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(t,"application/xml").firstChild},f.XmlDOM.prototype.insertChildNodeAfter=function(t,e,r,i){var s;return s=this.importNode(e.ownerDocument,i),t.replaceChild(s,e),t},f.XmlDOM.prototype.insertPublisherAndPlace=function(t){for(var e=t.getElementsByTagName("group"),r=0,i=e.length;r<i;r+=1){for(var s=e.item(r),n=[],o=0,a=s.childNodes.length;o<a;o+=1)1!==s.childNodes.item(o).nodeType&&n.push(o);if(s.childNodes.length-n.length==2){var l=[];for(o=0,a=2;o<a;o+=1)if(!(n.indexOf(o)>-1)){for(var u=s.childNodes.item(o),c=[],p=0,m=u.childNodes.length;p<m;p+=1)1!==u.childNodes.item(p).nodeType&&c.push(p);if(u.childNodes.length-c.length==0&&(l.push(u.getAttribute("variable")),u.getAttribute("suffix")||u.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&s.setAttribute("has-publisher-and-publisher-place",!0)}}},f.XmlDOM.prototype.isChildOfSubstitute=function(t){return!!t.parentNode&&("substitute"===t.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(t.parentNode))},f.XmlDOM.prototype.addMissingNameNodes=function(t){for(var e=t.getElementsByTagName("names"),r=0,i=e.length;r<i;r+=1){var s=e.item(r),n=s.getElementsByTagName("name");if(!(n&&0!==n.length||this.isChildOfSubstitute(s))){var o=s.ownerDocument.createElement("name");s.appendChild(o)}}},f.XmlDOM.prototype.addInstitutionNodes=function(t){var e,r,i,s,n,o,a;for(o=0,a=(e=t.getElementsByTagName("names")).length;o<a;o+=1)if(0!=(s=(r=e.item(o)).getElementsByTagName("name")).length&&0==r.getElementsByTagName("institution").length){i=this.importNode(t.ownerDocument,this.institution),theinstitutionpart=i.getElementsByTagName("institution-part").item(0),n=s.item(0),r.insertBefore(i,n.nextSibling);for(var l=0,u=f.INSTITUTION_KEYS.length;l<u;l+=1){var c=f.INSTITUTION_KEYS[l];(d=n.getAttribute(c))&&theinstitutionpart.setAttribute(c,d)}var p=n.getElementsByTagName("name-part");for(l=0,u=p.length;l<u;l+=1)if("family"===p[l].getAttribute("name"))for(var m=0,h=f.INSTITUTION_KEYS.length;m<h;m+=1){var d;c=f.INSTITUTION_KEYS[m];(d=p[l].getAttribute(c))&&theinstitutionpart.setAttribute(c,d)}}},f.XmlDOM.prototype.flagDateMacros=function(t){var e,r,i;for(nodes=t.getElementsByTagName("macro"),e=0,r=nodes.length;e<r;e+=1)(i=nodes.item(e)).getElementsByTagName("date").length&&i.setAttribute("macro-has-date","true")},e.exports=f,e.exports=f,f.setupXml=function(t){var e={},r=null;if(void 0!==t?"string"==typeof t?(e="<"===(t=t.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?f.parseXml(t):JSON.parse(t),r=new f.XmlJSON(e)):r=void 0!==t.getAttribute?new f.XmlDOM(t):void 0!==t.toXMLString?new f.XmlE4X(t):new f.XmlJSON(t):f.error("unable to parse XML input"),!r)throw"citeproc-js error: unable to parse CSL style or locale object";return r},e.exports=f,f.getSortCompare=function(t){if(f.stringCompare)return f.stringCompare;var e,r={sensitivity:"base",ignorePunctuation:!0,numeric:!0};t||(t="en-US");var i=function(t){return t.replace(/^[\[\]\'\"]*/g,"")},s=!!(e=function(e,i){return e.toLocaleLowerCase().localeCompare(i.toLocaleLowerCase(),t,r)})("[x","x")&&function(t,r){return e(i(t),i(r))};return function(t,r){return s?s(t,r):e(t,r)}},e.exports=f,f.ambigConfigDiff=function(t,e){var r,i,s,n;if(t.names.length!==e.names.length)return 1;for(r=0,i=t.names.length;r<i;r+=1){if(t.names[r]!==e.names[r])return 1;for(s=0,n=t.givens[r];s<n;s+=1)if(t.givens[r][s]!==e.givens[r][s])return 1}return t.disambiguate!=e.disambiguate?1:t.year_suffix!==e.year_suffix?1:0},f.cloneAmbigConfig=function(t,e,r){var i,s,n,o,a,l={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(i=0,s=t.names.length;i<s;i+=1)a=t.names[i],l.names[i]=a;for(i=0,s=t.givens.length;i<s;i+=1){for(a=[],n=0,o=t.givens[i].length;n<o;n+=1)a.push(t.givens[i][n]);l.givens.push(a)}return e?(l.year_suffix=e.year_suffix,l.disambiguate=e.disambiguate):(l.year_suffix=t.year_suffix,l.disambiguate=t.disambiguate),l},f.getAmbigConfig=function(){var t;return(t=this.tmp.disambig_request)||(t=this.tmp.disambig_settings),f.cloneAmbigConfig(t)},f.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},f.getMinVal=function(){return this.tmp["et-al-min"]},e.exports=f,f.tokenExec=function(t,e,r){var i,s;i=t.next,s=!1;t.test&&(i=function(e){return e?(this.tmp.jump.replace("succeed"),t.succeed):(this.tmp.jump.replace("fail"),t.fail)}.call(this,t.test(e,r)));for(var n=0,o=t.execs.length;n<o;n++)(s=t.execs[n].call(t,this,e,r))&&(i=s);return i},f.expandMacro=function(t,e){var r,i,s;r=t.postponed_macro,t=new f.Token("group",f.START);var n=!1,o=!1;if((i=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",r)).length&&(o=this.cslXml.getAttributeValue(i[0],"cslid"),n=this.cslXml.getAttributeValue(i[0],"macro-has-date")),n&&(r=r+"@"+this.build.current_default_locale,u=function(t,e){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!0)},t.execs.push(u)),this.build.macro_stack.indexOf(r)>-1)throw'CSL processor error: call to macro "'+r+'" would cause an infinite loop';if(this.build.macro_stack.push(r),t.cslid=o,f.MODULE_MACROS[r]&&(t.juris=r,this.opt.update_mode=f.POSITION),f.Node.group.build.call(t,this,e,!0),!this.cslXml.getNodeValue(i))throw'CSL style error: undefined macro "'+r+'"';var a,l=f.getMacroTarget.call(this,r);if(l&&(f.buildMacro.call(this,l,i),f.configureMacro.call(this,l)),!this.build.extension){var u=(a=r,function(t,e,r){for(var i=0;i<t.macros[a].length;)i=f.tokenExec.call(t,t.macros[a][i],e,r)}),c=new f.Token("text",f.SINGLETON);c.execs.push(u),e.push(c)}s=new f.Token("group",f.END),n&&(u=function(t,e){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!1)},s.execs.push(u)),t.juris&&(s.juris=r),f.Node.group.build.call(s,this,e,!0),this.build.macro_stack.pop()},f.getMacroTarget=function(t){var e=!1;return this.build.extension?e=this[this.build.root+this.build.extension].tokens:this.macros[t]||(e=[],this.macros[t]=e),e},f.buildMacro=function(t,e){f.makeBuilder(this,t)(void 0===e.length?e:e[0])},f.configureMacro=function(t){this.build.extension||this.configureTokenList(t)},f.XmlToToken=function(t,e,r,i){var s,n,o,a,l,u;if(s=t.cslXml.nodename(this),!t.build.skip||t.build.skip===s)if(s){if(!f.Node[t.cslXml.nodename(this)])throw'Undefined node name "'+s+'".';if([],o=t.cslXml.attributes(this),a=f.setDecorations.call(this,t,o),l=new f.Token(s,e),e!==f.END||"if"===s||"else-if"===s||"layout"===s){for(var c in o)if(o.hasOwnProperty(c)){if(e===f.END&&"@language"!==c&&"@locale"!==c)continue;if(o.hasOwnProperty(c))if(f.Attributes[c])try{f.Attributes[c].call(l,t,""+o[c])}catch(t){throw f.error(t),"CSL processor error, "+c+" attribute: "+t}else f.debug('warning: undefined attribute "'+c+'" in style')}l.decorations=a,f.DATE_VARIABLES.indexOf(o["@variable"])>-1&&i.push(l.variables)}else e===f.END&&o["@variable"]&&(l.hasVariable=!0,f.DATE_VARIABLES.indexOf(o["@variable"])>-1&&(l.variables=i.pop()));u=r||t[t.build.area].tokens,f.Node[s].build.call(l,t,u,!0)}else(n=t.cslXml.content(this))&&(t.build.text=n)},e.exports=f,f.DateParser=new function(){for(var t=[["明治",1867],["大正",1911],["昭和",1925],["平成",1988]],e={},r=0,i=t.length;r<i;r++){var s=t[r][0],n=t[r][1];e[s]=n}var o=[];for(r=0,i=t.length;r<i;r++){n=t[r][0];o.push(n)}var a=o.join("|"),l=new RegExp("(?:"+a+")(?:[0-9]+)"),u=new RegExp("(?:"+a+")(?:[0-9]+)","g"),c=/(\u6708|\u5E74)/g,p=/\u65E5/g,m=/\u301c/g,h="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",d=new RegExp(h.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),g=new RegExp(h.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),b=new RegExp(h.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var t=0,e=this.monthStrings.length;t<e;t++)this.monthSets.push([this.monthStrings[t]]);this.monthAbbrevs=[];for(t=0,e=this.monthSets.length;t<e;t++){this.monthAbbrevs.push([]);for(var r=0,i=this.monthSets[t].length;r<i;r++)this.monthAbbrevs[t].push(this.monthSets[t][0].slice(0,3))}this.monthRexes=[];for(t=0,e=this.monthAbbrevs.length;t<e;t++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[t].join("|")+")"))},this.addDateParserMonths=function(t){if("string"==typeof t&&(t=t.split(/\s+/)),12===t.length||16===t.length){for(var e=0,r=t.length;e<r;e++){for(var i=null,s=!1,n=3,o={},a=0,l=this.monthAbbrevs.length;a<l;a++){if(o[a]={},a===e){for(var u=0,c=this.monthAbbrevs[e].length;u<c;u++)if(this.monthAbbrevs[e][u]===t[e].slice(0,this.monthAbbrevs[e][u].length)){s=!0;break}}else for(u=0,c=this.monthAbbrevs[a].length;u<c;u++)if(i=this.monthAbbrevs[a][u].length,this.monthAbbrevs[a][u]===t[e].slice(0,i)){for(;this.monthSets[a][u].slice(0,i)===t[e].slice(0,i);){if(i>t[e].length||i>this.monthSets[a][u].length){f.debug("unable to disambiguate month string in date parser: "+t[e]);break}i+=1}n=i,o[a][u]=i}for(var p in o)for(kKey in o[p])i=o[p][kKey],p=parseInt(p,10),kKey=parseInt(kKey,10),this.monthAbbrevs[p][kKey]=this.monthSets[p][kKey].slice(0,i)}s||(this.monthSets[e].push(t[e]),this.monthAbbrevs[e].push(t[e].slice(0,n)))}this.monthRexes=[],this.monthRexStrs=[];for(e=0,r=this.monthAbbrevs.length;e<r;e++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[e].join("|")+")");if(18===this.monthAbbrevs.length)for(e=12,r=14;e<r;e++)this.monthRexes[e+4]=new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")"),this.monthRexStrs[e+4]="^(?:"+this.monthAbbrevs[e].join("|")+")"}else f.debug("month [+season] list of "+t.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(t){t["date-parts"]=[],t["date-parts"].push([]);for(var e=0,r=0,i=3;r<i;r++){var s=["year","month","day"][r];if(!t[s])break;e+=1,t["date-parts"][0].push(t[s]),delete t[s]}t["date-parts"].push([]);for(r=0,i=e;r<i&&t[s=["year_end","month_end","day_end"][r]];r++)t["date-parts"][1].push(t[s]),delete t[s];return t["date-parts"][0].length!==t["date-parts"][1].length&&t["date-parts"].pop(),t},this.convertDateObjectToString=function(t){for(var e=[],r=0;r<3&&t[DATE_PARTS_ALL[r]];r+=1)e.push(t[DATE_PARTS_ALL[r]]);return e.join("-")},this._parseNumericDate=function(t,e,r,i){r||(r="");for(var s=i.split(e),n=0,o=s.length;n<o;n++)if(4===s[n].length){t["year"+r]=s[n].replace(/^0*/,""),s=n?s.slice(0,n):s.slice(1);break}for(n=0,o=s.length;n<o;n++)s[n]=parseInt(s[n],10);1===s.length||2===s.length&&!s[1]?t["month"+r]=""+s[0]:2===s.length&&(s[this.monthGuess]>12?(t["month"+r]=""+s[this.dayGuess],t["day"+r]=""+s[this.monthGuess]):(t["month"+r]=""+s[this.monthGuess],t["day"+r]=""+s[this.dayGuess]))},this.parseDateToObject=function(t){var e,r=t,i=-1,s=-1,n=!1;if(t){if("-"===t.slice(0,1)&&(n=!0,t=t.slice(1)),t.match(/^[0-9]{1,3}$/))for(;t.length<4;)t="0"+t;if(S=(t=(t=""+t).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(c)){var o=(t=(t=(t=(t=(t=(t=t.replace(/\s+/g,"")).replace(p,"")).replace(c,"-")).replace(m,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(l);e=[];var a=t.match(u);if(a){for(var h=[],_=0,v=a.length;_<v;_++)h=h.concat(a[_].match(/([^0-9]+)([0-9]+)/).slice(1));for(_=0,v=o.length;_<v;_++)if(e.push(o[_]),_!==len-1){var y=2*pos;e.push(h[y]),e.push(h[y+1])}}else e=o;for(_=1,v=e.length;_<v;_+=3)e[_+1]=jiy[e[_]]+parseInt(e[_+1],10),e[_]="";i=(t=(t=(t=(t=e.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),s=t.indexOf("-")}}var x,w,A="",E="",j={};if('"'===(t=t.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===t.slice(-1))return j.literal=t.slice(1,-1),j;i>-1&&s>-1?t.split("/").length>3?(x="-",w="/",e=(t=t.replace(/\_/g,"-")).split(b)):(x="/",w="-",e=(t=t.replace(/\_/g,"/")).split(g)):(x="-",w="-",e=(t=(t=t.replace(/\//g,"-")).replace(/\_/g,"-")).split(d));var O=[];for(_=0,v=e.length;_<v;_++){var S;(S=e[_].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&O.push(S[1])}var k=O.indexOf(x),T=[],I=!1;k>-1?(T.push([0,k]),T.push([k+1,O.length]),I=!0):T.push([0,O.length]);var N="";for(_=0,v=T.length;_<v;_++){var C=T[_],D=O.slice(C[0],C[1]);t:for(var P=0,R=D.length;P<R;P++){var F=D[P];if(F.indexOf(w)>-1)this._parseNumericDate(j,w,N,F);else if(F.match(/[0-9]{4}/))j["year"+N]=F.replace(/^0*/,"");else{for(var L=0,M=this.monthRexes.length;L<M;L++)if(F.toLocaleLowerCase().match(this.monthRexes[L])){j["month"+N]=""+(parseInt(L,10)+1);continue t}F.match(/^[0-9]+$/)&&(A=F),F.toLocaleLowerCase().match(/^bc/)&&A?(j["year"+N]=""+-1*A,A=""):F.toLocaleLowerCase().match(/^ad/)&&A?(j["year"+N]=""+A,A=""):"~"===F||"?"===F||"c"===F||F.match(/^cir/)?j.circa="1":!F.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||j["season"+N]||(E=F)}}A&&(j["day"+N]=A,A=""),E&&!j["season"+N]&&(j["season"+N]=E,E=""),N="_end"}if(I)for(P=0,R=f.DATE_PARTS_ALL.length;P<R;P++){var B=f.DATE_PARTS_ALL[P];j[B]&&!j[B+"_end"]?j[B+"_end"]=j[B]:!j[B]&&j[B+"_end"]&&(j[B]=j[B+"_end"])}(!j.year||j.year&&j.day&&!j.month)&&(j={literal:r});var U=["year","month","day","year_end","month_end","day_end"];for(_=0,v=U.length;_<v;_++){var z=U[_];"string"==typeof j[z]&&j[z].match(/^[0-9]+$/)&&(j[z]=parseInt(j[z],10))}return n&&Object.keys(j).indexOf("year")>-1&&(j.year=-1*j.year),j},this.parseDateToArray=function(t){return this.convertDateObjectToArray(this.parseDateToObject(t))},this.parseDateToString=function(t){return this.convertDateObjectToString(this.parseDateToObject(t))},this.parse=function(t){return this.parseDateToObject(t)},this.setOrderMonthDay(),this.resetDateParserMonths()},e.exports=f,f.Engine=function(t,e,r,i){var s,n;this.processor_version=f.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=t,t.variableWrapper&&(f.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(f.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),f.retrieveStyleModule&&(this.sys.retrieveStyleModule=f.retrieveStyleModule),f.getAbbreviation&&(this.sys.getAbbreviation=f.getAbbreviation),this.sys.stringCompare&&(f.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=f.AbbreviationSegments,this.parallel=new f.Parallel(this),this.transform=new f.Transform(this),this.setParseNames=function(t){this.opt["parse-names"]=t},this.opt=new f.Engine.Opt,this.tmp=new f.Engine.Tmp,this.build=new f.Engine.Build,this.fun=new f.Engine.Fun(this),this.configure=new f.Engine.Configure,this.citation_sort=new f.Engine.CitationSort,this.bibliography_sort=new f.Engine.BibliographySort,this.citation=new f.Engine.Citation(this),this.bibliography=new f.Engine.Bibliography,this.output=new f.Output.Queue(this),this.dateput=new f.Output.Queue(this),this.cslXml=f.setupXml(e),(this.opt.development_extensions.csl_reverse_lookup_support||this.sys.csl_reverse_lookup_support)&&(this.build.cslNodeId=0,this.setCslNodeIds=function(t,e){var r=this.cslXml.children(t);this.cslXml.setAttribute(t,"cslid",this.build.cslNodeId),this.opt.nodenames.push(e),this.build.cslNodeId+=1;for(var i=0,s=this.cslXml.numberofnodes(r);i<s;i+=1)(e=this.cslXml.nodename(r[i]))&&this.setCslNodeIds(r[i],e)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),void 0===this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.static_statute_locator=!0,this.opt.development_extensions.handle_parallel_articles=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.rtl_support=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.CitRequire_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0),r&&(r=r.replace("_","-"),r=f.normalizeLocaleStr(r)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=f.normalizeLocaleStr(this.opt["default-locale"][0])),r&&i&&(this.opt["default-locale"]=[r]),r&&!i&&this.opt["default-locale"][0]&&(r=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(r||(r="en-US"),this.opt["default-locale"].push("en-US")),r||(r=this.opt["default-locale"][0]),s=f.localeResolve(r),this.opt.lang=s.best,this.opt["default-locale"][0]=s.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(s),this.locale[this.opt.lang].opts["skip-words-regexp"]=(n=(n=this.locale[this.opt.lang].opts["skip-words"]).slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+n.join("|")+")(?=[!?:]*\\s+|-|$))","g")),this.output.adjust=new f.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new f.Registry(this),this.macros={},this.build.area="citation";var o=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(o,this[this.build.area].tokens),this.build.area="bibliography";o=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(o,this[this.build.area].tokens),this.juris={},this.configureTokenLists(),this.disambiguate=new f.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=f.DateParser,this.fun.flipflopper=new f.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=f.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=f.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},f.Engine.prototype.setCloseQuotesArray=function(){var t;(t=[]).push(this.getTerm("close-quote")),t.push(this.getTerm("close-inner-quote")),t.push('"'),t.push("'"),this.opt.close_quotes_array=t},f.makeBuilder=function(t,e){var r=[];function i(i){f.XmlToToken.call(i,t,f.START,e,r)}function s(i){f.XmlToToken.call(i,t,f.END,e,r)}function n(i){f.XmlToToken.call(i,t,f.SINGLETON,e,r)}return function e(r){var o;if(t.cslXml.numberofnodes(t.cslXml.children(r))){i(o=r);for(var a=0;a<t.cslXml.numberofnodes(t.cslXml.children(o));a+=1)r=t.cslXml.children(o)[a],null!==t.cslXml.nodename(r)&&("date"===t.cslXml.nodename(r)&&(f.Util.fixDateNode.call(t,o,a,r),r=t.cslXml.children(o)[a]),e(r));s(o)}else n(r)}},f.Engine.prototype.buildTokenLists=function(t,e){this.cslXml.getNodeValue(t)&&f.makeBuilder(this,e)(void 0===t.length?t:t[0])},f.Engine.prototype.setStyleAttributes=function(){var t,e,r={};for(e in r.name=this.cslXml.nodename(this.cslXml.dataObj),t=this.cslXml.attributes(this.cslXml.dataObj))t.hasOwnProperty(e)&&f.Attributes[e].call(r,this,t[e])},f.Engine.prototype.getTerm=function(t,e,r,i,s,n){var o;t&&t.match(/[A-Z]/)&&t===t.toUpperCase()&&(f.debug("Warning: term key is in uppercase form: "+t),t=t.toLowerCase()),o=n?this.opt["default-locale"][0]:this.opt.lang;var a=f.Engine.getField(f.LOOSE,this.locale[o].terms,t,e,r,i);if(a||"range-delimiter"!==t||(a="–"),void 0===a){if(s===f.STRICT)throw'Error in getTerm: term "'+t+'" does not exist.';s===f.TOLERANT&&(a="")}return a&&(this.tmp.cite_renders_content=!0),a},f.Engine.prototype.getDate=function(t,e){var r;return r=e?this.opt["default-locale"]:this.opt.lang,!!this.locale[r].dates[t]&&this.locale[r].dates[t]},f.Engine.prototype.getOpt=function(t){return void 0!==this.locale[this.opt.lang].opts[t]&&this.locale[this.opt.lang].opts[t]},f.Engine.prototype.getVariable=function(t,e,r,i){return f.Engine.getField(f.LOOSE,t,e,r,i)},f.Engine.prototype.getDateNum=function(t,e){return void 0===t?0:t[e]},f.Engine.getField=function(t,e,r,i,s,n){var o,a,l,u,c,p;if(o="",void 0!==e[r]){for(p=n&&e[r][n]?e[r][n]:e[r],a=[],"symbol"===i?a=["symbol","short"]:"verb-short"===i?a=["verb-short","verb"]:"long"!==i&&(a=[i]),c=(a=a.concat(["long"])).length,u=0;u<c;u+=1)if(l=a[u],"string"==typeof p||"number"==typeof p)o=p;else if(void 0!==p[l]){o="string"==typeof p[l]||"number"==typeof p[l]?p[l]:"number"==typeof s?p[l][s]:p[l][0];break}return o}if(t===f.STRICT)throw'Error in getField: term "'+r+'" does not exist.'},f.Engine.prototype.configureTokenLists=function(){var t,e;for(e=f.AREAS.length,t=0;t<e;t+=1){var r=this[f.AREAS[t]].tokens;this.configureTokenList(r)}return this.version=f.version,this.state},f.Engine.prototype.configureTokenList=function(t){var e,r,i,s,n,o;for(e=["year","month","day"],s=t.length-1;s>-1;s+=-1){if("date"===(r=t[s]).name&&f.END===r.tokentype&&(i=[]),"date-part"===r.name&&r.strings.name)for(o=e.length,n=0;n<o;n+=1)e[n]===r.strings.name&&i.push(r.strings.name);"date"===r.name&&f.START===r.tokentype&&(i.reverse(),r.dateparts=i),r.next=s+1,r.name&&f.Node[r.name].configure&&f.Node[r.name].configure.call(r,this,s)}},f.Engine.prototype.retrieveItems=function(t){var e;e=[];for(var r=0,i=t.length;r<i;r+=1)e.push(this.retrieveItem(""+t[r]));return e},f.ITERATION=0,f.Engine.prototype.retrieveItem=function(t){var e,r;if(this.tmp.loadedItemIDs[t])return this.registry.refhash[t];if(this.tmp.loadedItemIDs[t]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var i=0,s=this.opt["default-locale"].length;i<s;i+=1)this.opt["default-locale"][i]=this.opt["default-locale"][i].toLowerCase();for(i=0,s=this.opt["locale-translit"].length;i<s;i+=1)this.opt["locale-translit"][i]=this.opt["locale-translit"][i].toLowerCase();for(i=0,s=this.opt["locale-translat"].length;i<s;i+=1)this.opt["locale-translat"][i]=this.opt["locale-translat"][i].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(f.ITERATION+=1,e=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+t))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(e.multi){if(e.multi._keys)for(var n in e.multi._keys)for(var o in e.multi._keys[n])o!==o.toLowerCase()&&(e.multi._keys[n][o.toLowerCase()]=e.multi._keys[n][o],delete e.multi._keys[n][o]);if(e.multi.main)for(var n in e.multi.main)e.multi.main[n]=e.multi.main[n].toLowerCase()}for(i=0,s=f.CREATORS.length;i>s;i+=1){var a=f.CREATORS[i];if(e[a]&&e[a].multi)for(var l=0,u=e[a].length;l<u;l+=1){var c=e[a][l];if(c.multi){if(c.multi._key)for(var o in c.multi._key)o!==o.toLowerCase()&&(c.multi._key[o.toLowerCase()]=c.multi._key[o],delete c.multi._key[o]);c.multi.main&&(c.multi.main=c.multi.main.toLowerCase())}}}}if(e.language){var p=e.language.split("<");p.length>0&&(e["language-name"]=p[0]),2===p.length&&(e["language-name-original"]=p[1])}e.page&&(e["page-first"]=e.page,"\\"!==(r=(""+e.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(e["page-first"]=r[0]));this.opt.development_extensions.field_hack&&e.note&&f.parseNoteFieldHacks(e,!1,this.opt.development_extensions.allow_field_hack_date_override);for(i=1,s=f.DATE_VARIABLES.length;i<s;i+=1){var m=e[f.DATE_VARIABLES[i]];m&&(this.opt.development_extensions.raw_date_parsing&&m.raw&&(m=this.fun.dateparser.parseDateToObject(m.raw)),e[f.DATE_VARIABLES[i]]=this.dateParseArray(m))}if(this.opt.development_extensions.static_statute_locator&&e.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1){var h,d=["type","title","jurisdiction","genre","volume","container-title"],g=[];for(i=0,s=d.length;i<s;i+=1)e[h=d[i]]&&g.push(e[h]);for(i=0,(d=["original-date","issued"]).length;i<s;i+=1)if(e[h=d[i]]&&e[h].year){var b=e[h].year;g.push(b);break}e.legislation_id=g.join("::")}this.opt.development_extensions.force_jurisdiction&&"string"==typeof e.authority&&(e.authority=[{literal:e.authority}]),e["title-short"]||(e["title-short"]=e.shortTitle),this.opt.development_extensions.main_title_from_short_title&&f.extractTitleAndSubtitle(e);var _=["bill","legal_case","legislation","gazette","regulation"].indexOf(e.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&_&&(e.jurisdiction||(e.jurisdiction="us")),!_&&e.title&&this.sys.getAbbreviation){if(e.jurisdiction||!0,this.sys.normalizeAbbrevsKey)var v=this.sys.normalizeAbbrevsKey(e.title);else v=e.title;var y=this.transform.loadAbbreviation(e.jurisdiction,"title",v,e.type);this.transform.abbrevs[y].title&&this.transform.abbrevs[y].title[v]&&(e["title-short"]=this.transform.abbrevs[y].title[v])}if(e["container-title-short"]||(e["container-title-short"]=e.journalAbbreviation),e["container-title"]&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)v=this.sys.normalizeAbbrevsKey(e["container-title"]);else v=e["container-title"];y=this.transform.loadAbbreviation(e.jurisdiction,"container-title",v);this.transform.abbrevs[y]["container-title"]&&this.transform.abbrevs[y]["container-title"][v]&&(e["container-title-short"]=this.transform.abbrevs[y]["container-title"][v])}return e.jurisdiction&&(e.country=e.jurisdiction.split(":")[0]),this.registry.refhash[t]=e,e},f.Engine.prototype.setOpt=function(t,e,r){"style"===t.name||"cslstyle"===t.name?(this.opt.inheritedAttributes[e]=r,this.citation.opt.inheritedAttributes[e]=r,this.bibliography.opt.inheritedAttributes[e]=r):["citation","bibliography"].indexOf(t.name)>-1?this[t.name].opt.inheritedAttributes[e]=r:t.strings[e]=r},f.Engine.prototype.inheritOpt=function(t,e,r,i){if(void 0!==t.strings[e])return t.strings[e];var s=this[this.tmp.root].opt.inheritedAttributes[r||e];return void 0!==s?s:i},e.exports=f,f.Engine.prototype.remapSectionVariable=function(t){for(var e=0,r=t.length;e<r;e+=1){var i=t[e][0],s=t[e][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(i.type)>-1){if(s.locator)s.locator=s.locator.trim(),(o=s.locator.match(f.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||(s.label?s.locator=f.STATUTE_SUBDIV_STRINGS_REVERSE[s.label]+" "+s.locator:s.locator="p. "+s.locator);var n=null;if(i.section)i.section=i.section.trim(),(o=i.section.match(f.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?n=o[0].trim():(i.section="sec. "+i.section,n="sec.");if(i.section)if(s.locator){var o,a=" ";(o=s.locator.match(/^([^ ]*)\s*(.*)/))?("p."===o[1]&&"p."!==n&&(s.locator=o[2]),["[","(",".",",",";",":","?"].indexOf(s.locator.slice(0,1))>-1&&(a="")):a="",s.locator=i.section+a+s.locator}else s.locator=i.section;s.label=""}}},f.Engine.prototype.setNumberLabels=function(t){if(t.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1&&this.opt.development_extensions.static_statute_locator&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var e=""+t.number,r=(e=e.split("\\").join("")).split(/\s+/)[0],i=f.STATUTE_SUBDIV_STRINGS[r];if(i){var s=e.match(f.STATUTE_SUBDIV_GROUPED_REGEX),n=e.split(f.STATUTE_SUBDIV_PLAIN_REGEX);if(n.length>1){for(var o=[],a=1,l=n.length;a<l;a+=1){s[a-1].replace(/^\s*/,"");o.push(n[a].replace(/\s*$/,"").replace(/^\s*/,""))}e=o.join(" ")}else e=n[0];this.tmp.shadow_numbers.number.label=i,this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!0}},e.exports=f,f.substituteOne=function(t){return function(e,r){return r?t.replace("%%STRING%%",r):""}},f.substituteTwo=function(t){return function(e){var r=t.replace("%%PARAM%%",e);return function(t,e){return e?r.replace("%%STRING%%",e):""}}},f.Mode=function(t){var e,r,i,s,n,o;for(i in e={},r=f.Output.Formats[t])if("@"===i.slice(0,1)){if(s=!1,n=r[i],o=i.split("/"),"string"==typeof n&&n.indexOf("%%STRING%%")>-1)s=n.indexOf("%%PARAM%%")>-1?f.substituteTwo(n):f.substituteOne(n);else if("boolean"!=typeof n||n){if("function"!=typeof n)throw"CSL.Compiler: Bad "+t+" config entry for "+i+": "+n;s=n}else s=f.Output.Formatters.passthrough;1===o.length?e[o[0]]=s:2===o.length&&(e[o[0]]||(e[o[0]]={}),e[o[0]][o[1]]=s)}else e[i]=r[i];return e},f.setDecorations=function(t,e){var r,i;for(i in r=[],f.FORMAT_KEY_SEQUENCE){var s;e[s=f.FORMAT_KEY_SEQUENCE[i]]&&(r.push([s,e[s]]),delete e[s])}return r},f.Doppeler=function(t,e){this.split=function(t){e&&(t=e(t));var s=t.match(r);if(!s)return{tags:[],strings:[t]};for(var n=t.split(i),o=s.length-1;o>-1;o--){var a=s[o];"'"===a&&n[o+1].length>0&&(n[o+1]=s[o]+n[o+1],s[o]="")}return{tags:s,strings:n,origStrings:n.slice()}},this.join=function(t){for(var e=t.strings.slice(-1),r=t.tags.length-1;r>-1;r--)e.push(t.tags[r]),e.push(t.strings[r]);return e.reverse(),e.join("")};var r=new RegExp("("+t+")","g"),i=new RegExp(t,"g")},f.Engine.prototype.normalDecorIsOrphan=function(t,e){if("normal"===e[1]){for(var r,i=!1,s=(r="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(t.alldecor):t.alldecor).length-1;s>-1;s+=-1)for(var n=r[s].length-1;n>-1;n+=-1)r[s][n][0]===e[0]&&"normal"!==r[s][n][1]&&(i=!0);if(!i)return!0}return!1},e.exports=f,f.Engine.prototype.getCitationLabel=function(t){var e="",r=this.getTrigraphParams(),i=r[0],s=this.getTerm("reference","short",0);void 0===s&&(s="reference"),s=(s=s.replace(".","")).slice(0,1).toUpperCase()+s.slice(1);for(var n=0,o=f.CREATORS.length;n<o;n+=1){var a=f.CREATORS[n];if(t[a]){var l=t[a];i=l.length>r.length?r[r.length-1]:r[l.length-1];for(var u=0,c=l.length;u<c&&u!==i.authors.length;u+=1){var p=this.nameOutput.getName(l[u],"locale-translit",!0).name;p&&p.family?s=(s=p.family).replace(/^([ \'\u2019a-z]+\s+)/,""):p&&p.literal&&(s=p.literal);var m=s.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(m&&(s=s.slice(m[1].length)),!(s=s.replace(f.ROMANESQUE_NOT_REGEXP,"")))break;(s=s.slice(0,i.authors[u])).length>1?s=s.slice(0,1).toUpperCase()+s.slice(1).toLowerCase():1===s.length&&(s=s.toUpperCase()),e+=s}break}}if(!e&&t.title){var h=this.locale[this.opt.lang].opts["skip-words"],d=t.title.split(/\s+/);for(n=d.length-1;n>-1;n--)h.indexOf(d[n])>-1&&(d=d.slice(0,n).concat(d.slice(n+1)));var g=d.join("");(g=g.slice(0,r[0].authors[0])).length>1?g=g.slice(0,1).toUpperCase()+g.slice(1).toLowerCase():1===g.length&&(g=g.toUpperCase()),e=g}var b="0000";return t.issued&&t.issued.year&&(b=""+t.issued.year),e+=b=b.slice(-1*i.year)},f.Engine.prototype.getTrigraphParams=function(){var t=[],e=this.opt.trigraph.split(":");if(!this.opt.trigraph||"A"!==this.opt.trigraph.slice(0,1))throw"Bad trigraph definition: "+this.opt.trigraph;for(var r=0,i=e.length;r<i;r+=1){for(var s=e[r],n={authors:[],year:0},o=0,a=s.length;o<a;o+=1)switch(s.slice(o,o+1)){case"A":n.authors.push(1);break;case"a":n.authors[n.authors.length-1]+=1;break;case"0":n.year+=1;break;default:throw"Invalid character in trigraph definition: "+this.opt.trigraph}t.push(n)}return t},e.exports=f,f.Engine.prototype.setOutputFormat=function(t){this.opt.mode=t,this.fun.decorate=f.Mode(t),this.output[t]||(this.output[t]={},this.output[t].tmp={})},f.Engine.prototype.getSortFunc=function(){return function(t,e){return t=t.split("-"),e=e.split("-"),t.length<e.length?1:t.length>e.length?-1:(t=t.slice(-1)[0],e=e.slice(-1)[0],t.length<e.length?1:t.length>e.length?-1:0)}},f.Engine.prototype.setLangTagsForCslSort=function(t){var e,r;if(t)for(this.opt["locale-sort"]=[],e=0,r=t.length;e<r;e+=1)this.opt["locale-sort"].push(t[e]);this.opt["locale-sort"].sort(this.getSortFunc())},f.Engine.prototype.setLangTagsForCslTransliteration=function(t){var e,r;if(this.opt["locale-translit"]=[],t)for(e=0,r=t.length;e<r;e+=1)this.opt["locale-translit"].push(t[e]);this.opt["locale-translit"].sort(this.getSortFunc())},f.Engine.prototype.setLangTagsForCslTranslation=function(t){var e,r;if(this.opt["locale-translat"]=[],t)for(e=0,r=t.length;e<r;e+=1)this.opt["locale-translat"].push(t[e]);this.opt["locale-translat"].sort(this.getSortFunc())},f.Engine.prototype.setLangPrefsForCites=function(t,e){var r=this.opt["cite-lang-prefs"];e||(e=function(t){return t.toLowerCase()});for(var i=["Persons","Institutions","Titles","Journals","Publishers","Places"],s=0,n=i.length;s<n;s+=1){var o=e(i[s]),a=i[s].toLowerCase();if(t[o]){for(var l=[];t[o].length>1;)l.push(t[o].pop());var u={orig:1,translit:2,translat:3};for(2===l.length&&u[l[0]]<u[l[1]]&&l.reverse();l.length;)t[o].push(l.pop());for(var c=r[a];c.length;)c.pop();for(var p=0,m=t[o].length;p<m;p+=1)c.push(t[o][p])}}},f.Engine.prototype.setLangPrefsForCiteAffixes=function(t){if(t&&48===t.length){for(var e,r=this.opt.citeAffixes,i=0,s=["persons","institutions","titles","journals","publishers","places"],n=["translit","orig","translit","translat"],o=0,a=s.length;o<a;o+=1)for(var l=0,u=n.length;l<u;l+=1)e="",i%8==4&&(r[s[o]]["locale-"+n[l]].prefix||r[s[o]]["locale-"+n[l]].suffix)||(e=t[i]?t[i]:"",r[s[o]]["locale-"+n[l]].prefix=e,e=t[i]?t[i+1]:"",r[s[o]]["locale-"+n[l]].suffix=e),i+=2;this.opt.citeAffixes=r}},f.Engine.prototype.setAutoVietnameseNamesOption=function(t){this.opt["auto-vietnamese-names"]=!!t},f.Engine.prototype.setAbbreviations=function(t){this.sys.setAbbreviations&&this.sys.setAbbreviations(t)},f.Engine.prototype.setSuppressTrailingPunctuation=function(t){this.citation.opt.suppressTrailingPunctuation=!!t},e.exports=f,f.Output={},f.Output.Queue=function(t){this.levelname=["top"],this.state=t,this.queue=[],this.empty=new f.Token("empty");var e={};e.empty=this.empty,this.formats=new f.Stack(e),this.current=new f.Stack(this.queue)},f.Output.Queue.prototype.pop=function(){var t=this.current.value();return t.length?t.pop():t.blobs.pop()},f.Output.Queue.prototype.getToken=function(t){return this.formats.value()[t]},f.Output.Queue.prototype.mergeTokenStrings=function(t,e){var r,i,s;if(s=r=this.formats.value()[t],i=this.formats.value()[e]){r||((r=new f.Token(t,f.SINGLETON)).decorations=[]),s=new f.Token(t,f.SINGLETON);var n="";for(var n in r.strings)r.strings.hasOwnProperty(n)&&(s.strings[n]=r.strings[n]);for(var n in i.strings)i.strings.hasOwnProperty(n)&&(s.strings[n]=i.strings[n]);s.decorations=r.decorations.concat(i.decorations)}return s},f.Output.Queue.prototype.addToken=function(t,e,r){var i,s;if(i=new f.Token("output"),"string"==typeof r&&(r=this.formats.value()[r]),r&&r.strings){for(s in r.strings)r.strings.hasOwnProperty(s)&&(i.strings[s]=r.strings[s]);i.decorations=r.decorations}"string"==typeof e&&(i.strings.delimiter=e),this.formats.value()[t]=i},f.Output.Queue.prototype.pushFormats=function(t){t||(t={}),t.empty=this.empty,this.formats.push(t)},f.Output.Queue.prototype.popFormats=function(t){this.formats.pop()},f.Output.Queue.prototype.startTag=function(t,e){var r={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(e=this.empty,t="empty"),r[t]=e,this.pushFormats(r),this.openLevel(t)},f.Output.Queue.prototype.endTag=function(t){this.closeLevel(t),this.popFormats()},f.Output.Queue.prototype.openLevel=function(t,e){var r,s;if("object"===i(t))r=new f.Blob(void 0,t);else if(void 0===t)r=new f.Blob(void 0,this.formats.value().empty,"empty");else{if(!this.formats.value()||!this.formats.value()[t])throw'CSL processor error: call to nonexistent format token "'+t+'"';r=new f.Blob(void 0,this.formats.value()[t],t)}s=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(r.strings.prefix=this.checkNestedBrace.update(r.strings.prefix)),s.push(r),this.current.push(r)},f.Output.Queue.prototype.closeLevel=function(t){t&&t!==this.current.value().levelname&&f.error("Level mismatch error:  wanted "+t+" but found "+this.current.value().levelname);var e=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.suffix=this.checkNestedBrace.update(e.strings.suffix))},f.Output.Queue.prototype.append=function(t,e,r,i,s){var n,o,a,l=!0;if(r&&(i=!0),this.state.tmp["doing-macro-with-date"]&&!r){if("macro-with-date"!==e)return!1;"macro-with-date"===e&&(e="empty")}if(void 0===t)return!1;if("number"==typeof t&&(t=""+t),!r&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(o=!1,e?"literal"===e?(n=!0,l=!1):n="string"==typeof e?this.formats.value()[e]:e:n=this.formats.value().empty,!n)throw"CSL processor error: unknown format token name: "+e;if(n.strings&&void 0===n.strings.delimiter&&(n.strings.delimiter=""),"string"==typeof t&&t.length&&(t=t.replace(/ ([:;?!\u00bb])/g," $1").replace(/\u00ab /g,"« "),this.last_char_rendered=t.slice(-1),t=t.replace(/\s+'/g," '"),r||(t=t.replace(/^'/g," '")),i?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),o=new f.Blob(t,n),void 0===(a=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),a=this.current.value()),"string"==typeof o.blobs&&(i?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),r||this.state.parallel.AppendBlobPointer(a),"string"==typeof t){if("string"==typeof o.blobs&&" "!==o.blobs.slice(0,1)){for(var u="",c=o.blobs;f.TERMINAL_PUNCTUATION.indexOf(c.slice(0,1))>-1;)u+=c.slice(0,1),c=c.slice(1);c&&u&&(o.strings.prefix=o.strings.prefix+u,o.blobs=c)}o.strings["text-case"]&&(o.blobs=f.Output.Formatters[o.strings["text-case"]](this.state,t)),this.state.tmp.strip_periods&&!s&&(o.blobs=o.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var p=o.decorations.length-1;p>-1;p+=-1)"@quotes"===o.decorations[p][0]&&"false"!==o.decorations[p][1]&&(o.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),o.blobs.match(f.ROMANESQUE_REGEXP)||"@font-style"===o.decorations[p][0]&&(o.decorations=o.decorations.slice(0,p).concat(o.decorations.slice(p+1)));a.push(o),this.state.fun.flipflopper.processTags(o)}else l?a.push(o):a.push(t);return!0},f.Output.Queue.prototype.string=function(t,e,r){var s,n=f.getSafeEscape(this.state),o=e.slice(),a=[];if(0===o.length)return a;var l,u,c,p,m="";r?m=r.strings.delimiter:(t.tmp.count_offset_characters=!1,t.tmp.offset_characters=0),r&&r.new_locale&&(r.old_locale=t.opt.lang,t.opt.lang=r.new_locale);for(var h=0,d=o.length;h<d;h+=1){if((l=o[h]).strings.first_blob&&(t.tmp.count_offset_characters=l.strings.first_blob),"string"==typeof l.blobs){if("number"==typeof l.num)a.push(l);else if(l.blobs){l.particle&&(l.blobs=l.particle+l.blobs,l.particle="");var g=(s=n(l.blobs)).length;if(!t.tmp.suppress_decorations)for(v=0,y=l.decorations.length;v<y;v+=1)"@showid"!==(p=l.decorations[v])[0]&&(t.normalDecorIsOrphan(l,p)||(s=t.fun.decorate[p[0]][p[1]].call(l,t,s,p[2])));if(s&&s.length){if(s=n(l.strings.prefix)+s+n(l.strings.suffix),(t.opt.development_extensions.csl_reverse_lookup_support||t.sys.csl_reverse_lookup_support)&&!t.tmp.suppress_decorations)for(v=0,y=l.decorations.length;v<y;v+=1)"@showid"===(p=l.decorations[v])[0]&&(s=t.fun.decorate[p[0]][p[1]].call(l,t,s,p[2]));a.push(s),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=g+l.strings.suffix.length+l.strings.prefix.length)}}}else if(l.blobs.length){var b=t.output.string(t,l.blobs,l);if(r&&"string"!==b&&b.length>1&&l.strings.delimiter)for(var _=!1,v=0,y=b.length;v<y;v++)"string"!=typeof b[v]?_=!0:_&&(b[v]=l.strings.delimiter+b[v]);a=a.concat(b)}l.strings.first_blob&&t.registry.registry[l.strings.first_blob]&&(t.registry.registry[l.strings.first_blob].offset=t.tmp.offset_characters,t.tmp.count_offset_characters=!1)}for(h=0,d=a.length-1;h<d;h+=1)"number"!=typeof a[h].num||"number"!=typeof a[h+1].num||a[h+1].UGLY_DELIMITER_SUPPRESS_HACK||(a[h].strings.suffix=a[h].strings.suffix+(m||""),a[h+1].successor_prefix="",a[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var x=0;for(h=0,d=a.length;h<d;h+=1)"string"==typeof a[h]&&(x=parseInt(h,10)+1,h<a.length-1&&"object"===i(a[h+1])&&(m&&!a[h+1].UGLY_DELIMITER_SUPPRESS_HACK&&(a[h]+=n(m)),a[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(r&&(r.decorations.length||r.strings.suffix))x=a.length;else if(r&&r.strings.prefix)for(h=0,d=a.length;h<d;h++)if(void 0!==a[h].num){x=h,0===h&&(a[h].strings.prefix=r.strings.prefix+a[h].strings.prefix);break}var w=t.output.renderBlobs(a.slice(0,x),m,!1,r);if(w&&r&&(r.decorations.length||r.strings.suffix||r.strings.prefix)){if(!t.tmp.suppress_decorations)for(h=0,d=r.decorations.length;h<d;h+=1)p=r.decorations[h],["@cite","@bibliography","@display","@showid"].indexOf(p[0])>-1||t.normalDecorIsOrphan(l,p)||"string"==typeof w&&(w=t.fun.decorate[p[0]][p[1]].call(r,t,w,p[2]));if(s=w,u=r.strings.suffix,s&&s.length&&(s=n(c=r.strings.prefix)+s+n(u),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=c.length+u.length)),w=s,!t.tmp.suppress_decorations)for(h=0,d=r.decorations.length;h<d;h+=1)p=r.decorations[h],-1!==["@cite","@bibliography","@display","@showid"].indexOf(p[0])&&"string"==typeof w&&(w=t.fun.decorate[p[0]][p[1]].call(r,t,w,p[2]))}var A=a.slice(x,a.length);return!A.length&&w?a=[w]:A.length&&!w?a=A:w&&A.length&&(a=[w].concat(A)),void 0===r?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),t.tmp.suppress_decorations&&(a=t.output.renderBlobs(a,void 0,!1))):"boolean"==typeof r&&(a=t.output.renderBlobs(a,void 0,!0)),r&&r.new_locale&&(t.opt.lang=r.old_locale),a},f.Output.Queue.prototype.clearlevel=function(){var t,e,r;for(r=(t=this.current.value()).blobs.length,e=0;e<r;e+=1)t.blobs.pop()},f.Output.Queue.prototype.renderBlobs=function(t,e,r,s){var n,o,a,l,u,c,p,m,h,d,g;if(g=f.getSafeEscape(this.state),e||(e=""),n=this.state,o="",[],a="",c=t.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===c&&"object"===i(t[0])&&s)return t[0].strings.prefix=s.strings.prefix+t[0].strings.prefix,t[0].strings.suffix=t[0].strings.suffix+s.strings.suffix,t[0].decorations=t[0].decorations.concat(s.decorations),t[0].params=s.params,t[0];var b=!0;for(u=0;u<c;u+=1)t[u].checkNext?(t[u].checkNext(t[u+1],b),b=!1):b=!t[u+1]||!t[u+1].splice_prefix;var _=!0;for(u=t.length-1;u>0;u+=-1)t[u].checkLast?_&&t[u].checkLast(t[u-1])&&(_=!1):_=!0;for(c=t.length,u=0;u<c;u+=1)if(o&&(a=e),"string"==typeof(l=t[u]))o+=g(a),o+=l,n.tmp.count_offset_characters&&(n.tmp.offset_characters+=a.length);else if(r)o=o?[o,l]:[l];else if(l.status!==f.SUPPRESS){var v=(h=l.particle?l.particle+l.num:l.formatter.format(l.num,l.gender)).replace(/<[^>]*>/g,"").length;this.append(h,"empty",!0);var y=this.pop(),x=n.tmp.count_offset_characters;if(h=this.string(n,[y],!1),n.tmp.count_offset_characters=x,l.strings["text-case"]&&(h=f.Output.Formatters[l.strings["text-case"]](this.state,h)),h&&this.state.tmp.strip_periods&&(h=h.replace(/\.([^a-z]|$)/g,"$1")),!n.tmp.suppress_decorations)for(m=l.decorations.length,p=0;p<m;p+=1)d=l.decorations[p],n.normalDecorIsOrphan(l,d)||(h=n.fun.decorate[d[0]][d[1]].call(l,n,h,d[2]));h=g(l.strings.prefix)+h+g(l.strings.suffix);var w="";l.status===f.END?w=g(l.range_prefix):l.status===f.SUCCESSOR?w=g(l.successor_prefix):l.status===f.START?w=u>0&&!l.suppress_splice_prefix?g(l.splice_prefix):"":l.status===f.SEEN&&(w=g(l.splice_prefix)),o+=w,o+=h,n.tmp.count_offset_characters&&(n.tmp.offset_characters+=w.length+l.strings.prefix.length+v+l.strings.suffix.length)}return o},f.Output.Queue.purgeEmptyBlobs=function(t){if("object"===i(t)&&"object"===i(t.blobs)&&t.blobs.length)for(var e=t.blobs.length-1;e>-1;e--){f.Output.Queue.purgeEmptyBlobs(t.blobs[e]);var r=t.blobs[e];if(!r||!r.blobs||!r.blobs.length){for(var s=[];t.blobs.length-1>e;)s.push(t.blobs.pop());for(t.blobs.pop();s.length;)t.blobs.push(s.pop())}}},f.Output.Queue.adjust=function(t){var e={";":!0,":":!0},r={".":!0,"!":!0,"?":!0};this.upward=function(t){if(t.blobs&&"string"==typeof t.blobs)return void(a[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1)));if("object"!==i(t)||"object"!==i(t.blobs)||!t.blobs.length)return;for(var e=h(t,!0),r=t.blobs.length-1;r>-1;r--){t.blobs.length;this.upward(t.blobs[r]);var s=t.strings,n=t.blobs[r].strings;if(0===r){" "===s.prefix.slice(-1)&&" "===n.prefix.slice(0,1)&&(n.prefix=n.prefix.slice(1));var o=n.prefix.slice(0,1);e||!l[o]||s.prefix||(s.prefix+=o,n.prefix=n.prefix.slice(1))}if(r===t.blobs.length-1){var o=n.suffix.slice(-1);!e&&[" "].indexOf(o)>-1&&(s.suffix.slice(0,1)!==o&&(s.suffix=o+s.suffix),n.suffix=n.suffix.slice(0,-1))}s.delimiter&&r>0&&l[s.delimiter.slice(-1)]&&s.delimiter.slice(-1)===n.prefix.slice(0,1)&&(n.prefix=n.prefix.slice(1))}},this.leftward=function(t){if("object"!==i(t)||"object"!==i(t.blobs)||!t.blobs.length)return;for(var e=t.blobs.length-1;e>-1;e--)if(this.leftward(t.blobs[e]),e<t.blobs.length-1&&!t.strings.delimiter){var r=t.blobs[e],s=r.strings.suffix.slice(-1),n=t.blobs[e+1],o=n.strings.prefix.slice(0,1),l=h(r)||h(n),u="number"==typeof s||"number"==typeof o;if(!l&&!u&&a[o]&&!u){var c=o===r.strings.suffix.slice(-1),p=!r.strings.suffix&&"string"==typeof r.blobs&&r.blobs.slice(-1)===o;c||p?n.strings.prefix=n.strings.prefix.slice(1):_(r,"suffix",n,"prefix")}}},this.downward=function(e,r){if(e.blobs&&"string"==typeof e.blobs)return void(a[e.strings.suffix.slice(0,1)]&&e.strings.suffix.slice(0,1)===e.blobs.slice(-1)&&(e.strings.suffix=e.strings.suffix.slice(1)));if("object"!==i(e)||"object"!==i(e.blobs)||!e.blobs.length)return;for(var s=e.strings,n=0,o=e.blobs.length;n<o;n++)if(m(e.blobs[n])){!0;break}if(s.delimiter&&a[s.delimiter.slice(0,1)]){for(var u=s.delimiter.slice(0,1),n=e.blobs.length-2;n>-1;n--){var c=e.blobs[n].strings;c.suffix.slice(-1)!==u&&(c.suffix+=u)}s.delimiter=s.delimiter.slice(1)}h(e,!0),m(e);for(var n=e.blobs.length-1;n>-1;n--){var p=e.blobs[n],c=e.blobs[n].strings,v=h(p,!0),y=m(p);if(n===e.blobs.length-1){var x=s.suffix.slice(0,1),w=!1;a[x]&&!(w=g(x,p))&&t&&(w=d(p)),w&&a[x]&&(f(p)||("string"==typeof p.blobs?_(p,"blobs",e,"suffix"):_(p,"suffix",e,"suffix"),"."===s.suffix.slice(0,1)&&(c.suffix+=s.suffix.slice(0,1),s.suffix=s.suffix.slice(1))))," "===c.suffix.slice(-1)&&" "===s.suffix.slice(0,1)&&(s.suffix=s.suffix.slice(1)),l[c.suffix.slice(0,1)]&&("string"==typeof p.blobs&&p.blobs.slice(-1)===c.suffix.slice(0,1)&&(c.suffix=c.suffix.slice(1)),c.suffix.slice(-1)===s.suffix.slice(0,1)&&(s.suffix=s.suffix.slice(0,-1))),b(e,e.strings.suffix.slice(0,1))&&(e.strings.suffix=e.strings.suffix.slice(1))}else if(s.delimiter)l[s.delimiter.slice(0,1)]&&s.delimiter.slice(0,1)===c.suffix.slice(-1)&&(e.blobs[n].strings.suffix=e.blobs[n].strings.suffix.slice(0,-1));else{var A=e.blobs[n+1].strings;m(p)||v||!l[c.suffix.slice(-1)]||c.suffix.slice(-1)!==A.prefix.slice(0,1)||(A.prefix=A.prefix.slice(1))}y||v||!a[c.suffix.slice(0,1)]||"string"!=typeof p.blobs||_(p,"blobs",p,"suffix"),this.downward(e.blobs[n])}},this.fix=function(e){if("object"!==i(e)||"object"!==i(e.blobs)||!e.blobs.length)return;for(var r,s=0,n=e.blobs.length;s<n;s++){for(var o=e.blobs[s],a=!1,l=0,u=o.decorations.length;l<u;l++){var c=o.decorations[l];"@quotes"===c[0]&&"false"!==c[1]&&(a=!0)}a&&(t?v(o):y(o)),r=this.fix(e.blobs[s]),o.blobs&&"string"==typeof o.blobs&&(r=o.blobs.slice(-1))}return r};var s={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},n={},o={},a={},l={};for(var u in s)a[u]=!0,l[u]=!0,e[u]||(n[u]=!0),r[u]||(o[u]=!0);l[" "]=!0,l[" "]=!0;var c={};for(var u in s)for(var p in s[u])c[p]||(c[p]={}),c[p][u]=s[u][p];function m(t){return"number"==typeof t.num||t.blobs&&1===t.blobs.length&&"number"==typeof t.blobs[0].num}function f(t){return"number"==typeof t.num||!(!t.blobs||"object"!==i(t.blobs))&&(!!f(t.blobs[t.blobs.length-1])||void 0)}function h(t,e){var r=!1,i=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(e&&i.push("@quotes"),t.decorations)for(var s=0,n=t.decorations.length;s<n;s++)if(i.indexOf(t.decorations[s][0])>-1){r=!0;break}return r}function d(t){if(t.decorations)for(var e=0,r=t.decorations.length;e<r;e++)if("@quotes"===t.decorations[e][0]&&"false"!==t.decorations[e][1])return!0;return"object"===i(t.blobs)&&d(t.blobs[t.blobs.length-1])}function g(t,e){var r=e.strings.suffix.slice(-1);r||"string"!=typeof e.blobs||(r=e.blobs.slice(-1));var s=c[t][r];return!(!s||1!==s.length)||"object"===i(e.blobs)&&!!g(t,e.blobs[e.blobs.length-1])}function b(t,e){if(!a[e])return!1;if("string"==typeof t.blobs)return t.blobs.slice(-1)===e;var r=t.blobs[t.blobs.length-1];return!!r&&(r.strings.suffix.slice(-1)?r.strings.suffix.slice(-1)==e:b(r,e))}function _(t,e,r,i,n){var o="blobs"===e?t:t.strings,a="blobs"===i?r:r.strings,l=o[e].slice(-1),u=a[i].slice(0,1);function p(){a[i]=a[i].slice(1)}function m(){o[e]=o[e].slice(0,-1)}function f(t){a[i]=t+a[i]}function h(t){o[e]+=t}var d=n?function(){return s[l]}:function(){return c[u]};var g=n?function(){var t=s[l][u];"string"==typeof t?(m(),p(),f(t)):(f(l),m())}:function(){var t=c[u][l];"string"==typeof t?(m(),p(),h(t)):(h(u),p())};l===u?(n?m:p)():d()&&g()}function v(t){var e=t.strings.suffix.slice(0,1);if("string"==typeof t.blobs)for(;n[e];)_(t,"blobs",t,"suffix"),e=t.strings.suffix.slice(0,1);else for(;n[e];)_(t.blobs[t.blobs.length-1],"suffix",t,"suffix"),e=t.strings.suffix.slice(0,1)}function y(t){if("string"==typeof t.blobs)for(var e=t.blobs.slice(-1);o[e];)_(t,"blobs",t,"suffix",!0),e=t.blobs.slice(-1);else for(e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1);o[e];)_(t.blobs[t.blobs.length-1],"suffix",t,"suffix",!0),e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1)}},e.exports=f,f.Engine.Opt=function(){this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=f.NONE,this.bib_mode=f.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_parsing_for_plurals=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.flip_parentheses_to_braces=!0,this.development_extensions.jurisdiction_subfield=!0,this.development_extensions.static_statute_locator=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.clobber_locator_if_no_statute_section=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.allow_force_lowercase=!1,this.development_extensions.handle_parallel_articles=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.rtl_support=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.CitRequire_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0},f.Engine.Tmp=function(){this.names_max=new f.Stack,this.names_base=new f.Stack,this.givens_base=new f.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new f.Stack(0,f.LITERAL),this.element_rendered_ok=!1,this.element_trace=new f.Stack("style"),this.nameset_counter=0,this.group_context=new f.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_conditions:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new f.Stack(0,f.LITERAL),this.decorations=new f.Stack,this.tokenstore_stack=new f.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new f.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new f.AmbigConfig,this.bib_sort_keys=[],this.prefix=new f.Stack("",f.LITERAL),this.suffix=new f.Stack("",f.LITERAL),this.delimiter=new f.Stack("",f.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={}},f.Engine.Fun=function(t){this.match=new f.Util.Match,this.suffixator=new f.Util.Suffixator(f.SUFFIX_CHARS),this.romanizer=new f.Util.Romanizer,this.ordinalizer=new f.Util.Ordinalizer(t),this.long_ordinalizer=new f.Util.LongOrdinalizer},f.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new f.Stack(0,f.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1},f.Engine.Configure=function(){this.fail=[],this.succeed=[]},f.Engine.Citation=function(t){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new f.Registry.Comparifier(t,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},f.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},f.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="bibliography"},f.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},e.exports=f,f.Engine.prototype.previewCitationCluster=function(t,e,r,i){var s=this.opt.mode;this.setOutputFormat(i);var n=this.processCitationCluster(t,e,r,f.PREVIEW);return this.setOutputFormat(s),n[1]},f.Engine.prototype.appendCitationCluster=function(t){for(var e=[],r=this.registry.citationreg.citationByIndex.length,i=0;i<r;i+=1){var s=this.registry.citationreg.citationByIndex[i];e.push([""+s.citationID,s.properties.noteIndex])}return this.processCitationCluster(t,e,[])[1]},f.Engine.prototype.processCitationCluster=function(t,e,r,i){var s,n,o,a,l,u,c,p,m,h,d,g;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[];var b,_,v,y={bibchange:!1};if(this.setCitationId(t),i===f.PREVIEW){b=this.registry.citationreg.citationByIndex.slice(),_=this.registry.reflist.slice();for(var x=e.concat([[""+t.citationID,t.properties.noteIndex]]).concat(r),w={},A=[],E=0,j=x.length;E<j;E+=1)for(n=0,o=(s=this.registry.citationreg.citationById[x[E][0]]).citationItems.length;n<o;n+=1)w[s.citationItems[n].id]=!0,A.push(""+s.citationItems[n].id);v={};for(E=0,j=_.length;E<j;E+=1)if(!w[_[E].id]){var O=this.registry.registry[_[E].id].ambig,S=this.registry.ambigcites[O];if(S)for(n=0,o=S.length;n<o;n+=1)v[S[n]]=f.cloneAmbigConfig(this.registry.registry[S[n]].disambig)}}this.tmp.taintedCitationIDs={};var k=[],T={};for(E=0,j=t.citationItems.length;E<j;E+=1){for(var I in m={},t.citationItems[E])m[I]=t.citationItems[E][I];var N;if((p=this.retrieveItem(""+m.id)).id&&this.transform.loadAbbreviation("default","hereinafter",p.id),m=f.parseLocator.call(this,m),this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable([[p,m]]),this.opt.development_extensions.locator_label_parse)if(m.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(p.type)&&(!m.label||"page"===m.label))if(N=f.LOCATOR_LABELS_REGEXP.exec(m.locator)){var C=f.LOCATOR_LABELS_MAP[N[2]];this.getTerm(C)&&(m.label=C,m.locator=N[3])}var D=[p,m];k.push(D),t.citationItems[E].item=p}t.sortedItems=k;var P=[];for(E=0,j=e.length;E<j;E+=1){s=e[E];try{this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1]}catch(t){var R="CSL error\n";throw R+="  "+t+"\n",R+="  citationID="+s[0]+"\n",R+="  noteIndex="+s[1]+"\n",R+="  atarray citationsPre index "+E+", from citation at document position "+e.length}P.push(this.registry.citationreg.citationById[s[0]])}P.push(t);for(E=0,j=r.length;E<j;E+=1){s=r[E];try{this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1]}catch(t){R="CSL error\n";throw R+="  "+t+"\n",R+="  citationID="+s[0]+"\n",R+="  noteIndex="+s[1]+"\n",R+="  at array citationsPost index "+E+", from citation at document position "+e.length}P.push(this.registry.citationreg.citationById[s[0]])}this.registry.citationreg.citationByIndex=P,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===f.POSITION&&(d=[],h=[],g={});var F,L=[];for(E=0,j=P.length;E<j;E+=1){for(P[E].properties||(P[E].properties={}),P[E].properties.index=E,n=0,o=P[E].sortedItems.length;n<o;n+=1)m=P[E].sortedItems[n],this.registry.citationreg.citationsByItemId[m[1].id]||(this.registry.citationreg.citationsByItemId[m[1].id]=[],L.push(""+m[1].id)),-1===this.registry.citationreg.citationsByItemId[m[1].id].indexOf(P[E])&&this.registry.citationreg.citationsByItemId[m[1].id].push(P[E]);this.opt.update_mode===f.POSITION&&(P[E].properties.noteIndex?h.push(P[E]):(P[E].properties.noteIndex=0,d.push(P[E])))}if(i!==f.ASSUME_ALL_ITEMS_REGISTERED&&this.updateItems(L,null,null,!0),!this.opt.citation_number_sort&&k&&k.length>1&&this.citation_sort.tokens.length>0){for(E=0,j=k.length;E<j;E+=1)k[E][1].sortkeys=f.getSortKeys.call(this,k[E][0],"citation_sort");if(this.opt.grouped_sort&&!t.properties.unsorted){for(E=0,j=k.length;E<j;E+=1){var M=k[E][1].sortkeys;this.tmp.authorstring_request=!0;var B=this.registry.registry[k[E][0].id].disambig;this.tmp.authorstring_request=!0,f.getAmbiguousCite.call(this,k[E][0],B);var U=this.registry.authorstrings[k[E][0].id];this.tmp.authorstring_request=!1,k[E][1].sortkeys=[U].concat(M)}k.sort(this.citation.srt.compareCompositeKeys);var z=!1,q=!1,$=!1;for(E=0,j=k.length;E<j;E+=1)k[E][1].sortkeys[0]!==z&&($=k[E][1].sortkeys[0],q=k[E][1].sortkeys[1]),k[E][1].sortkeys[0]=""+q+E,z=$}t.properties.unsorted||k.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.update_mode===f.POSITION)for(E=0;E<2;E+=1){var V={},G={};for(n=0,o=(F=[d,h][E]).length;n<o;n+=1){var X=F[n];for(F[n].properties.noteIndex||(F[n].properties.noteIndex=0),F[n].properties.noteIndex=parseInt(F[n].properties.noteIndex,10),n>0&&F[n-1].properties.noteIndex>F[n].properties.noteIndex&&(g={},V={},G={}),a=0,l=X.sortedItems.length;a<l;a+=1)this.registry.registry[X.sortedItems[a][1].id].parallel||(g[X.properties.noteIndex]?g[X.properties.noteIndex]+=1:g[X.properties.noteIndex]=1);for(a=0,l=F[n].sortedItems.length;a<l;a+=1){var W,H=(m=F[n].sortedItems[a])[0].id,Q=m[1].locator,J=m[1].label;if(m[0].legislation_id&&(H=m[0].legislation_id),a>0&&(W=X.sortedItems[a-1][0].legislation_id?X.sortedItems[a-1][0].legislation_id:X.sortedItems[a-1][1].id),i!==f.PREVIEW||X.citationID==t.citationID){var K,Y={};if(Y.position=m[1].position,Y["first-reference-note-number"]=m[1]["first-reference-note-number"],Y["near-note"]=m[1]["near-note"],m[1]["first-reference-note-number"]=0,m[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[H]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var Z=this.registry.registry[H]["citation-count"],tt=this.registry.citationreg.citationsByItemId[H].length;if(this.registry.registry[H]["citation-count"]=this.registry.citationreg.citationsByItemId[H].length,"number"==typeof Z){if(Z<2!==tt<2)for(var et=0,rt=this.registry.citationreg.citationsByItemId[H].length;et<rt;et++)T[this.registry.registry[H].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[H][et].citationID]=!0}else for(et=0,rt=this.registry.citationreg.citationsByItemId[H].length;et<rt;et++)T[this.registry.registry[H].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[H][et].citationID]=!0}if(void 0===V[H])V[H]=X.properties.noteIndex,this.registry.registry[H]&&(this.registry.registry[H]["first-reference-note-number"]=X.properties.noteIndex),G[H]=X.properties.noteIndex,m[1].position=f.POSITION_FIRST;else{var it,st,nt,ot,at=!1,lt=!1;if(n>0){try{K=F[n-1].sortedItems.slice(-1)[0][1].id}catch(t){R="CSL Error\n";throw R+="  "+t,R+="  in citation object "+F[n-1].citationID+" at index "+(n-1)}F[n-1].sortedItems[0].slice(-1)[0].legislation_id&&(K=F[n-1].sortedItems[0].slice(-1)[0].legislation_id)}if(n>0&&0===parseInt(a,10)&&F[n-1].properties.noteIndex!==F[n].properties.noteIndex){var ut=F[n-1].sortedItems,ct=!1,pt=F[n-1].sortedItems[0][0].id;for(F[n-1].sortedItems[0][0].legislation_id&&(pt=F[n-1].sortedItems[0][0].legislation_id),(pt==H&&F[n-1].properties.noteIndex>=F[n].properties.noteIndex-1||F[n-1].sortedItems[0][1].id==this.registry.registry[m[1].id].parallel)&&(1!==g[F[n-1].properties.noteIndex]&&0!==F[n-1].properties.noteIndex||(ct=!0)),u=0,c=ut.slice(1).length;u<c;u+=1){var mt=ut.slice(1)[u];this.registry.registry[mt[1].id].parallel&&this.registry.registry[mt[1].id].parallel!=this.registry.registry[mt[1].id]||(ct=!1)}ct?at=!0:lt=!0}else a>0&&W==H?at=!0:0===a&&F[n-1].properties.noteIndex==F[n].properties.noteIndex&&F[n-1].sortedItems.length&&K==H?at=!0:lt=!0;if(at&&((it=a>0?X.sortedItems[a-1][1]:F[n-1].sortedItems[0][1]).locator?(nt=it.label?it.label:"",st=""+it.locator+nt):st=it.locator,ot=Q?""+Q+(J||""):Q),at&&st&&!ot&&(at=!1,lt=!0),at&&(!st&&ot?m[1].position=f.POSITION_IBID_WITH_LOCATOR:st||ot?st&&ot===st?m[1].position=f.POSITION_IBID:st&&ot&&ot!==st?m[1].position=f.POSITION_IBID_WITH_LOCATOR:(at=!1,lt=!0):m[1].position=f.POSITION_IBID),lt&&(m[1].position=f.POSITION_SUBSEQUENT),(lt||at)&&V[H]!=X.properties.noteIndex&&(m[1]["first-reference-note-number"]=V[H],this.registry.registry[H])){var ft=this.registry.citationreg.citationsByItemId[H][0].properties.noteIndex,ht=X.properties.noteIndex;this.registry.registry[H]["first-reference-note-number"]=ht<ft?ht:ft}}if(X.properties.noteIndex){var dt=parseInt(X.properties.noteIndex,10)-parseInt(G[H],10);m[1].position!==f.POSITION_FIRST&&dt<=this.citation.opt["near-note-distance"]&&(m[1]["near-note"]=!0),G[H]=X.properties.noteIndex}if(X.citationID!=t.citationID)for(u=0,c=f.POSITION_TEST_VARS.length;u<c;u+=1){var gt=f.POSITION_TEST_VARS[u];m[1][gt]!==Y[gt]&&(this.registry.registry[H]&&"first-reference-note-number"===gt&&(T[this.registry.registry[H].ambig]=!0,this.tmp.taintedItemIDs[H]=!0),this.tmp.taintedCitationIDs[X.citationID]=!0)}this.sys.variableWrapper&&(m[1].index=X.properties.index,m[1].noteIndex=X.properties.noteIndex)}else void 0===V[m[1].id]?(V[H]=X.properties.noteIndex,G[H]=X.properties.noteIndex):G[H]=X.properties.noteIndex}}}if(this.opt.citation_number_sort&&k&&k.length>1&&this.citation_sort.tokens.length>0&&!t.properties.unsorted){for(E=0,j=k.length;E<j;E+=1)k[E][1].sortkeys=f.getSortKeys.call(this,k[E][0],"citation_sort");k.sort(this.citation.srt.compareCompositeKeys)}for(var I in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(I)&&(F=this.registry.citationreg.citationsByItemId[I]))for(E=0,j=F.length;E<j;E+=1)this.tmp.taintedCitationIDs[F[E].citationID]=!0;var bt=[];if(i===f.PREVIEW){try{bt=this.process_CitationCluster.call(this,t.sortedItems,t.citationID)}catch(t){f.error("Error running CSL processor for preview: "+t)}this.registry.citationreg.citationByIndex=b,this.registry.citationreg.citationById={};for(E=0,j=b.length;E<j;E+=1)this.registry.citationreg.citationById[b[E].citationID]=b[E];var _t=[];for(E=0,j=_.length;E<j;E+=1)_t.push(""+_[E].id);for(var I in this.updateItems(_t,null,null,!0),v)v.hasOwnProperty(I)&&(this.registry.registry[I].disambig=v[I])}else{for(var vt in T)this.disambiguate.run(vt,t);var yt;for(var I in this.tmp.taintedCitationIDs)if(I!=t.citationID){var xt=this.registry.citationreg.citationById[I];if(!xt.properties.unsorted){for(E=0,j=xt.sortedItems.length;E<j;E+=1)xt.sortedItems[E][1].sortkeys=f.getSortKeys.call(this,xt.sortedItems[E][0],"citation_sort");xt.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=xt.properties.index,this.tmp.citation_note_index=xt.properties.noteIndex,this.tmp.citation_id=""+xt.citationID,(yt=[]).push(xt.properties.index),yt.push(this.process_CitationCluster.call(this,xt.sortedItems,xt.citationID)),yt.push(xt.citationID),bt.push(yt)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=t.properties.index,this.tmp.citation_note_index=t.properties.noteIndex,this.tmp.citation_id=""+t.citationID,(yt=[]).push(e.length),yt.push(this.process_CitationCluster.call(this,k,t.citationID)),yt.push(t.citationID),bt.push(yt),bt.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0})}return y.citation_errors=this.tmp.citation_errors.slice(),[y,bt]},f.Engine.prototype.process_CitationCluster=function(t,e){return this.parallel.StartCitation(t),f.getCitationCluster.call(this,t,e)},f.Engine.prototype.makeCitationCluster=function(t){var e,r,i,s,n,o;for(e=[],s=t.length,i=0;i<s;i+=1){for(var a in n={},t[i])n[a]=t[i][a];if(o=this.retrieveItem(""+n.id),this.opt.development_extensions.locator_label_parse&&n.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(o.type)&&(!n.label||"page"===n.label)){var l=f.LOCATOR_LABELS_REGEXP.exec(n.locator);if(l){var u=f.LOCATOR_LABELS_MAP[l[2]];this.getTerm(u)&&(n.label=u,n.locator=l[3])}}n.locator&&(n.locator=(""+n.locator).replace(/\s+$/,"")),r=[o,n],e.push(r)}if(this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable(e),e&&e.length>1&&this.citation_sort.tokens.length>0){for(s=e.length,i=0;i<s;i+=1)e[i][1].sortkeys=f.getSortKeys.call(this,e[i][0],"citation_sort");e.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],this.parallel.StartCitation(e),f.getCitationCluster.call(this,e)},f.getAmbiguousCite=function(t,e,r,i){var s=this.tmp.group_context.tip,n={term_intended:s.term_intended,variable_attempt:s.variable_attempt,variable_success:s.variable_success,output_tip:s.output_tip,label_form:s.label_form,parallel_conditions:s.parallel_conditions,condition:s.condition,force_suppress:s.force_suppress,done_vars:s.done_vars.slice()};this.tmp.disambig_request=e||!1;var o={position:1,"near-note":!0};i&&(o.locator=i.locator,o.label=i.label),this.registry.registry[t.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[t.id]&&this.registry.citationreg.citationsByItemId[t.id].length&&r&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(o["first-reference-note-number"]=this.registry.registry[t.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation",this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,f.getCite.call(this,t,o,null,!1);for(var a=0,l=this.output.queue.length;a<l;a+=1)f.Output.Queue.purgeEmptyBlobs(this.output.queue[a]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var u=0,c=this.output.queue.length;u<c;u+=1)this.output.adjust.upward(this.output.queue[u]),this.output.adjust.leftward(this.output.queue[u]),this.output.adjust.downward(this.output.queue[u]),this.output.adjust.fix(this.output.queue[u]);var p=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.group_context.replace(n),p},f.getSpliceDelimiter=function(t,e,r){if(void 0!==this.citation.opt["after-collapse-delimiter"])t?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==f.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[r-1]){var i=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[r-1]];i&&i.delimiter&&(this.tmp.splice_delimiter=i.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},f.getCitationCluster=function(t,e){var r,s,n,o,a,l,u,c,p,m,h,d,g,b,_,v,y,x;t=t||[],this.tmp.last_primary_names_string=!1,y=f.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",r="",s=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.output.checkNestedBrace=new f.checkNestedBrace(this);var w=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix),A=!1;if("note"===this.opt.xclass&&this.citation.opt.suppressTrailingPunctuation&&(A=!0),e&&this.registry.citationreg.citationById[e].properties["suppress-trailing-punctuation"]&&(A=!0),"note"===this.opt.xclass){for(var E=[],j=!1,O=!1,S=[],k=0,T=t.length;k<T;k+=1){var I=t[k][0].type,N=t[k][0].title,C=t[k][1].position,D=t[k][0].id;N&&"legal_case"===I&&D!==O&&C&&(N===j&&0!==E.length||(S=[],E.push(S)),S.push(t[k][1])),j=N,C,O=D}for(k=0,T=E.length;k<T;k+=1)if(!((S=E[k]).length<2)){var P=S.slice(-1)[0].locator;if(P)for(var R=0,F=S.length-1;R<F;R+=1)S[R].locator&&(P=!1);P&&(S[0].locator=P,delete S.slice(-1)[0].locator,S[0].label=S.slice(-1)[0].label,S.slice(-1)[0].label&&delete S.slice(-1)[0].label)}}for(n=[],o=t.length,a=0;a<o;a+=1){d=t[a][0],l=t[a][1],l=f.parseLocator.call(this,l),u=this.tmp.have_collapsed;var L=!1;if(a>0&&t[a-1][1]&&(L=!!t[a-1][1].locator),c={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var M=this.output;this.output=new f.Output.Queue(this),this.output.adjust=new f.Output.Queue.adjust,f.getAmbiguousCite.call(this,d,null,!1,l),this.output=M}if(this.tmp.in_cite_predecessor=!1,a>0?f.getCite.call(this,d,l,""+t[a-1][0].id,!0):(this.tmp.term_predecessor=!1,f.getCite.call(this,d,l,null,!0)),this.tmp.cite_renders_content||(x={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+d.id,citationItems_pos:a,error_code:f.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(x)),a===t.length-1&&this.parallel.ComposeSet(),c.splice_delimiter=f.getSpliceDelimiter.call(this,L,u,a),l&&l["author-only"]&&(this.tmp.suppress_decorations=!0),a>0){var B=(v=t[a-1][1]).suffix&&[".",","].indexOf(v.suffix.slice(-1))>-1,U=!v.suffix&&l.prefix&&[".",","].indexOf(l.prefix.slice(0,1))>-1;if(B||U){var z=c.splice_delimiter.indexOf(" ");c.splice_delimiter=z>-1&&!U?c.splice_delimiter.slice(z):""}}c.suppress_decorations=this.tmp.suppress_decorations,c.have_collapsed=this.tmp.have_collapsed,n.push(c)}this.tmp.has_purged_parallel=!1,this.parallel.PruneOutputQueue(this),h=this.output.queue.slice();this.citation.opt.layout_suffix,this.citation.opt.layout_delimiter;var q=this.citation.opt.layout_suffix,$=this.tmp.cite_locales[this.tmp.cite_locales.length-1];$&&this.tmp.cite_affixes[this.tmp.area][$]&&this.tmp.cite_affixes[this.tmp.area][$].suffix&&(q=this.tmp.cite_affixes[this.tmp.area][$].suffix),f.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(q.slice(0,1))>-1&&(q=q.slice(0,1));var V=this.citation.opt.layout_delimiter;V||(V=""),f.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(V.slice(0,1))>-1&&(V=V.slice(0,1)),q=this.output.checkNestedBrace.update(q);for(k=0,T=this.output.queue.length;k<T;k+=1)f.Output.Queue.purgeEmptyBlobs(this.output.queue[k]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(A||(this.output.queue[this.output.queue.length-1].strings.suffix=q),this.output.queue[0].strings.prefix=w)),this.opt.development_extensions.clean_up_csl_flaws)for(R=0,F=this.output.queue.length;R<F;R+=1)this.output.adjust.upward(this.output.queue[R]),this.output.adjust.leftward(this.output.queue[R]),this.output.adjust.downward(this.output.queue[R]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[R]);for(a=0,o=h.length;a<o;a+=1){var G=[];if(this.output.queue=[h[a]],this.tmp.suppress_decorations=n[a].suppress_decorations,this.tmp.splice_delimiter=n[a].splice_delimiter,h[a].parallel_delimiter&&(this.tmp.splice_delimiter=h[a].parallel_delimiter),this.tmp.have_collapsed=n[a].have_collapsed,p=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof p)return this.tmp.suppress_decorations=!1,p;if("object"===i(p)&&0===p.length&&!l["suppress-author"])if(this.tmp.has_purged_parallel)p.push("");else{var X=0===a?y(this.citation.opt.layout_prefix):"",W=a===h.length-1?y(this.citation.opt.layout_suffix):"";p.push(X+"[CSL STYLE ERROR: reference with no printed form.]"+W)}if(G.length&&"string"==typeof p[0]){p.reverse();var H=p.pop();H&&","===H.slice(0,1)?G.push(H):"string"==typeof G.slice(-1)[0]&&","===G.slice(-1)[0].slice(-1)?G.push(" "+H):H&&G.push(y(this.tmp.splice_delimiter)+H)}else p.reverse(),void 0!==(m=p.pop())&&(G.length&&"string"==typeof G[G.length-1]&&(G[G.length-1]+=m.successor_prefix),G.push(m));for(g=p.length,b=0;b<g;b+=1)"string"!=typeof(_=p[b])?void 0!==(m=p.pop())&&G.push(m):G.push(y(this.tmp.splice_delimiter)+_);0!==G.length||t[a][1]["suppress-author"]||1,G.length>1&&"string"!=typeof G[0]&&(G=[this.output.renderBlobs(G)]),G.length&&("string"==typeof G[0]?a>0&&(G[0]=y(this.tmp.splice_delimiter)+G[0]):G[0].splice_prefix=a>0?this.tmp.splice_delimiter:""),s=s.concat(G)}if((r+=this.output.renderBlobs(s))&&!this.tmp.suppress_decorations)for(o=this.citation.opt.layout_decorations.length,a=0;a<o;a+=1)"normal"!==(c=this.citation.opt.layout_decorations[a])[1]&&(l&&l["author-only"]||(r=this.fun.decorate[c[0]][c[1]](this,r)));return this.tmp.suppress_decorations=!1,r},f.getCite=function(t,e,r,i){var s,n;for(this.tmp.cite_renders_content=!1,this.parallel.StartCite(t,e,r),f.citeStart.call(this,t,e,i),s=0,this.tmp.name_node={},this.nameOutput=new f.NameOutput(this,t,e);s<this[this.tmp.area].tokens.length;)s=f.tokenExec.call(this,this[this.tmp.area].tokens[s],t,e);return f.citeEnd.call(this,t,e),this.parallel.CloseCite(this),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(n={index:this.tmp.bibliography_pos,itemID:""+t.id,error_code:f.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(n)),""+t.id},f.citeStart=function(t,e,r){if(r||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[t.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[t.id].disambig,this.tmp.disambig_settings=this.registry.registry[t.id].disambig):this.tmp.disambig_settings=new f.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[t.id]){if(this.tmp.disambig_restore=f.cloneAmbigConfig(this.registry.registry[t.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[t.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[t.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[t.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[t.id].disambig.givens.slice();for(var i=0,s=this.tmp.disambig_settings.givens.length;i<s;i+=1)this.tmp.disambig_settings.givens[i]=this.registry.registry[t.id].disambig.givens[i].slice();for(i=0,s=this.tmp.disambig_request.givens.length;i<s;i+=1)this.tmp.disambig_request.givens[i]=this.registry.registry[t.id].disambig.givens[i].slice()}}else this.tmp.disambig_restore=new f.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&e&&!e.position&&this.registry.registry[t.id]&&(this.tmp.disambig_restore=f.cloneAmbigConfig(this.registry.registry[t.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},f.citeEnd=function(t,e){if(this.tmp.disambig_restore&&this.registry.registry[t.id]){this.registry.registry[t.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[t.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var r=0,i=this.registry.registry[t.id].disambig.givens.length;r<i;r+=1)this.registry.registry[t.id].disambig.givens[r]=this.tmp.disambig_restore.givens[r].slice()}if(this.tmp.disambig_restore=!1,e&&e.suffix?this.tmp.last_suffix_used=e.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var s=[];for(r=this.tmp.issued_date.list.length-1;r>this.tmp.issued_date.pos;r+=-1)s.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),r=s.length-1;r>-1;r+=-1)this.tmp.issued_date.list.push(s.pop());this.parallel.use_parallels&&(this.parallel.cite.issued=!1)}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},e.exports=f,f.Engine.prototype.makeBibliography=function(t){var e,r,i,s,n,o,a;if(!1,!this.bibliography.tokens.length)return!1;"string"==typeof t&&(this.opt.citation_number_slug=t,t=!1),o=(e=f.getBibliographyEntries.call(this,t))[0],a=e[1];var l=e[2];for(r={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:o,bibliography_errors:this.tmp.bibliography_errors.slice(),done:l},this.bibliography.opt["second-field-align"]&&(r["second-field-align"]=this.bibliography.opt["second-field-align"]),0,s=this.registry.reflist.length,n=0;n<s;n+=1)(i=this.registry.reflist[n]).offset>r.maxoffset&&(r.maxoffset=i.offset);return this.bibliography.opt.hangingindent&&(r.hangingindent=this.bibliography.opt.hangingindent),r.bibstart=this.fun.decorate.bibstart,r.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[r,a]},f.getBibliographyEntries=function(t){var e,r,i,s,n,o,a,l,u,c,p,m,h,d,g,b,_,v;function y(t,e){return t===e}function x(t,e){return!("none"!==t&&t||e)||("string"==typeof e?y(t,e):!!e&&function(t,e){for(u=e.length,c=0;c<u;c+=1)if(y(t,e[c]))return!0;return!1}(t,e))}if(e=[],_=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,r=t&&t.page_start&&t.page_length?this.registry.getSortedIds():this.retrieveItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,d={},t&&t.page_start&&t.page_length&&(v=0,!0!==t.page_start))for(var w=0,A=r.length;w<A&&(d[r[w]]=!0,t.page_start!=r[w]);w+=1);var E=[];for(w=0,A=r.length;w<A;w+=1){if(t&&t.page_start&&t.page_length){if(d[r[w]])continue;if(a=this.retrieveItem(r[w]),v===t.page_length)break}else if(d[(a=r[w]).id])continue;if(t){if(i=!0,t.include){for(i=!1,O=0,S=t.include.length;O<S;O+=1)if(x((l=t.include[O]).value,a[l.field])){i=!0;break}}else if(t.exclude){for(s=!1,O=0,S=t.exclude.length;O<S;O+=1)if(x((l=t.exclude[O]).value,a[l.field])){s=!0;break}s&&(i=!1)}else if(t.select){for(i=!1,n=!0,O=0,S=t.select.length;O<S;O+=1)x((l=t.select[O]).value,a[l.field])||(n=!1);n&&(i=!0)}if(t.quash){for(n=!0,O=0,S=t.quash.length;O<S;O+=1)x((l=t.quash[O]).value,a[l.field])||(n=!1);n&&(i=!1)}if(!i)continue}if((o=new f.Token("group",f.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",o),a.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=a.system_id:this.output.current.value().system_id=a.id,g=[[{id:""+a.id},a]],m=[],!this.registry.registry[a.id].master||t&&t.page_start&&t.page_length)this.registry.registry[a.id].siblings||(this.parallel.StartCitation(g),this.tmp.term_predecessor=!1,m.push(""+f.getCite.call(this,a)),t&&t.page_start&&t.page_length&&(v+=1));else{for(h=!0,this.parallel.StartCitation(g),this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,m.push(""+f.getCite.call(this,a)),d[a.id]=!0,O=0,S=this.registry.registry[a.id].siblings.length;O<S;O+=1){var j=this.registry.registry[a.id].siblings[O];b=this.retrieveItem(j),m.push(""+f.getCite.call(this,b)),d[b.id]=!0}this.parallel.ComposeSet(),this.parallel.PruneOutputQueue()}_.push(""),this.tmp.bibliography_pos+=1,E.push(m),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(h||!this.output.queue[0].blobs[0].blobs[0].strings?(p=this.output.queue[0].blobs,h=!1):p=this.output.queue[0].blobs[0].blobs,p[0].strings.prefix=this.bibliography.opt.layout_prefix+p[0].strings.prefix);for(var O=0,S=this.output.queue.length;O<S;O+=1)f.Output.Queue.purgeEmptyBlobs(this.output.queue[O]);for(O=0,S=this.output.queue.length;O<S;O+=1)this.output.adjust.upward(this.output.queue[O]),this.output.adjust.leftward(this.output.queue[O]),this.output.adjust.downward(this.output.queue[O],!0),this.output.adjust.fix(this.output.queue[O]);var k;if(!(k=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===f.NUMERIC){var T=e.length+1+". [CSL STYLE ERROR: reference with no printed form.]";k=f.Output.Formats[this.opt.mode]["@bibliography/entry"](this,T)}k&&e.push(k)}var I=!1;if(t&&t.page_start&&t.page_length){var N=r.slice(-1)[0],C=E.slice(-1)[0];N&&C&&N!=C||(I=!0)}return this.tmp.disambig_override=!1,[E,e,I]},e.exports=f,f.Engine.prototype.setCitationId=function(t,e){var r,i,s;if(r=!1,!t.citationID||e){for(i=Math.floor(1e14*Math.random());;){if(s=0,!this.registry.citationreg.citationById[i]){t.citationID="a"+i.toString(32);break}i+=1===(s=!s&&i<5e13?1:-1)?1:-1}r=""+i}return this.registry.citationreg.citationById[t.citationID]=t,r},e.exports=f,f.Engine.prototype.rebuildProcessorState=function(t,e,r){t||(t=[]),e||(e="html");for(var i={},s=[],n=0,o=t.length;n<o;n+=1)for(var a=0,l=t[n].citationItems.length;a<l;a+=1){var u=""+t[n].citationItems[a].id;i[u]||s.push(u),i[u]=!0}this.updateItems(s);var c=[],p=[],m=[],h=this.opt.mode;this.setOutputFormat(e);for(n=0,o=t.length;n<o;n+=1){var d=this.processCitationCluster(t[n],c,p,f.ASSUME_ALL_ITEMS_REGISTERED);c.push([t[n].citationID,t[n].properties.noteIndex]);for(a=0,l=d[1].length;a<l;a+=1){var g=d[1][a][0];m[g]=[c[g][0],c[g][1],d[1][a][1]]}}return this.updateUncitedItems(r),this.setOutputFormat(h),m},f.Engine.prototype.restoreProcessorState=function(t){var e,r,i,s,n,o,a,l,u,c;l=[],u=[],t||(t=[]);var p=[],m={};for(e=0,r=t.length;e<r;e+=1)m[t[e].citationID]&&this.setCitationId(t[e],!0),m[t[e].citationID]=!0,p.push(t[e].properties.index);var h=t.slice();for(h.sort(function(t,e){return t.properties.index<e.properties.index?-1:t.properties.index>e.properties.index?1:0}),e=0,r=h.length;e<r;e+=1)h[e].properties.index=e;for(e=0,r=h.length;e<r;e+=1){for(c=[],i=0,s=h[e].citationItems.length;i<s;i+=1)void 0===(n=h[e].citationItems[i]).sortkeys&&(n.sortkeys=[]),a=[o=this.retrieveItem(""+n.id),n],c.push(a),h[e].citationItems[i].item=o,u.push(""+n.id);h[e].properties.unsorted||c.sort(this.citation.srt.compareCompositeKeys),h[e].sortedItems=c,this.registry.citationreg.citationById[h[e].citationID]=h[e]}for(this.updateItems(u),e=0,r=t.length;e<r;e+=1)l.push([""+t[e].citationID,t[e].properties.noteIndex]);var d=[];return t&&t.length?d=this.processCitationCluster(t[0],[],l.slice(1)):(this.registry=new f.Registry(this),this.tmp=new f.Engine.Tmp,this.disambiguate=new f.Disambiguation(this)),d},f.Engine.prototype.updateItems=function(t,e,r,i){var s=this.tmp.area,n=this.tmp.root,o=this.tmp.extension;if(this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",i||(this.tmp.loadedItemIDs={}),this.registry.init(t),r)for(var a in this.registry.ambigcites)this.registry.ambigsTouched[a]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(),this.registry.setsortkeys(),this.registry.setdisambigs(),e||this.registry.sorttokens(),this.registry.renumber(),this.tmp.extension=o,this.tmp.area=s,this.tmp.root=n,this.registry.getSortedIds()},f.Engine.prototype.updateUncitedItems=function(t,e){var r=this.tmp.area,s=this.tmp.root,n=this.tmp.extension;if(this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},t||(t=[]),"object"==i(t))if(void 0===t.length){var o=t;for(var a in t=[],o)t.push(a)}else if("number"==typeof t.length){o={};for(var l=0,u=t.length;l<u;l+=1)o[t[l]]=!0}return this.registry.init(t,!0),this.registry.dopurge(o),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(),this.registry.setsortkeys(),this.registry.setdisambigs(),e||this.registry.sorttokens(),this.registry.renumber(),this.tmp.extension=n,this.tmp.area=r,this.tmp.root=s,this.registry.getSortedIds()},e.exports=f,f.localeResolve=function(t,e){var r,i;return e||(e="en-US"),t||(t=e),r={},i=t.split(/[\-_]/),r.base=f.LANG_BASES[i[0]],void 0===r.base?{base:e,best:t,bare:i[0]}:(1===i.length&&(r.generic=!0),1===i.length||"x"===i[1]?r.best=r.base.replace("_","-"):r.best=i.slice(0,2).join("-"),r.base=r.base.replace("_","-"),r.bare=i[0],r)},f.Engine.prototype.localeConfigure=function(t,e){var r;if((!e||!this.locale[t.best])&&("en-US"===t.best?(r=f.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(r,"en-US",t.best)):"en-US"!==t.best&&(t.base!==t.best&&(r=f.setupXml(this.sys.retrieveLocale(t.base)),this.localeSet(r,t.base,t.best)),r=f.setupXml(this.sys.retrieveLocale(t.best)),this.localeSet(r,t.best,t.best)),this.localeSet(this.cslXml,"",t.best),this.localeSet(this.cslXml,t.bare,t.best),t.base!==t.best&&this.localeSet(this.cslXml,t.base,t.best),this.localeSet(this.cslXml,t.best,t.best),void 0===this.locale[t.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(t.best.slice(0,2).toLowerCase())>-1?this.locale[t.best].terms["page-range-delimiter"]="-":this.locale[t.best].terms["page-range-delimiter"]="–"),void 0===this.locale[t.best].terms["year-range-delimiter"]&&(this.locale[t.best].terms["year-range-delimiter"]="–"),void 0===this.locale[t.best].terms["citation-range-delimiter"]&&(this.locale[t.best].terms["citation-range-delimiter"]="–"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var i=["default-locale","locale-sort","locale-translit","locale-translat"],s=0,n=i.length;s<n;s+=1)for(var o=0,a=this.opt[i[s]].length;o<a;o+=1)this.opt[i[s]][o]=this.opt[i[s]][o].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},f.Engine.prototype.localeSet=function(t,e,r){var i,s,n,o,a,l,u,c,p,m,h,d;if(e=e.replace("_","-"),r=r.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(e=e.toLowerCase(),r=r.toLowerCase()),this.locale[r]||(this.locale[r]={},this.locale[r].terms={},this.locale[r].opts={},this.locale[r].opts["skip-words"]=f.SKIP_WORDS,this.locale[r].opts["leading-noise-words"]||(this.locale[r].opts["leading-noise-words"]=[]),this.locale[r].dates={},this.locale[r].ord={"1.0.1":!1,keys:{}},this.locale[r]["noun-genders"]={}),s=t.makeXml(),t.nodeNameIs(t.dataObj,"locale"))s=t.dataObj;else for(n=t.getNodesByName(t.dataObj,"locale"),a=0,h=t.numberofnodes(n);a<h;a+=1)if(i=n[a],t.getAttributeValue(i,"lang","xml")===e){s=i;break}for(n=t.getNodesByName(s,"type"),D=0,P=t.numberofnodes(n);D<P;D+=1){var g=n[D],b=t.getAttributeValue(g,"name"),_=t.getAttributeValue(g,"gender");this.opt.gender[b]=_}if(t.getNodesByName(s,"term","ordinal").length){for(var v in this.locale[r].ord.keys)delete this.locale[r].terms[v];this.locale[r].ord={"1.0.1":!1,keys:{}}}n=t.getNodesByName(s,"term");var y={"last-digit":{},"last-two-digits":{},"whole-number":{}},x=!1,w={};for(a=0,h=t.numberofnodes(n);a<h;a+=1){if(l=n[a],"sub verbo"===(c=t.getAttributeValue(l,"name"))&&(c="sub-verbo"),"ordinal"===c.slice(0,7)){t.getNodeValue(l);if("ordinal"===c)x=!0;else{var A,E=t.getAttributeValue(l,"match"),j=c.slice(8);(A=t.getAttributeValue(l,"gender-form"))||(A="neuter"),E||(E="last-two-digits","0"===j.slice(0,1)&&(E="last-digit")),"0"===j.slice(0,1)&&(j=j.slice(1)),y[E][j]||(y[E][j]={}),y[E][j][A]=c}this.locale[r].ord.keys[c]=!0}void 0===this.locale[r].terms[c]&&(this.locale[r].terms[c]={}),u="long",A=!1,t.getAttributeValue(l,"form")&&(u=t.getAttributeValue(l,"form")),t.getAttributeValue(l,"gender-form")&&(A=t.getAttributeValue(l,"gender-form")),t.getAttributeValue(l,"gender")&&(this.locale[r]["noun-genders"][c]=t.getAttributeValue(l,"gender")),A?(this.locale[r].terms[c][A]={},this.locale[r].terms[c][A][u]=[],d=this.locale[r].terms[c][A],w[c]=!0):(this.locale[r].terms[c][u]=[],d=this.locale[r].terms[c]),t.numberofnodes(t.getNodesByName(l,"multiple"))?(d[u][0]=t.getNodeValue(l,"single"),d[u][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),d[u][1]=t.getNodeValue(l,"multiple"),d[u][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(d[u]=t.getNodeValue(l),d[u].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(x){for(var O in w){var S={},k=0;for(var T in this.locale[r].terms[O])["masculine","feminine"].indexOf(T)>-1?S[T]=this.locale[r].terms[O][T]:k+=1;if(!k)if(S.feminine)for(var T in S.feminine)this.locale[r].terms[O][T]=S.feminine[T];else if(S.masculine)for(var T in S.masculine)this.locale[r].terms[O][T]=S.masculine[T]}this.locale[r].ord["1.0.1"]=y}for(c in this.locale[r].terms)for(D=0,P=2;D<P;D+=1)if(A=f.GENDERS[D],this.locale[r].terms[c][A])for(u in this.locale[r].terms[c])this.locale[r].terms[c][A][u]||(this.locale[r].terms[c][A][u]=this.locale[r].terms[c][u]);for(n=t.getNodesByName(s,"style-options"),a=0,h=t.numberofnodes(n);a<h;a+=1)for(m in p=n[a],o=t.attributes(p))if(o.hasOwnProperty(m))if("@punctuation-in-quote"===m||"@limit-day-ordinals-to-day-1"===m)"true"===o[m]?this.locale[r].opts[m.slice(1)]=!0:this.locale[r].opts[m.slice(1)]=!1;else if("@jurisdiction-preference"===m){var I=o[m].split(/\s*,\s*/);this.locale[r].opts[m.slice(1)]=I}else if("@skip-words"===m){var N=o[m].split(/\s*,\s*/);this.locale[r].opts[m.slice(1)]=N}else if("@leading-noise-words"===m){var C=o[m].split(/\s*,\s*/);this.locale[r].opts["leading-noise-words"]=C}else if("@name-as-sort-order"===m){this.locale[r].opts["name-as-sort-order"]={};for(var D=0,P=(R=o[m].split(/\s+/)).length;D<P;D+=1)this.locale[r].opts["name-as-sort-order"][R[D]]=!0}else if("@name-as-reverse-order"===m){this.locale[r].opts["name-as-reverse-order"]={};for(D=0,P=(R=o[m].split(/\s+/)).length;D<P;D+=1)this.locale[r].opts["name-as-reverse-order"][R[D]]=!0}else if("@name-never-short"===m){this.locale[r].opts["name-never-short"]={};var R;for(D=0,P=(R=o[m].split(/\s+/)).length;D<P;D+=1)this.locale[r].opts["name-never-short"][R[D]]=!0}for(n=t.getNodesByName(s,"date"),a=0,h=t.numberofnodes(n);a<h;a+=1){var F=n[a];this.locale[r].dates[t.getAttributeValue(F,"form")]=F}},e.exports=f,f.getLocaleNames=function(t,e){var r=f.setupXml(t);function i(t,e){var r=["base","best"];if(e){normalizedLocale=f.localeResolve(e);for(var i=0,s=r.length;i<s;i++)normalizedLocale[r[i]]&&-1===t.indexOf(normalizedLocale[r[i]])&&t.push(normalizedLocale[r[i]])}}function s(t){for(var e=r.getNodesByName(r.dataObj,t),i=0,s=e.length;i<s;i++){var o=r.getAttributeValue(e[i],"locale");if(o)for(var a=0,l=(o=o.split(/ +/)).length;a<l;a++)this.extendLocaleList(n,o[a])}}var n=["en-US"];i(n,e);var o=r.getNodesByName(r.dataObj,"style")[0],a=r.getAttributeValue(o,"default-locale");i(n,a);for(var l=["layout","if","else-if","condition"],u=0,c=l.length;u<c;u++)s(r);return n},e.exports=f,f.Node={},f.Node.bibliography={build:function(t,e){if(this.tokentype===f.START){t.build.area="bibliography",t.build.root="bibliography",t.build.extension="";this.execs.push(function(t,e){t.tmp.area="bibliography",t.tmp.root="bibliography",t.tmp.extension=""})}e.push(this)}},e.exports=f,f.Node.choose={build:function(t,e){var r;this.tokentype===f.START&&(r=function(t,e){t.tmp.jump.push(void 0,f.LITERAL)}),this.tokentype===f.END&&(r=function(t,e){t.tmp.jump.pop()}),this.execs.push(r),e.push(this)},configure:function(t,e){this.tokentype===f.END?(t.configure.fail.push(e),t.configure.succeed.push(e)):(t.configure.fail.pop(),t.configure.succeed.pop())}},e.exports=f,f.Node.citation={build:function(t,e){if(this.tokentype===f.START){t.build.area="citation",t.build.root="citation",t.build.extension="";this.execs.push(function(t,e){t.tmp.area="citation",t.tmp.root="citation",t.tmp.extension=""})}if(this.tokentype===f.END){if(t.opt.grouped_sort="in-text"===t.opt.xclass&&t.citation.opt.collapse&&t.citation.opt.collapse.length||t.citation.opt.cite_group_delimiter&&t.citation.opt.cite_group_delimiter.length&&t.opt.update_mode!==f.POSITION&&t.opt.update_mode!==f.NUMERIC,t.opt.grouped_sort&&t.citation_sort.opt.sort_directions.length){var r=t.citation_sort.opt.sort_directions[0].slice();t.citation_sort.opt.sort_directions=[r].concat(t.citation_sort.opt.sort_directions)}t.citation.srt=new f.Registry.Comparifier(t,"citation_sort")}e.push(this)}},e.exports=f,f.Node["#comment"]={build:function(t,e){}},e.exports=f,f.Node.date={build:function(t,e){var r,i,s,n,o,a,l,u,c,p;this.tokentype!==f.START&&this.tokentype!==f.SINGLETON||(t.build.date_parts=[],t.build.date_variables=this.variables,t.build.extension||f.Util.substituteStart.call(this,t,e),r=t.build.extension?f.dateMacroAsSortKey:function(t,e,r){var m;if(t.tmp.element_rendered_ok=!1,t.tmp.donesies=[],t.tmp.dateparts=[],m=[],!this.variables.length||t.tmp.just_looking&&"accessed"===this.variables[0])t.tmp.date_object=!1;else{for(void 0===(i=e[this.variables[0]])&&(i={"date-parts":[[0]]},t.opt.development_extensions.locator_date_and_revision&&r&&"locator-date"===this.variables[0]&&r["locator-date"]&&(i=r["locator-date"])),t.tmp.date_object=i,s=this.dateparts.length,n=0;n<s;n+=1)o=this.dateparts[n],void 0!==t.tmp.date_object[o+"_end"]?m.push(o):"month"===o&&void 0!==t.tmp.date_object.season_end&&m.push(o);for(a=[],s=(l=["year","month","day"]).length,n=0;n<s;n+=1)m.indexOf(l[n])>-1&&a.push(l[n]);for(m=a.slice(),u=2,s=m.length,n=0;n<s;n+=1)if(o=m[n],c=t.tmp.date_object[o],p=t.tmp.date_object[o+"_end"],c!==p){u=n;break}t.tmp.date_collapse_at=m.slice(u)}},this.execs.push(r),r=function(t,e){if(e[this.variables[0]]&&(t.parallel.StartVariable(this.variables[0]),t.output.startTag("date",this),"issued"===this.variables[0]&&"legal_case"===e.type&&!t.tmp.extension&&""+e["collection-number"]==""+t.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var r in t.tmp.date_object)if(t.tmp.date_object.hasOwnProperty(r)&&"year"===r.slice(0,4)){t.tmp.issued_date={};var i=t.output.current.mystack.slice(-2)[0].blobs;t.tmp.issued_date.list=i,t.tmp.issued_date.pos=i.length-1}},this.execs.push(r)),t.build.extension||this.tokentype!==f.END&&this.tokentype!==f.SINGLETON||(r=function(t,e){e[this.variables[0]]&&(t.output.endTag(),t.parallel.CloseVariable(this.variables[0]))},this.execs.push(r)),e.push(this),this.tokentype!==f.END&&this.tokentype!==f.SINGLETON||t.build.extension||f.Util.substituteEnd.call(this,t,e)}},e.exports=f,f.Node["date-part"]={build:function(t,e){var r,i,s,n,o,a,l,u,c,p,m,h,d,g,b,_,v,y,x;this.strings.form||(this.strings.form="long"),t.build.date_parts.push(this.strings.name);var w=t.build.date_variables[0];r=function(t,e){if(t.tmp.date_object){if(n=!0,o="",a="",t.tmp.donesies.push(this.strings.name),t.tmp.date_object.literal&&"year"===this.strings.name&&(t.parallel.AppendToVariable(t.tmp.date_object.literal),t.output.append(t.tmp.date_object.literal,this)),t.tmp.date_object&&(o=t.tmp.date_object[this.strings.name],a=t.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==o||t.tmp.suppress_decorations||(o=!1),l=!t.tmp.suppress_decorations,u=t.tmp.have_collapsed,c="year-suffix"===t[t.tmp.area].opt.collapse||"year-suffix-ranged"===t[t.tmp.area].opt.collapse,p=t.opt["disambiguate-add-year-suffix"],l&&p&&c&&(t.tmp.years_used.push(o),t.tmp.last_years_used.length>=t.tmp.years_used.length&&u&&t.tmp.last_years_used[t.tmp.years_used.length-1]===o&&(o=!1)),void 0!==o){m=!1,h=!1,!1,!1,"year"===this.strings.name&&(parseInt(o,10)<500&&parseInt(o,10)>0&&(h=t.getTerm("ad")),parseInt(o,10)<0&&(m=t.getTerm("bc"),o=-1*parseInt(o,10)),a&&(parseInt(a,10)<500&&parseInt(a,10)>0&&t.getTerm("ad"),parseInt(a,10)<0&&(t.getTerm("bc"),a=-1*parseInt(a,10)))),t.parallel.AppendToVariable(o);for(var r=""+t.tmp.date_object.month;r.length<2;)r="0"+r;r="month-"+r;var A=t.locale[t.opt.lang]["noun-genders"][r];if(this.strings.form){var E=this.strings.form;if("day"===this.strings.name&&"ordinal"===E&&t.locale[t.opt.lang].opts["limit-day-ordinals-to-day-1"]&&""+o!="1"&&(E="numeric"),o=f.Util.Dates[this.strings.name][E](t,o,A,this.default_locale),"month"===this.strings.name)if(t.tmp.strip_periods)o=o.replace(/\./g,"");else for(var j=0,O=this.decorations.length;j<O;j+=1)if("@strip-periods"===this.decorations[j][0]&&"true"===this.decorations[j][1]){o=o.replace(/\./g,"");break}if(a)if(a=f.Util.Dates[this.strings.name][E](t,a,A,"accessed"===w,"_end"),t.tmp.strip_periods)a=a.replace(/\./g,"");else for(j=0,O=this.decorations.length;j<O;j+=1)if("@strip-periods"===this.decorations[j][0]&&"true"===this.decorations[j][1]){a=a.replace(/\./g,"");break}}if(t.output.openLevel("empty"),t.tmp.date_collapse_at.length){for(d=!0,s=t.tmp.date_collapse_at.length,i=0;i<s;i+=1)if(x=t.tmp.date_collapse_at[i],-1===t.tmp.donesies.indexOf(x)){d=!1;break}if(d){if(""+a!="0"){if(0===t.dateput.queue.length&&(n=!0),t.opt["year-range-format"]&&"expanded"!==t.opt["year-range-format"]&&!t.tmp.date_object.day&&!t.tmp.date_object.month&&!t.tmp.date_object.season&&"year"===this.strings.name&&o&&a){a=t.fun.year_mangler(o+"-"+a,!0);var S=t.getTerm("year-range-delimiter");a=a.slice(a.indexOf(S)+1)}t.dateput.append(a,this),n&&(t.dateput.current.value()[0].strings.prefix="")}t.output.append(o,this),(g=t.output.current.value()).blobs[g.blobs.length-1].strings.suffix="",t.output.append(t.getTerm("year-range-delimiter"),"empty"),b=t.dateput.current.value(),g.blobs=g.blobs.concat(b),t.dateput.string(t,t.dateput.queue),t.tmp.date_collapse_at=[]}else t.output.append(o,this),t.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+a!="0"&&(0===t.dateput.queue.length&&(n=!0),t.dateput.openLevel("empty"),t.dateput.append(a,this),n&&(t.dateput.current.value().blobs[0].strings.prefix=""),m&&t.dateput.append(m),h&&t.dateput.append(h),t.dateput.closeLevel())}else t.output.append(o,this);m&&t.output.append(m),h&&t.output.append(h),t.output.closeLevel()}else"month"===this.strings.name&&t.tmp.date_object.season&&((o=""+t.tmp.date_object.season)&&o.match(/^[1-4]$/)?(t.tmp.group_context.tip.variable_success=!0,t.output.append(t.getTerm("season-0"+o),this)):o&&t.output.append(o,this));t.tmp.value=[],!e[w]||!o&&!t.tmp.have_collapsed||t.opt.has_year_suffix||"year"!==this.strings.name||t.tmp.just_looking||t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.has_done_year_suffix&&(t.tmp.has_done_year_suffix=!0,v=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),_=new f.NumericBlob(!1,v,this,e.id),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,y=new f.Util.Suffixator(f.SUFFIX_CHARS),_.setFormatter(y),"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(_.range_prefix=t.getTerm("citation-range-delimiter")),t[t.tmp.area].opt.cite_group_delimiter?_.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter:t[t.tmp.area].opt["year-suffix-delimiter"]?_.successor_prefix=t[t.tmp.area].opt["year-suffix-delimiter"]:_.successor_prefix=t[t.tmp.area].opt.layout_delimiter,_.UGLY_DELIMITER_SUPPRESS_HACK=!0,t.output.append(_,"literal"))}},this.execs.push(r),e.push(this)}},e.exports=f,f.Node["else-if"]={build:function(t,e){f.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){f.Conditions.Configure.call(this,t,e)}},e.exports=f,f.Node.else={build:function(t,e){e.push(this)},configure:function(t,e){this.tokentype===f.START&&(t.configure.fail[t.configure.fail.length-1]=e)}},e.exports=f,f.Node["et-al"]={build:function(t,e){if("citation"===t.build.area||"bibliography"===t.build.area){this.execs.push(function(t,e,r){t.tmp.etal_node=this,"string"==typeof this.strings.term&&(t.tmp.etal_term=this.strings.term)})}e.push(this)}},e.exports=f,f.Node.group={build:function(t,e,r){var i,s,n;if(this.realGroup=r,this.tokentype===f.START&&(f.Util.substituteStart.call(this,t,e),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()+1),this.juris||e.push(this),(s=[]).push(i=function(t,e){if(t.output.startTag("group",this),this.strings.label_form_override&&(t.tmp.group_context.tip.label_form||(t.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(t.tmp.group_context.tip.label_capitalize_if_first||(t.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){var r=!1,i=!1;t.tmp.group_context.mystack.length&&(t.output.current.value().parent=t.tmp.group_context.tip.output_tip);var s=t.tmp.group_context.tip.label_form;s||(s=this.strings.label_form_override);var n=t.tmp.group_context.tip.label_capitalize_if_first;n||(n=this.strings.label_capitalize_if_first),t.tmp.group_context.tip.condition?(r=t.tmp.group_context.tip.condition,i=t.tmp.group_context.tip.force_suppress):this.strings.reject?(r={test:this.strings.reject,not:!0},i=!0,[]):this.strings.CitRequire&&(r={test:this.strings.CitRequire,not:!1},[]),t.tmp.group_context.push({old_term_predecessor:t.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:t.tmp.group_context.tip.variable_success,output_tip:t.output.current.tip,label_form:s,label_capitalize_if_first:n,parallel_conditions:this.strings.set_parallel_condition,condition:r,force_suppress:i,done_vars:t.tmp.group_context.tip.done_vars.slice()})}}),this.execs=s.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(t.build["publisher-special"]=!0,i=function(t,e){if(this.strings["subgroup-delimiter"]&&e.publisher&&e["publisher-place"]){var r=e.publisher.split(/;\s*/),i=e["publisher-place"].split(/;\s*/);r.length>1&&r.length===i.length&&(t.publisherOutput=new f.PublisherOutput(t,this),t.publisherOutput["publisher-list"]=r,t.publisherOutput["publisher-place-list"]=i)}},this.execs.push(i)),this.juris)){for(var o=0,a=e.length;o<a;o++)e[o];var l=new f.Token("choose",f.START);f.Node.choose.build.call(l,t,e);var u=new f.Token("if",f.START);n=this.juris,i=function(e){if(!t.sys.retrieveStyleModule||!f.MODULE_MACROS[n]||!e.jurisdiction)return!1;var r=t.getJurisdictionList(e.jurisdiction);if(!t.opt.jurisdictions_seen[r[0]]){var i=t.retrieveAllStyleModules(r);for(var s in i){t.juris[s]={};for(var o=f.setupXml(i[s]),a=0,l=(m=o.getNodesByName(o.dataObj,"law-module")).length;a<l;a++){var u=o.getAttributeValue(m[a],"types");if(u){t.juris[s].types={};for(var c=0,p=(u=u.split(/\s+/)).length;c<p;c++)t.juris[s].types[u[c]]=!0}}var m;for(t.juris[s].types||(t.juris[s].types=f.MODULE_TYPES),a=0,l=(m=o.getNodesByName(o.dataObj,"macro")).length;a<l;a++){var h=o.getAttributeValue(m[a],"name");f.MODULE_MACROS[h]?(t.juris[s][h]=[],t.buildTokenLists(m[a],t.juris[s][h]),t.configureTokenList(t.juris[s][h])):f.debug('CSL: skipping non-modular macro name "'+h+'" in module context')}}}for(a=0,l=r.length;a<l;a++)if(s=r[a],t.juris[s]&&t.juris[s].types[e.type])return e["best-jurisdiction"]=s,!0;return!1},u.tests.push(i),u.test=t.fun.match.any(u,t,u.tests),e.push(u);var c=new f.Token("text",f.SINGLETON);i=function(t,e,r){var i=0;if(t.juris[e["best-jurisdiction"]][this.juris])for(;i<t.juris[e["best-jurisdiction"]][this.juris].length;)i=f.tokenExec.call(t,t.juris[e["best-jurisdiction"]][this.juris][i],e,r)},c.juris=this.juris,c.execs.push(i),e.push(c);var p=new f.Token("if",f.END);f.Node.if.build.call(p,t,e);var m=new f.Token("else",f.START);f.Node.else.build.call(m,t,e)}if(this.tokentype===f.END&&(t.build["publisher-special"]&&(t.build["publisher-special"]=!1,"string"==typeof t[t.build.root].opt["name-delimiter"]&&(i=function(t,e){t.publisherOutput&&(t.publisherOutput.render(),t.publisherOutput=!1)},this.execs.push(i))),i=function(t,e){if(t.output.endTag(),this.realGroup){var r=t.tmp.group_context.pop();if(t.tmp.group_context.tip.condition&&(t.tmp.group_context.tip.force_suppress=r.force_suppress),!r.force_suppress&&(r.variable_success||r.term_intended&&!r.variable_attempt)){this.isJurisLocatorLabel||(t.tmp.group_context.tip.variable_success=!0);var i=t.output.current.value().blobs,s=t.output.current.value().blobs.length-1;if(!t.tmp.just_looking&&void 0!==r.parallel_conditions){var n={blobs:i,conditions:r.parallel_conditions,id:e.id,pos:s};t.parallel.parallel_conditional_blobs_list.push(n)}}else{if(t.tmp.term_predecessor=r.old_term_predecessor,t.tmp.group_context.tip.variable_attempt=r.variable_attempt,r.force_suppress&&!t.tmp.group_context.tip.condition){t.tmp.group_context.tip.variable_attempt=!0,t.tmp.group_context.tip.variable_success=r.variable_success_parent;for(var o=0,a=r.done_vars.length;o<a;o++)t.tmp.done_vars.indexOf(r.done_vars[o])>-1&&(t.tmp.done_vars=t.tmp.done_vars.slice(0,o).concat(t.tmp.done_vars.slice(o+1)))}t.output.current.value().blobs&&t.output.current.value().blobs.pop()}}},this.execs.push(i),this.juris)){var h=new f.Token("else",f.END);f.Node.else.build.call(h,t,e);var d=new f.Token("choose",f.END);f.Node.choose.build.call(d,t,e)}this.tokentype===f.END&&(this.juris||e.push(this),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()-1),f.Util.substituteEnd.call(this,t,e))}},e.exports=f,f.Node.if={build:function(t,e){f.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){f.Conditions.Configure.call(this,t,e)}},e.exports=f,f.Node.conditions={build:function(t,e){this.tokentype===f.START&&t.tmp.conditions.addMatch(this.match),this.tokentype===f.END&&t.tmp.conditions.matchCombine()}},e.exports=f,f.Node.condition={build:function(t,e){if(this.tokentype===f.SINGLETON){var r=t.fun.match[this.match](this,t,this.tests);t.tmp.conditions.addTest(r)}}},e.exports=f,f.Conditions={},f.Conditions.TopNode=function(t,e){var r;this.tokentype!==f.START&&this.tokentype!==f.SINGLETON||(this.locale&&(t.opt.lang=this.locale),this.tests&&this.tests.length?this.test=t.fun.match[this.match](this,t,this.tests):t.tmp.conditions=new f.Conditions.Engine(t,this)),this.tokentype!==f.END&&this.tokentype!==f.SINGLETON||(r=function(t,e){return this.locale_default&&(t.output.current.value().old_locale=this.locale_default,t.output.closeLevel("empty"),t.opt.lang=this.locale_default),this[t.tmp.jump.value()]},this.execs.push(r),this.locale_default&&(t.opt.lang=this.locale_default))},f.Conditions.Configure=function(t,e){this.tokentype===f.START?(this.fail=t.configure.fail.slice(-1)[0],this.succeed=this.next,t.configure.fail[t.configure.fail.length-1]=e):this.tokentype===f.SINGLETON?(this.fail=this.next,this.succeed=t.configure.succeed.slice(-1)[0],t.configure.fail[t.configure.fail.length-1]=e):(this.succeed=t.configure.succeed.slice(-1)[0],this.fail=this.next)},f.Conditions.Engine=function(t,e){this.token=e,this.state=t},f.Conditions.Engine.prototype.addTest=function(t){this.token.tests.push(t)},f.Conditions.Engine.prototype.addMatch=function(t){this.token.match=t},f.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},e.exports=f,f.Node.info={build:function(t,e){this.tokentype===f.START?t.build.skip="info":t.build.skip=!1}},e.exports=f,f.Node.institution={build:function(t,e){if([f.SINGLETON,f.START].indexOf(this.tokentype)>-1){this.execs.push(function(t,e){"string"==typeof this.strings.delimiter?t.tmp.institution_delimiter=this.strings.delimiter:t.tmp.institution_delimiter=t.tmp.name_delimiter,"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")?t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&":"none"===t.inheritOpt(this,"and")&&(this.and_term=t.tmp.institution_delimiter),void 0===this.and_term&&t.tmp.and_term&&(this.and_term=t.getTerm("and","long",0)),f.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.institution_delimiter&&(this.and_prefix_multiple=t.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.institution_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},void 0!==this.and_term?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new f.Blob(t.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new f.Blob(t.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),t.nameOutput.institution=this})}e.push(this)},configure:function(t,e){[f.SINGLETON,f.START].indexOf(this.tokentype)>-1&&(t.build.has_institution=!0)}},e.exports=f,f.Node["institution-part"]={build:function(t,e){var r;"long"===this.strings.name?r=this.strings["if-short"]?function(t,e){t.nameOutput.institutionpart["long-with-short"]=this}:function(t,e){t.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(r=function(t,e){t.nameOutput.institutionpart.short=this}),this.execs.push(r),e.push(this)}},e.exports=f,f.Node.key={build:function(t,e){var r;e=t[t.build.root+"_sort"].tokens;var i=new f.Token("key",f.START);t.tmp.root=t.build.root,i.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),i.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),i.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),r=function(t,e){t.tmp.done_vars=[]},i.execs.push(r),t.opt.citation_number_sort_direction=this.strings.sort_direction,r=function(t,e){t.output.openLevel("empty")},i.execs.push(r);var s=[];if(this.strings.sort_direction===f.DESCENDING?(s.push(1),s.push(-1)):(s.push(-1),s.push(1)),t[t.build.area].opt.sort_directions.push(s),f.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(t.build.date_key=!0),r=function(t,e){t.tmp.sort_key_flag=!0,t.inheritOpt(this,"et-al-min")&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),t.inheritOpt(this,"et-al-use-first")&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"boolean"==typeof t.inheritOpt(this,"et-al-use-last")&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"))},i.execs.push(r),e.push(i),this.variables.length){var n=this.variables[0];if("citation-number"===n&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t.opt.citation_number_sort=!1),"bibliography"===t.build.root&&"_sort"===t.build.extension&&(t.opt.citation_number_sort_used=!1)),f.CREATORS.indexOf(n)>-1){var o=new f.Token("names",f.START);o.tokentype=f.START,o.variables=this.variables,f.Node.names.build.call(o,t,e);var a=new f.Token("name",f.SINGLETON);a.tokentype=f.SINGLETON,a.strings["name-as-sort-order"]="all",a.strings["sort-separator"]=" ",a.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),a.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),a.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),f.Node.name.build.call(a,t,e);var l=new f.Token("institution",f.SINGLETON);l.tokentype=f.SINGLETON,f.Node.institution.build.call(l,t,e);var u=new f.Token("names",f.END);u.tokentype=f.END,f.Node.names.build.call(u,t,e)}else{var c=new f.Token("text",f.SINGLETON);if(c.dateparts=this.dateparts,f.NUMERIC_VARIABLES.indexOf(n)>-1)r=function(t,e){var r;r=!1,(r="citation-number"===n?t.registry.registry[e.id].seq.toString():e[n])&&(r=f.Util.padding(r)),t.output.append(r,this)};else if("citation-label"===n)r=function(t,e){var r=t.getCitationLabel(e);t.output.append(r,this)};else if(f.DATE_VARIABLES.indexOf(n)>-1)r=f.dateAsSortKey,c.variables=this.variables;else if("title"===n){r=t.transform.getOutputFunction(this.variables,"title",!1,!1,!0)}else r=function(t,e){var r=e[n];t.output.append(r,"empty")};c.execs.push(r),e.push(c)}}else{var p=new f.Token("text",f.SINGLETON);p.postponed_macro=this.postponed_macro,f.expandMacro.call(t,p,e)}var m=new f.Token("key",f.END);r=function(t,e){var r=t.output.string(t,t.output.queue);t.sys.normalizeUnicode&&(r=t.sys.normalizeUnicode(r)),""===(r=r?r.split(" ").join(t.opt.sort_sep)+t.opt.sort_sep:"")&&(r=void 0),("string"!=typeof r||t.tmp.empty_date)&&(r=void 0,t.tmp.empty_date=!1),t[t[t.tmp.area].root+"_sort"].keys.push(r),t.tmp.value=[]},m.execs.push(r),t.build.date_key&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t[t.build.area].opt.sort_directions.push([-1,1]),r=function(t,e){var r=t.registry.registry[e.id].disambig.year_suffix;r||(r=0);var i=f.Util.padding(""+r);t[t.tmp.area].keys.push(i)},m.execs.push(r)),t.build.date_key=!1),r=function(t,e){t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-use-last"]=void 0,t.tmp.sort_key_flag=!1},m.execs.push(r),e.push(m)}},e.exports=f,f.Node.label={build:function(t,e){if(this.strings.term){this.strings.form;this.execs.push(function(t,e,r){var i=f.evaluateLabel(this,t,e,r);r&&"locator"===this.strings.term&&(t.parallel.StartVariable("label"),t.parallel.AppendToVariable(r.label),r.section_form_override=this.strings.form),i&&(t.tmp.group_context.tip.term_intended=!0),f.UPDATE_GROUP_CONTEXT_CONDITION(t,i),-1===i.indexOf("%s")&&(this.strings.capitalize_if_first&&(t.tmp.term_predecessor||"in-text"===t.opt.class&&"citation"===t.tmp.area||(i=f.Output.Formatters["capitalize-first"](t,i))),t.output.append(i,this)),r&&"locator"===this.strings.term&&t.parallel.CloseVariable()})}else{var r=t.build.names_variables.slice(-1)[0];t.build.name_label||(t.build.name_label={});for(var i=0,s=r.length;i<s;i+=1)t.build.name_label[r[i]]||(t.build.name_label[r[i]]={});if(t.build.name_flag)for(i=0,s=r.length;i<s;i+=1)t.build.name_label[r[i]].after=this;else for(var i=0,s=r.length;i<s;i+=1)t.build.name_label[r[i]].before=this}e.push(this)}},e.exports=f,f.Node.layout={build:function(t,e){var r,i,s,n,o;function a(){"bibliography"===t.build.area&&(s=new f.Token("text",f.SINGLETON),r=function(t,e,r){var i;t.tmp.cite_locales[t.tmp.cite_locales.length-1];i=t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale]?t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale].suffix:t.bibliography.opt.layout_suffix;var s=t.output.current.value();t.opt.using_display?s.blobs[s.blobs.length-1].strings.suffix=i:s.strings.suffix=i,t.bibliography.opt["second-field-align"]&&t.output.endTag("bib_other")},s.execs.push(r),e.push(s))}if(this.tokentype===f.START&&(this.locale_raw?t.build.current_default_locale=this.locale_raw:t.build.current_default_locale=t.opt["default-locale"],r=function(t,e,r){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&(cite_entry=new f.Token("group",f.START),cite_entry.decorations=[["@cite","entry"]],t.output.startTag("cite_entry",cite_entry),t.output.current.value().item_id=e.system_id,r&&(t.output.current.value().locator_txt=r.locator_txt,t.output.current.value().suffix_txt=r.suffix_txt))},this.execs.push(r)),this.tokentype!==f.START||t.tmp.cite_affixes[t.build.area]||(r=function(t,e){t.tmp.done_vars=[],t.opt.suppressedJurisdictions[e.country]&&e.country&&-1===["treaty","patent"].indexOf(e.type)&&t.tmp.done_vars.push("country"),!t.tmp.just_looking&&t.registry.registry[e.id]&&t.registry.registry[e.id].parallel&&t.tmp.done_vars.push("first-reference-note-number"),t.tmp.rendered_name=!1},this.execs.push(r),r=function(t,e){t.tmp.sort_key_flag=!1},this.execs.push(r),r=function(t,e){t.tmp.nameset_counter=0},this.execs.push(r),r=function(t,e){var r=new f.Token;t.opt.development_extensions.rtl_support&&["ar","he","fa","ur","yi","ps","syr"].indexOf(e.language)>-1&&((r=new f.Token).strings.prefix="‫",r.strings.suffix="‬"),t.output.openLevel(r)},this.execs.push(r),e.push(this),t.opt.development_extensions.rtl_support,"citation"===t.build.area&&(i=new f.Token("text",f.SINGLETON),r=function(t,e,r){var i;if(r&&r.prefix){i="";var s=r.prefix.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),n=s.slice(-1);s.match(f.ENDSWITH_ROMANESQUE_REGEXP)?i=" ":f.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(n)>-1?i=" ":n.match(/[\)\],0-9]/)&&(i=" ");var o=!1;f.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(n)>-1&&r.prefix.trim().indexOf(" ")>-1&&(t.tmp.term_predecessor=!1,o=!0);var a=(r.prefix+i).replace(/\s+/g," ");t.tmp.just_looking||(a=t.output.checkNestedBrace.update(a)),t.output.append(a,this,!1,o)}},i.execs.push(r),e.push(i))),this.locale_raw&&((o=new f.Token("dummy",f.START)).locale=this.locale_raw,o.strings.delimiter=this.strings.delimiter,o.strings.suffix=this.strings.suffix,t.tmp.cite_affixes[t.build.area]||(t.tmp.cite_affixes[t.build.area]={})),this.tokentype===f.START&&(t.build.layout_flag=!0,this.locale_raw||(t[t.tmp.area].opt.topdecor=[this.decorations],t[t.tmp.area+"_sort"].opt.topdecor=[this.decorations],t[t.build.area].opt.layout_prefix=this.strings.prefix,t[t.build.area].opt.layout_suffix=this.strings.suffix,t[t.build.area].opt.layout_delimiter=this.strings.delimiter,t[t.build.area].opt.layout_decorations=this.decorations,t.tmp.cite_affixes[t.build.area]&&(n=new f.Token("else",f.START),f.Node.else.build.call(n,t,e))),this.locale_raw)){if(t.build.layout_locale_flag)o.name="else-if",f.Attributes["@locale-internal"].call(o,t,this.locale_raw),f.Node["else-if"].build.call(o,t,e);else{var l=new f.Token("choose",f.START);f.Node.choose.build.call(l,t,e),o.name="if",f.Attributes["@locale-internal"].call(o,t,this.locale_raw),f.Node.if.build.call(o,t,e)}t.tmp.cite_affixes[t.build.area][o.locale]={},t.tmp.cite_affixes[t.build.area][o.locale].delimiter=this.strings.delimiter,t.tmp.cite_affixes[t.build.area][o.locale].suffix=this.strings.suffix}this.tokentype===f.END&&(this.locale_raw&&(a(),t.build.layout_locale_flag?(o.name="else-if",o.tokentype=f.END,f.Attributes["@locale-internal"].call(o,t,this.locale_raw),f.Node["else-if"].build.call(o,t,e)):(o.name="if",o.tokentype=f.END,f.Attributes["@locale-internal"].call(o,t,this.locale_raw),f.Node.if.build.call(o,t,e),t.build.layout_locale_flag=!0)),this.locale_raw||(a(),t.tmp.cite_affixes[t.build.area]&&t.build.layout_locale_flag&&(n=new f.Token("else",f.END),f.Node.else.build.call(n,t,e),n=new f.Token("choose",f.END),f.Node.choose.build.call(n,t,e)),t.build_layout_locale_flag=!0,"citation"===t.build.area&&(s=new f.Token("text",f.SINGLETON),r=function(t,e,r){var i;if(r&&r.suffix){i="",(r.suffix.match(f.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(r.suffix.slice(0,1))>-1)&&(i=" ");var s=r.suffix;t.tmp.just_looking||(s=t.output.checkNestedBrace.update(s)),t.output.append(i+s,this)}},s.execs.push(r),e.push(s)),r=function(t,e){t.output.closeLevel()},this.execs.push(r),r=function(t,e){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&t.output.endTag()},this.execs.push(r),e.push(this),t.build.layout_flag=!1,t.build.layout_locale_flag=!1))}},e.exports=f,f.Node.macro={build:function(t,e){}},e.exports=f,f.NameOutput=function(t,e,r,i){this.debug=!1,this.state=t,this.Item=e,this.item=r,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},f.NameOutput.prototype.init=function(t){this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=t,this.variables=t.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var e=0,r=this.variables.length;e<r;e+=1)this.Item[this.variables[e]]&&this.Item[this.variables[e]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[e]]));this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length},f.NameOutput.prototype.reinit=function(t,e){if(this.labelVariable=e,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=t.variables;var r=this.state.tmp.value.slice();this.state.tmp.value=[];for(var i=0,s=this.variables.length;i<s;i+=1)this.Item[this.variables[i]]&&this.Item[this.variables[i]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[i]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,f.LITERAL),this.state.tmp.value=r}},f.NameOutput.prototype.outputNames=function(){var t=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=f.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",h=0,d=this.family.execs.length;h<d;h+=1)this.family.execs[h].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=f.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",h=0,d=this.given.execs.length;h<d;h+=1)this.given.execs[h].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.getEtAlConfig(),this.divideAndTransliterateNames(),this.truncatePersonalNameLists(),this.disambigNames(),this.constrainNames(),"count"!==this.name.strings.form){this.setEtAlParameters(),this.setCommonTerm(),this.state.tmp.name_node={},this.state.tmp.name_node.children=[],this.renderAllNames();var e=[];for(h=0,d=t.length;h<d;h+=1){var r=t[h],i=[],s=!1,n=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){for(var o=0,a=this.institutions[r].length;o<a;o+=1)i.push(this.joinPersonsAndInstitutions([this.persons[r][o],this.institutions[r][o]]));if(this.institutions[r].length){var l=this.nameset_base+this.variable_offset[r];this.freeters[r].length&&(l+=1),s=this.joinInstitutionSets(i,l)}n=this.joinFreetersAndInstitutionSets([this.freeters[r],s])}else n=this._join([this.freeters[r]],"");if(n&&(this.state.tmp.extension||(n=this._applyLabels(n,r)),e.push(n)),this.common_term)break}for(this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),h=0,d=e.length;h<d;h+=1)this.state.output.append(e[h],"literal",!0);this.state.output.closeLevel("empty");var u=this.state.output.pop(),c=f.Util.cloneToken(this.names);if(this.state.output.append(u,c),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.state.tmp.name_node.top=this.state.output.current.value(),"authority"!==t[0]){var p=[],m=this.Item[t[0]];if(m)for(var h=0,d=m.length;h<d;h+=1){var g=f.Util.Names.getRawName(m[h]);g&&p.push(g)}(p=p.join(", "))&&(this.state.tmp.name_node.string=p)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type){var b=[];this.state.tmp.first_name_string&&b.push(this.state.tmp.first_name_string),this.Item.title&&b.push(this.Item.title),(b=b.join(", "))&&this.state.sys.getAbbreviation&&(this.state.transform.loadAbbreviation("default","classic",b),this.state.transform.abbrevs.default.classic[b]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[b],"empty",!0),u=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(u)))}this._collapseAuthor(),this.variables=[]}else(this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},f.NameOutput.prototype._applyLabels=function(t,e){var r;if(!this.label||!this.label[this.labelVariable])return t;var i=0,s=this.freeters_count[e]+this.institutions_count[e];if(s>1)i=1;else{for(var n=0,o=this.persons[e].length;n<o;n+=1)s+=this.persons_count[e][n];s>1&&(i=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(i=this.label[this.labelVariable].before.strings.plural),r=this._buildLabel(e,i,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(r,this.label[this.labelVariable].before,!0),this.state.output.append(t,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(i=this.label[this.labelVariable].after.strings.plural),r=this._buildLabel(e,i,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(t,"literal",!0),this.state.output.append(r,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()),t},f.NameOutput.prototype._buildLabel=function(t,e,r,i){this.common_term&&(t=this.common_term);var s=!1,n=this.label[i][r];return n&&(s=f.castLabel(this.state,n,t,e,f.TOLERANT)),s},f.NameOutput.prototype._collapseAuthor=function(){var t,e,r;0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.item&&this.item["suppress-author"]&&this._first_creator_variable==this.variables[0]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,r=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),this.state.tmp.offset_characters=r,this.state.registry.authorstrings[this.Item.id]=e):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,r=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),e===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=r),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=e,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=r,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1))))},e.exports=f,f.NameOutput.prototype.isPerson=function(t){return!(t.literal||!t.given&&t.family&&t.isInstitution)},e.exports=f,f.NameOutput.prototype.truncatePersonalNameLists=function(){var t,e,r,i;for(t in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(t)&&(this.freeters_count[t]=this.freeters[t].length,this.freeters[t]=this._truncateNameList(this.freeters,t));for(t in this.persons)if(this.persons.hasOwnProperty(t))for(this.institutions_count[t]=this.institutions[t].length,this._truncateNameList(this.institutions,t),this.persons[t]=this.persons[t].slice(0,this.institutions[t].length),this.persons_count[t]=[],s=0,n=this.persons[t].length;s<n;s+=1)this.persons_count[t][s]=this.persons[t][s].length,this.persons[t][s]=this._truncateNameList(this.persons,t,s);if((i=1===this.etal_min&&1===this.etal_use_first&&!this.state.tmp.extension&&!this.state.tmp.just_looking&&t)||this._please_chop)for(e=0,r=this.variables.length;e<r;e+=1){t=this.variables[e],this.freeters[t].length&&(this._please_chop===t?(this.freeters[t]=this.freeters[t].slice(1),this.freeters_count[t]+=-1,this._please_chop=!1):i&&!this._please_chop&&(this.freeters[t]=this.freeters[t].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],this._please_chop=i));for(var s=0,n=this.persons[t].length;s<n;s++)if(this.persons[t][s].length){if(this._please_chop===t){this.persons[t][s]=this.persons[t][s].slice(1),this.persons_count[t][s]+=-1,this._please_chop=!1;break}if(i&&!this._please_chop){this.freeters[t]=this.persons[t][s].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],[],this._please_chop=i;break}}this.institutions[t].length&&(this._please_chop===t?(this.institutions[t]=this.institutions[t].slice(1),this.institutions_count[t]+=-1,this._please_chop=!1):i&&!this._please_chop&&(this.institutions[t]=this.institutions[t].slice(0,1),this.institutions_count[t]=1,[],this._please_chop=i))}for(e=0,r=this.variables.length;e<r;e+=1){this.institutions[t].length&&(this.nameset_offset+=1);for(s=0,n=this.persons[t].length;s<n;s++)this.persons[t][s].length&&(this.nameset_offset+=1)}},f.NameOutput.prototype._truncateNameList=function(t,e,r){var i;if(i=void 0===r?t[e]:t[e][r],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&i.length>50&&i.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var s=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;i=i.slice(0,s+1).concat(i.slice(-1))}return i},e.exports=f,f.NameOutput.prototype.divideAndTransliterateNames=function(){var t,e,r,i,s=this.Item,n=this.variables;for(this.varnames=n.slice(),this.freeters={},this.persons={},this.institutions={},t=0,e=n.length;t<e;t+=1){var o=n[t];this.variable_offset[o]=this.nameset_offset;var a=this._normalizeVariableValue(s,o);if(this.name.strings["suppress-min"]&&a.length>=this.name.strings["suppress-min"]&&(a=[]),this.name.strings["suppress-max"]&&a.length<=this.name.strings["suppress-max"]&&(a=[]),this._getFreeters(o,a),this._getPersonsAndInstitutions(o,a),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[o]=[],r=0,i=this.persons[o].length;r<i;r+=1)this.persons[o][r]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[o]=[],this.freeters[o]=this.freeters[o].concat(this.persons[o]),r=0,i=this.persons[o].length;r<i;r+=1)for(var l=0,u=this.persons[o][r].length;l<u;l+=1)this.freeters[o].push(this.persons[o][r][l]);this.persons[o]=[]}}},f.NameOutput.prototype._normalizeVariableValue=function(t,e){var r;return"string"==typeof t[e]||"number"==typeof t[e]?(f.debug('name variable "'+e+'" is string or number, not array. Attempting to fix.'),r=[{literal:t[e]+""}]):t[e]?"number"!=typeof t[e].length?(f.debug('name variable "'+e+'" is object, not array. Attempting to fix.'),t[e]=[t[e]],r=t[e].slice()):r=t[e].slice():r=[],r},f.NameOutput.prototype._getFreeters=function(t,e){if(this.freeters[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var r=e.length-1;r>-1&&this.isPerson(e[r]);r--){(i=this._checkNickname(e.pop()))&&this.freeters[t].push(i)}else for(r=e.length-1;r>-1;r--){var i=e.pop();if(this.isPerson(i))i=this._checkNickname(i);this.freeters[t].push(i)}this.freeters[t].reverse(),this.freeters[t].length&&(this.nameset_offset+=1)},f.NameOutput.prototype._getPersonsAndInstitutions=function(t,e){if(this.persons[t]=[],this.institutions[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var r=[],i=!1,s=!0,n=e.length-1;n>-1;n+=-1)if(this.isPerson(e[n])){var o=this._checkNickname(e[n]);o&&r.push(o)}else i=!0,this.institutions[t].push(e[n]),s||(r.reverse(),this.persons[t].push(r),r=[]),s=!1;i&&(r.reverse(),this.persons[t].push(r),this.persons[t].reverse(),this.institutions[t].reverse())}},f.NameOutput.prototype._clearValues=function(t){for(var e=t.length-1;e>-1;e+=-1)t.pop()},f.NameOutput.prototype._checkNickname=function(t){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var e;if((e=f.Util.Names.getRawName(t))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var r=e;this.state.sys.normalizeAbbrevsKey&&(r=this.state.sys.normalizeAbbrevsKey("author",e)),this.state.transform.loadAbbreviation("default","nickname",r);var i=this.state.transform.abbrevs.default.nickname[r];i&&(t="!here>>>"!==i&&{family:i,given:""})}}return t},e.exports=f,f.NameOutput.prototype.joinPersons=function(t,e,r,i){return i||(i="name"),void 0===r?1===this.etal_spec[e].freeters?this._joinEtAl(t,i):2===this.etal_spec[e].freeters?this._joinEllipsis(t,i):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,i):1===this.etal_spec[e].persons[r]?this._joinEtAl(t,i):2===this.etal_spec[e].persons[r]?this._joinEllipsis(t,i):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,i)},f.NameOutput.prototype.joinInstitutionSets=function(t,e){return 1===this.etal_spec[e].institutions?this._joinEtAl(t,"institution"):2===this.etal_spec[e].institutions?this._joinEllipsis(t,"institution"):this._joinAnd(t,"institution")},f.NameOutput.prototype.joinPersonsAndInstitutions=function(t){return this._join(t,this.state.tmp.name_delimiter)},f.NameOutput.prototype.joinFreetersAndInstitutionSets=function(t){return this._join(t,"[never here]",this.with.single,this.with.multiple)},f.NameOutput.prototype._joinEtAl=function(t,e){var r=this._join(t,this.state.tmp.name_delimiter);return this.state.output.openLevel(this._getToken(e)),this.state.output.current.value().strings.delimiter="",this.state.output.append(r,"literal",!0),t.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===t.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},f.NameOutput.prototype._joinEllipsis=function(t,e){return this._join(t,this.state.tmp.name_delimiter,this.name.ellipsis.single,this.name.ellipsis.multiple,e)},f.NameOutput.prototype._joinAnd=function(t,e){return this._join(t,this.state.inheritOpt(this[e],"delimiter",e+"-delimiter",", "),this[e].and.single,this[e].and.multiple,e)},f.NameOutput.prototype._join=function(t,e,r,i,s){var n,o;if(!t)return!1;for(n=t.length-1;n>-1;n+=-1)t[n]&&0!==t[n].length&&t[n].blobs.length||(t=t.slice(0,n).concat(t.slice(n+1)));if(!t.length)return!1;if(r&&2===t.length)r&&(r=new f.Blob(r.blobs,r)),t=[t[0],r,t[1]];else{var a;for(a=i?2:1,n=0,o=t.length-a;n<o;n+=1)t[n].strings.suffix+=e;if(t.length>1){var l=t.pop();i?(i=new f.Blob(i.blobs,i),t.push(i)):(r&&(r=new f.Blob(r.blobs,r)),t.push(r)),t.push(l)}}for(this.state.output.openLevel(),r&&i&&(this.state.output.current.value().strings.delimiter=""),n=0,o=t.length;n<o;n+=1)this.state.output.append(t[n],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},f.NameOutput.prototype._getToken=function(t){var e=this[t];return"institution"===t?new f.Token:e},e.exports=f,f.NameOutput.prototype.setCommonTerm=function(){var t=this.variables.slice();if(t.sort(),this.common_term=t.join(""),!this.common_term)return!1;var e=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?e=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(e=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!e||this.variables.length<2)this.common_term=!1;else for(var r=0,i=this.variables.length-1;r<i;r+=1){var s=this.variables[r],n=this.variables[r+1];if(this.freeters[s].length||this.freeters[n].length){if(this.etal_spec[s].freeters!==this.etal_spec[n].freeters||!this._compareNamesets(this.freeters[s],this.freeters[n]))return void(this.common_term=!1);1}if(this.persons[s].length!==this.persons[n].length)return void(this.common_term=!1);for(var o=0,a=this.persons[s].length;o<a;o+=1)if(this.etal_spec[s].persons[o]!==this.etal_spec[n].persons[o]||!this._compareNamesets(this.persons[s][o],this.persons[n][o]))return void(this.common_term=!1)}},f.NameOutput.prototype._compareNamesets=function(t,e){if(t.length!==e.length)return!1;for(var r=0,i=e.length;r<i;r+=1){e[r];for(var s=0,n=f.NAME_PARTS.length;s<n;s+=1){var o=f.NAME_PARTS[s];if(!t[r]||t[r][o]!=e[r][o])return!1}}return!0},e.exports=f,f.NameOutput.prototype.constrainNames=function(){var t;this.names_count=0;for(var e=0,r=this.variables.length;e<r;e+=1){var i=this.variables[e];t=this.nameset_base+e,this.freeters[i].length&&(this.state.tmp.names_max.push(this.freeters[i].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,i,t),this.names_count+=this.freeters[i].length),this.institutions[i].length&&(this.state.tmp.names_max.push(this.institutions[i].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,i,t),this.persons[i]=this.persons[i].slice(0,this.institutions[i].length),this.names_count+=this.institutions[i].length);for(var s=0,n=this.persons[i].length;s<n;s+=1)this.persons[i][s].length&&(this.state.tmp.names_max.push(this.persons[i][s].length,"literal"),this._imposeNameConstraints(this.persons[i],this.persons_count[i],s,t),this.names_count+=this.persons[i][s].length)}},f.NameOutput.prototype._imposeNameConstraints=function(t,e,r,i){var s=t[r],n=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]?n=this.state.tmp.disambig_request.names[i]:e[r]>=this.etal_min&&(n=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]>this.etal_use_first?n=e[r]<this.etal_min?e[r]:this.state.tmp.disambig_request.names[i]:e[r]>=this.etal_min&&(n=this.etal_use_first),this.etal_use_last&&n>this.etal_min-2&&(n=this.etal_min-2));var o=this.etal_min>=this.etal_use_first,a=e[r]>n;n>e[r]&&(n=s.length),o&&a&&(this.etal_use_last?t[r]=s.slice(0,n).concat(s.slice(-1)):t[r]=s.slice(0,n)),this.state.tmp.disambig_settings.names[i]=t[r].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},e.exports=f,f.NameOutput.prototype.disambigNames=function(){for(var t,e=0,r=this.variables.length;e<r;e+=1){var i=this.variables[e];if(t=this.nameset_base+e,this.freeters[i].length&&this._runDisambigNames(this.freeters[i],t),this.institutions[i].length){void 0===this.state.tmp.disambig_settings.givens[t]&&(this.state.tmp.disambig_settings.givens[t]=[]);for(var s=0,n=this.institutions[i].length;s<n;s+=1)void 0===this.state.tmp.disambig_settings.givens[t][s]&&this.state.tmp.disambig_settings.givens[t].push(2)}for(s=0,n=this.persons[i].length;s<n;s+=1)this.persons[i][s].length&&this._runDisambigNames(this.persons[i][s],t)}},f.NameOutput.prototype._runDisambigNames=function(t,e){var r,i,s,n,o,a;for(n=0,o=t.length;n<o;n+=1)if(t[n].given||t[n].family){if(i=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,t[n],n),void 0===this.state.tmp.disambig_settings.givens[e])for(var l=0,u=e+1;l<u;l+=1)this.state.tmp.disambig_settings.givens[l]||(this.state.tmp.disambig_settings.givens[l]=[]);if(void 0===this.state.tmp.disambig_settings.givens[e][n]&&(r=this.state.inheritOpt(this.name,"form","name-form","long"),s=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,0,r,i),this.state.tmp.disambig_settings.givens[e].push(s)),r=this.state.inheritOpt(this.name,"form","name-form","long"),a=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,0,r,i),this.state.tmp.disambig_request){var c=this.state.tmp.disambig_settings.givens[e][n];1!==c||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&void 0!==t[n].given||(c=2),s=c,this.state.opt["disambiguate-add-givenname"]&&t[n].given&&(s=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,s,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else s=a;!this.state.tmp.just_looking&&this.item&&this.item.position===f.POSITION_FIRST&&a>s&&(s=a),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[e][n]=s,"string"!=typeof i||void 0!==this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},e.exports=f,f.NameOutput.prototype.getEtAlConfig=function(){var t=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===t&&(t={}),t.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},e.exports=f,f.NameOutput.prototype.setEtAlParameters=function(){var t,e,r,i;for(t=0,e=this.variables.length;t<e;t+=1){var s=this.variables[t];for(void 0===this.etal_spec[s]&&(this.etal_spec[s]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+t]=this.etal_spec[s],this.freeters[s].length&&this._setEtAlParameter("freeters",s),r=0,i=this.persons[s].length;r<i;r+=1)void 0===this.etal_spec[s][r]&&(this.etal_spec[s].persons[r]=0),this._setEtAlParameter("persons",s,r);this.institutions[s].length&&this._setEtAlParameter("institutions",s)}},f.NameOutput.prototype._setEtAlParameter=function(t,e,r){var i,s;"persons"===t?(i=this.persons[e][r],s=this.persons_count[e][r]):(i=this[t][e],s=this[t+"_count"][e]),i.length<s&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===t?this.etal_spec[e].persons[r]=2:this.etal_spec[e][t]=2:"persons"===t?this.etal_spec[e].persons[r]=1:this.etal_spec[e][t]=1:"persons"===t?this.etal_spec[e].persons[r]=0:this.etal_spec[e][t]=0},e.exports=f,f.NameOutput.prototype.renderAllNames=function(){for(var t,e=0,r=this.variables.length;e<r;e+=1){var i=this.variables[e];(this.freeters[i].length||this.institutions[i].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),t=this.nameset_base+e,this.freeters[i].length&&(this.freeters[i]=this._renderNames(i,this.freeters[i],t));for(var s=0,n=this.institutions[i].length;s<n;s+=1)this.persons[i][s]=this._renderNames(i,this.persons[i][s],t,s)}this.renderInstitutionNames()},f.NameOutput.prototype.renderInstitutionNames=function(){for(var t=0,e=this.variables.length;t<e;t+=1)for(var r=this.variables[t],i=0,s=this.institutions[r].length;i<s;i+=1){var n,o=this.institutions[r][i],a={primary:"locale-orig",secondary:!1,tertiary:!1};if(n=this.state.tmp.extension?["sort"]:o.isInstitution||o.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var l=["primary","secondary","tertiary"],u=0,c=l.length;u<c&&!(n.length-1<u);u+=1)n[u]&&(a[l[u]]="locale-"+n[u]);else a.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(a.secondary=!1,a.tertiary=!1),this.setRenderedName(o);var p=this._renderInstitutionName(r,o,a,i);this.institutions[r][i]=p}},f.NameOutput.prototype._renderInstitutionName=function(t,e,r,i){var s,n,o,a,l,u=this.getName(e,r.primary,!0),c=u.name,p=u.usedOrig;if(c&&(c=this.fixupInstitution(c,t,i)),m=!1,r.secondary){var m=(u=this.getName(e,r.secondary,!1,p)).name;p=u.usedOrig,m&&(m=this.fixupInstitution(m,t,i))}s=!1,r.tertiary&&(s=(u=this.getName(e,r.tertiary,!1,p)).name)&&(s=this.fixupInstitution(s,t,i));var f={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(c&&(f.l.pri=c.long,f.s.pri=c.short.length?c.short:c.long),m&&(f.l.sec=m.long,f.s.sec=m.short.length?m.short:m.long),s&&(f.l.ter=s.long,f.s.ter=s.short.length?s.short:s.long),this.institution.strings["institution-parts"]){case"short":c.short.length?(o=this._getShortStyle(),a=[this._composeOneInstitutionPart([f.s.pri,f.s.sec,f.s.ter],r,o,t)]):(n=this._getLongStyle(c,t,i),a=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,n,t)]);break;case"short-long":n=this._getLongStyle(c,t,i),o=this._getShortStyle(),a=[l=this._renderOneInstitutionPart(c.short,o),this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,n,t)];break;case"long-short":n=this._getLongStyle(c,t,i),o=this._getShortStyle(),l=this._renderOneInstitutionPart(c.short,o),a=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,n,t),l];break;default:n=this._getLongStyle(c,t,i),a=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,n,t)]}var h=this._join(a," ");return this.state.tmp.name_node.children.push(h),h},f.NameOutput.prototype._composeOneInstitutionPart=function(t,e,r,i){var s,n,o,a,l=!1,u=!1,c=!1;if(t[0]){if(s=f.Util.cloneToken(r),this.state.opt.citeAffixes[e.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[e.primary].prefix){for(var p=!1,m=0,h=s.decorations.length;m<h;m+=1)"@font-style"===r.decorations[m][0]&&"italic"===s.decorations[m][1]&&(p=!0);p||s.decorations.push(["@font-style","italic"])}l=this._renderOneInstitutionPart(t[0],s)}if(t[1]&&(u=this._renderOneInstitutionPart(t[1],r)),t[2]&&(c=this._renderOneInstitutionPart(t[2],r)),u||c){this.state.output.openLevel("empty"),this.state.output.append(l),n=f.Util.cloneToken(r),e.secondary&&(n.strings.prefix=this.state.opt.citeAffixes.institutions[e.secondary].prefix,n.strings.suffix=this.state.opt.citeAffixes.institutions[e.secondary].suffix,n.strings.prefix||(n.strings.prefix=" "));var d=new f.Token;d.decorations.push(["@font-style","normal"]),d.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(d),this.state.output.append(u,n),this.state.output.closeLevel(),o=f.Util.cloneToken(r),e.tertiary&&(o.strings.prefix=this.state.opt.citeAffixes.institutions[e.tertiary].prefix,o.strings.suffix=this.state.opt.citeAffixes.institutions[e.tertiary].suffix,o.strings.prefix||(o.strings.prefix=" "));var g=new f.Token;g.decorations.push(["@font-style","normal"]),g.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(g),this.state.output.append(c,o),this.state.output.closeLevel(),this.state.output.closeLevel(),a=this.state.output.pop()}else a=l;return a},f.NameOutput.prototype._renderOneInstitutionPart=function(t,e){for(var r=0,i=t.length;r<i;r+=1)if(t[r]){var s=t[r];if(this.state.tmp.strip_periods)s=s.replace(/\./g,"");else for(var n=0,o=e.decorations.length;n<o;n+=1)if("@strip-periods"===e.decorations[n][0]&&"true"===e.decorations[n][1]){s=s.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,f.LITERAL),"!here>>>"===s?t[r]=!1:(this.state.output.append(s,e,!0),t[r]=this.state.output.pop())}return void 0===this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(t,this.institution.strings["part-separator"])},f.NameOutput.prototype._renderNames=function(t,e,r,i){var s=!1;if(e.length){for(var n=[],o=0,a=e.length;o<a;o+=1){var l,u=e[o],c={primary:"locale-orig",secondary:!1,tertiary:!1};if(l=this.state.tmp.extension?["sort"]:u.isInstitution||u.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var p=["primary","secondary","tertiary"],m=0,h=p.length;m<h&&!(l.length-1<m);m+=1)c[p[m]]="locale-"+l[m];else c.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(c.secondary=!1,c.tertiary=!1),this.setRenderedName(u),u.literal||u.isInstitution)n.push(this._renderInstitutionName(t,u,c,i));else{var d=this._renderPersonalName(t,u,c,r,o,i),g=f.Util.cloneToken(this.name);this.state.output.append(d,g,!0),n.push(this.state.output.pop())}}s=this.joinPersons(n,r,i)}return s},f.NameOutput.prototype._renderPersonalName=function(t,e,r,i,s,n){var o=this.getName(e,r.primary,!0),a=this._renderOnePersonalName(o.name,i,s,n),l=!1;r.secondary&&(o=this.getName(e,r.secondary,!1,o.usedOrig)).name&&(l=this._renderOnePersonalName(o.name,i,s,n));var u,c=!1;if(r.tertiary&&(o=this.getName(e,r.tertiary,!1,o.usedOrig)).name&&(c=this._renderOnePersonalName(o.name,i,s,n)),l||c){this.state.output.openLevel("empty"),this.state.output.append(a);var p=new f.Token;r.secondary&&(p.strings.prefix=this.state.opt.citeAffixes.persons[r.secondary].prefix,p.strings.suffix=this.state.opt.citeAffixes.persons[r.secondary].suffix,p.strings.prefix||(p.strings.prefix=" ")),this.state.output.append(l,p);var m=new f.Token;r.tertiary&&(m.strings.prefix=this.state.opt.citeAffixes.persons[r.tertiary].prefix,m.strings.suffix=this.state.opt.citeAffixes.persons[r.tertiary].suffix,m.strings.prefix||(m.strings.prefix=" ")),this.state.output.append(c,m),this.state.output.closeLevel(),u=this.state.output.pop()}else u=a;return u},f.NameOutput.prototype._isRomanesque=function(t){var e=2;if(t.family.replace(/\"/g,"").match(f.ROMANESQUE_REGEXP)||(e=0),!e&&t.given&&t.given.match(f.STARTSWITH_ROMANESQUE_REGEXP)&&(e=1),2==e){if(t.multi&&t.multi.main)var r=t.multi.main.slice(0,2);else this.Item.language&&(r=this.Item.language.slice(0,2));["ja","zh"].indexOf(r)>-1&&(e=1)}return e},f.NameOutput.prototype._renderOnePersonalName=function(t,e,r,i){var s=t,n=this._droppingParticle(s,e,i),o=this._familyName(s),a=this._nonDroppingParticle(s),l=this._givenName(s,e,r),u=this._nameSuffix(s);!1===l&&(n=!1,u=!1);var c,p=this.state.inheritOpt(this.name,"sort-separator");p||(p=""),c=s["comma-suffix"]?", ":" ";var m=this._isRomanesque(s);var h,d,g,b,_=function t(e){return!!e&&("string"==typeof e.blobs?["’","'","-"," "].indexOf(e.blobs.slice(-1))>-1:t(e.blobs[e.blobs.length-1]))}(a);if(0===m)h=this._join([a,o,l],"");else if(1===m||s["static-ordering"])h=this._join([a,o,l]," ");else if(s["reverse-ordering"])h=this._join([l,a,o]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(g=this._join([a,o,n]," "),d=this._join([g,l],this.state.opt.sort_sep),h=this._join([d,u]," ")):(b=this._join([l,n,a]," "),d=this._join([o,b],this.state.opt.sort_sep),h=this._join([d,u]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===r&&(0===i||void 0===i))["Lord","Lady"].indexOf(s.given)>-1&&(p=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(b=this._join([l,n],s["comma-dropping-particle"]+" "),(b=this._join([b,a]," "))&&this.given&&(b.strings.prefix=this.given.strings.prefix,b.strings.suffix=this.given.strings.suffix),o&&this.family&&(o.strings.prefix=this.family.strings.prefix,o.strings.suffix=this.family.strings.suffix),d=this._join([o,b],p),h=this._join([d,u],p)):((g=_?this._join([a,o],""):this._join([a,o]," "))&&this.family&&(g.strings.prefix=this.family.strings.prefix,g.strings.suffix=this.family.strings.suffix),(b=this._join([l,n],s["comma-dropping-particle"]+" "))&&this.given&&(b.strings.prefix=this.given.strings.prefix,b.strings.suffix=this.given.strings.suffix),d=this._join([g,b],p),h=this._join([d,u],p));else{s["dropping-particle"]&&s.family&&!s["non-dropping-particle"]&&["'","ʼ","’","-"].indexOf(s["dropping-particle"].slice(-1))>-1&&(o=this._join([n,o],""),n=!1),this.state.tmp.term_predecessor;var v=" ";this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1&&(v=" "),_?(b=this._join([a,o],""),b=this._join([n,b],v)):b=this._join([n,a,o],v),(b=this._join([b,u],c))&&this.family&&(b.strings.prefix=this.family.strings.prefix,b.strings.suffix=this.family.strings.suffix),l&&this.given&&(l.strings.prefix=this.given.strings.prefix,l.strings.suffix=this.given.strings.suffix),b.strings.prefix&&(s["comma-dropping-particle"]=""),h=this._join([l,b],s["comma-dropping-particle"]+v)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,f.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(h),h},f.NameOutput.prototype._normalizeNameInput=function(t){var e={literal:t.literal,family:t.family,isInstitution:t.isInstitution,given:t.given,suffix:t.suffix,"comma-suffix":t["comma-suffix"],"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],"static-ordering":t["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":t["reverse-ordering"],"full-form-always":t["full-form-always"],"parse-names":t["parse-names"],"comma-dropping-particle":"",block_initialize:t.block_initialize,multi:t.multi};return this._parseName(e),e},f.NameOutput.prototype._stripPeriods=function(t,e){var r=this[t+"_decor"];if(e)if(this.state.tmp.strip_periods)e=e.replace(/\./g,"");else if(r)for(var i=0,s=r.decorations.length;i<s;i+=1)if("@strip-periods"===r.decorations[i][0]&&"true"===r.decorations[i][1]){e=e.replace(/\./g,"");break}return e},f.NameOutput.prototype._nonDroppingParticle=function(t){var e=t["non-dropping-particle"];e&&this.state.tmp.sort_key_flag&&(e=e.replace(/[\'\u2019]/,""));var r=this._stripPeriods("family",e);return!!this.state.output.append(r,this.family_decor,!0)&&this.state.output.pop()},f.NameOutput.prototype._droppingParticle=function(t,e,r){var i=t["dropping-particle"];i&&this.state.tmp.sort_key_flag&&(i=i.replace(/[\'\u2019]/,""));var s=this._stripPeriods("given",i);if(t["dropping-particle"]&&t["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===r?this.etal_spec[e].freeters=2:this.etal_spec[e].persons=2:void 0===r?this.etal_spec[e].freeters=1:this.etal_spec[e].persons=1,t["comma-dropping-particle"]="";else if(this.state.output.append(s,this.given_decor,!0))return this.state.output.pop();return!1},f.NameOutput.prototype._familyName=function(t){var e=this._stripPeriods("family",t.family);return!!this.state.output.append(e,this.family_decor,!0)&&this.state.output.pop()},f.NameOutput.prototype._givenName=function(t,e,r){var i,s,n="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),o=!(!1===this.state.inheritOpt(this.name,"initialize")),a="string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&!t.block_initialize;this.state.tmp.area.slice(0,12);if(t["full-form-always"])s=2;else{i=n?0:a?1:2;var l=this.state.tmp.disambig_settings.givens[e][r];s=l>i?l:i}var u=this.state.citation.opt["givenname-disambiguation-rule"];if(u&&"-with-initials"===u.slice(-14)&&(a=!0),t.family&&1===s)if(a){var c=this.state.inheritOpt(this.name,"initialize-with",!1,"");t.given=f.Util.Names.initializeWith(this.state,t.given,c,!o)}else t.given=f.Util.Names.unInitialize(this.state,t.given);else{if(0===s)return!1;2===s&&(t.given=f.Util.Names.unInitialize(this.state,t.given))}var p=this._stripPeriods("given",t.given);return!!this.state.output.append(p,this.given_decor,!0)&&this.state.output.pop()},f.NameOutput.prototype._nameSuffix=function(t){var e,r=t.suffix;"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(r=f.Util.Names.initializeWith(this.state,t.suffix,this.state.inheritOpt(this.name,"initialize-with"),!0));var i="";return(r=this._stripPeriods("family",r))&&"."===r.slice(-1)&&(r=r.slice(0,-1),i="."),!!this.state.output.append(r,"empty",!0)&&((e=this.state.output.pop()).strings.suffix=i+e.strings.suffix,e)},f.NameOutput.prototype._getLongStyle=function(t,e,r){var i;return(i=t.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long)||(i=new f.Token),i},f.NameOutput.prototype._getShortStyle=function(){return this.institutionpart.short?this.institutionpart.short:new f.Token},f.NameOutput.prototype._parseName=function(t){var e;if(!t["parse-names"]&&void 0!==t["parse-names"])return t;t.family&&!t.given&&t.isInstitution&&(t.literal=t.family,t.family=void 0,t.isInstitution=void 0),t.family&&'"'===t.family.slice(0,1)&&'"'===t.family.slice(-1)||!t["parse-names"]&&void 0!==t["parse-names"]?(t.family=t.family.slice(1,-1),e=!0,t["parse-names"]=0):e=!1,this.state.opt.development_extensions.parse_names&&!t["non-dropping-particle"]&&t.family&&!e&&t.given&&(t["static-particles"]||f.parseParticles(t,!0))},f.NameOutput.prototype.getName=function(t,e,r,i){if(i&&"locale-orig"===e)return{name:!1,usedOrig:i};t.family||(t.family=""),t.given||(t.given="");var s={};s["static-ordering"]=this.getStaticOrder(t);var n=!0;if("locale-orig"!==e&&(n=!1,t.multi))for(var o=this.state.opt[e],a=0,l=o.length;a<l;a+=1)if(c=o[a],t.multi._key[c]){n=!0;var u=t.isInstitution;(t=t.multi._key[c]).isInstitution=u,(s=this.getNameParams(c)).transliterated=!0;break}if(!n){var c=!1;t.multi&&t.multi.main?c=t.multi.main:this.Item.language&&(c=this.Item.language),c&&(s=this.getNameParams(c))}return r||n?(t.family||(t.family=""),t.given||(t.given=""),!(t={family:t.family,given:t.given,"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],suffix:t.suffix,"static-ordering":s["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":s["reverse-ordering"],"full-form-always":s["full-form-always"],"parse-names":t["parse-names"],"comma-suffix":t["comma-suffix"],"comma-dropping-particle":t["comma-dropping-particle"],transliterated:s.transliterated,block_initialize:s["block-initialize"],literal:t.literal,isInstitution:t.isInstitution,multi:t.multi}).literal&&!t.given&&t.family&&t.isInstitution&&(t.literal=t.family),t.literal&&(delete t.family,delete t.given),{name:t=this._normalizeNameInput(t),usedOrig:i||!n}):{name:!1,usedOrig:i}},f.NameOutput.prototype.getNameParams=function(t){var e={},r=f.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),i=this.state.locale[r.best]?r.best:this.state.opt["default-locale"][0],s=this.state.locale[i].opts["name-as-sort-order"],n=this.state.locale[i].opts["name-as-reverse-order"],o=this.state.locale[i].opts["name-never-short"],a=t.split("-")[0];return s&&s[a]&&(e["static-ordering"]=!0,e["reverse-ordering"]=!1),n&&n[a]&&(e["reverse-ordering"]=!0,e["static-ordering"]=!1),o&&o[a]&&(e["full-form-always"]=!0),e["static-ordering"]&&(e["block-initialize"]=!0),e},f.NameOutput.prototype.setRenderedName=function(t){if("bibliography"===this.state.tmp.area){for(var e="",r=0,i=f.NAME_PARTS.length;r<i;r+=1)t[f.NAME_PARTS[r]]&&(e+=t[f.NAME_PARTS[r]]);this.state.tmp.rendered_name.push(e)}},f.NameOutput.prototype.fixupInstitution=function(t,e,r){this.state.sys.getHumanForm&&"legal_case"===this.Item.type&&"authority"===e&&(t.literal=this.state.sys.getHumanForm(this.Item.jurisdiction,t.literal,!0)),t=this._splitInstitution(t,e,r),this.institution.strings["reverse-order"]&&t.long.reverse();var i=t.long,s=t.long.slice(),n=!1;if(this.state.sys.getAbbreviation)for(var o=this.Item.jurisdiction,a=0,l=i.length;a<l;a+=1){var u=i[a];this.state.sys.normalizeAbbrevsKey&&(u=this.state.sys.normalizeAbbrevsKey(e,i[a])),o=this.state.transform.loadAbbreviation(o,"institution-part",u),this.state.transform.abbrevs[o]["institution-part"][u]&&(s[a]=this.state.transform.abbrevs[o]["institution-part"][u],n=!0)}return t.short=n?s:[],t},f.NameOutput.prototype.getStaticOrder=function(t,e){var r=!1;return!e&&t["static-ordering"]?r=!0:0===this._isRomanesque(t)?r=!0:(!t.multi||!t.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1?r=!0:t.multi&&t.multi.main&&["vi","hu"].indexOf(t.multi.main.slice(0,2))>-1?r=!0:this.state.opt["auto-vietnamese-names"]&&f.VIETNAMESE_NAMES.exec(t.family+" "+t.given)&&f.VIETNAMESE_SPECIALS.exec(t.family+t.given)&&(r=!0),r},f.NameOutput.prototype._splitInstitution=function(t,e,r){var i={};!t.literal&&t.family&&(t.literal=t.family,delete t.family);var s=t.literal.replace(/\s*\|\s*/g,"|");if(s=s.split("|"),"short"===this.institution.strings.form&&this.state.sys.getAbbreviation)for(var n=this.Item.jurisdiction,o=s.length;o>0;o+=-1){var a=s.slice(0,o).join("|"),l=a;if(this.state.sys.normalizeAbbrevsKey&&(l=this.state.sys.normalizeAbbrevsKey(e,a)),n=this.state.transform.loadAbbreviation(n,"institution-entire",l),this.state.transform.abbrevs[n]["institution-entire"][l]){var u=this.state.transform.abbrevs[n]["institution-entire"][l],c=(u=this.state.transform.quashCheck(u)).split(/>>[0-9]{4}>>/),p=u.match(/>>([0-9]{4})>>/);if(u=c.pop(),c.length>0&&this.Item["original-date"]&&this.Item["original-date"].year)for(var m=p.length-1;m>0&&!(parseInt(this.Item["original-date"].year,10)>=parseInt(p[m],10));m+=-1)u=c.pop();s=[u=u.replace(/\s*\|\s*/g,"|")];break}}return s.reverse(),i.long=this._trimInstitution(s,e,r),i},f.NameOutput.prototype._trimInstitution=function(t,e,r){var i=!1,s=!1,n=t.slice(),o=!1;return this.institution&&(void 0!==this.institution.strings["use-first"]&&(i=this.institution.strings["use-first"]),void 0!==this.institution.strings["stop-last"]?o=this.institution.strings["stop-last"]:"authority"===e&&this.state.tmp.authority_stop_last&&(o=this.state.tmp.authority_stop_last),o&&(n=n.slice(0,o),t=t.slice(0,o)),void 0!==this.institution.strings["use-last"]&&(s=this.institution.strings["use-last"]),"authority"===e&&(o&&(this.state.tmp.authority_stop_last=o),s&&(this.state.tmp.authority_stop_last+=-1*s))),!1===i&&(0===this.persons[e].length&&(i=this.institution.strings["substitute-use-first"]),i||(i=0)),!1===s&&(s=i?0:t.length),i>t.length-s&&(i=t.length-s),t=t.slice(0,i),n=n.slice(i),s&&(s>n.length&&(s=n.length),s&&(t=t.concat(n.slice(n.length-s)))),t},e.exports=f,f.PublisherOutput=function(t,e){this.state=t,this.group_tok=e,this.varlist=[]},f.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},f.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var t=!1;"text"===this.group_tok.strings.and?t=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(t="&");var e=new f.Token;e.strings.suffix=" ",e.strings.prefix=" ",this.state.output.append(t,e,!0);var r=this.state.output.pop();e.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(t,e,!0);var i=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,t&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=i:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=r,this.and_blob.multiple=r):(this.and_blob.single=r,this.and_blob.multiple=i))},f.PublisherOutput.prototype.composeElements=function(){for(var t=0;t<2;t+=1)for(var e=["publisher","publisher-place"][t],r=0,i=this["publisher-list"].length;r<i;r+=1){var s=this[e+"-list"][r],n=this[e+"-token"];this.state.output.append(s,n,!0),this[e+"-list"][r]=this.state.output.pop()}},f.PublisherOutput.prototype.composePublishers=function(){for(var t,e=0,r=this["publisher-list"].length;e<r;e+=1){t=[this[this.varlist[0]+"-list"][e],this[this.varlist[1]+"-list"][e]],this["publisher-list"][e]=this._join(t,this.group_tok.strings.delimiter)}},f.PublisherOutput.prototype.joinPublishers=function(){var t=this["publisher-list"],e=(this.name_delimiter,this._join(t,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok));this.state.output.append(e,"literal")},f.PublisherOutput.prototype._join=f.NameOutput.prototype._join,f.PublisherOutput.prototype._getToken=f.NameOutput.prototype._getToken,f.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},e.exports=f,f.evaluateLabel=function(t,e,r,i){var s;"locator"===t.strings.term?(i&&i.label&&(s="sub verbo"===i.label?"sub-verbo":i.label),s||(s="page")):s=t.strings.term;var n=t.strings.plural;if("number"!=typeof n){var o="locator"===t.strings.term?i:r;e.processNumber(!1,o,t.strings.term,r.type),n=e.tmp.shadow_numbers[t.strings.term].plural,e.tmp.shadow_numbers[t.strings.term].labelForm||e.tmp.shadow_numbers[t.strings.term].labelDecorations||(e.tmp.shadow_numbers[t.strings.term].labelForm=t.strings.form,e.tmp.shadow_numbers[t.strings.term].labelCapitalizeIfFirst=t.strings.capitalize_if_first,e.tmp.shadow_numbers[t.strings.term].labelDecorations=t.decorations.slice()),["locator","number","page"].indexOf(t.strings.term)>-1&&e.tmp.shadow_numbers[t.strings.term].label&&(s=e.tmp.shadow_numbers[t.strings.term].label),t.decorations&&(e.opt.development_extensions.csl_reverse_lookup_support||e.sys.csl_reverse_lookup_support)&&(t.decorations.reverse(),t.decorations.push(["@showid","true",t.cslid]),t.decorations.reverse())}return f.castLabel(e,t,s,n,f.TOLERANT)},f.castLabel=function(t,e,r,i,s){var n=e.strings.form,o=e.strings.capitalize_if_first;t.tmp.group_context.tip.label_form&&"static"!==n&&(n=t.tmp.group_context.tip.label_form),t.tmp.group_context.tip.label_capitalize_if_first&&(o=t.tmp.group_context.tip.label_capitalize_if_first);var a=t.getTerm(r,n,i,!1,s,e.default_locale);if(o&&(a=f.Output.Formatters["capitalize-first"](t,a)),t.tmp.strip_periods)a=a.replace(/\./g,"");else for(var l=0,u=e.decorations.length;l<u;l+=1)if("@strip-periods"===e.decorations[l][0]&&"true"===e.decorations[l][1]){a=a.replace(/\./g,"");break}return a},e.exports=f,f.Node.name={build:function(t,e){var r;if([f.SINGLETON,f.START].indexOf(this.tokentype)>-1){if(void 0===t.tmp.root){var i=void 0;t.tmp.root="citation"}else i=t.tmp.root;t.inheritOpt(this,"et-al-subsequent-min")&&t.inheritOpt(this,"et-al-subsequent-min")!==t.inheritOpt(this,"et-al-min")&&(t.opt.update_mode=f.POSITION),t.inheritOpt(this,"et-al-subsequent-use-first")&&t.inheritOpt(this,"et-al-subsequent-use-first")!==t.inheritOpt(this,"et-al-use-first")&&(t.opt.update_mode=f.POSITION),t.tmp.root=i,r=function(t,e){t.tmp.etal_term="et-al",t.tmp.name_delimiter=t.inheritOpt(this,"delimiter","name-delimiter",", "),t.tmp["delimiter-precedes-et-al"]=t.inheritOpt(this,"delimiter-precedes-et-al"),"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")&&(t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&"),t.tmp.and_term=this.and_term,f.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.name_delimiter&&(this.and_prefix_multiple=t.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.name_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===t.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=t.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},t.inheritOpt(this,"and")?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):t.tmp.name_delimiter&&(this.and.single=new f.Blob(t.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new f.Blob(t.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},t.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="…",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=t.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new f.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new f.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),void 0===t.tmp["et-al-min"]&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),void 0===t.tmp["et-al-use-first"]&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),void 0===t.tmp["et-al-use-last"]&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last")),t.nameOutput.name=this},t.build.name_flag=!0,this.execs.push(r)}e.push(this)}},e.exports=f,f.Node["name-part"]={build:function(t,e){t.build[this.strings.name]=this}},e.exports=f,f.Node.names={build:function(t,e){var r;if(this.tokentype!==f.START&&this.tokentype!==f.SINGLETON||(f.Util.substituteStart.call(this,t,e),t.build.substitute_level.push(1)),this.tokentype===f.SINGLETON&&(t.build.names_variables.push(this.variables),r=function(t,e,r){var i=t.nameOutput.labelVariable;t.nameOutput.reinit(this,i)},this.execs.push(r)),this.tokentype===f.START&&(t.build.names_flag=!0,t.build.names_level+=1,1===t.build.names_level&&(t.build.names_variables=[],t.build.name_label={}),t.build.names_variables.push(this.variables),r=function(t,e,r){t.tmp.can_substitute.push(!0),t.parallel.StartVariable("names",this.variables[0]),t.nameOutput.init(this)},this.execs.push(r)),this.tokentype===f.END){for(var i=0;i<3;i+=1){var s=["family","given","et-al"][i];this[s]=t.build[s],1===t.build.names_level&&(t.build[s]=void 0)}this.label=t.build.name_label,1===t.build.names_level&&(t.build.name_label={}),t.build.names_level+=-1,t.build.names_variables.pop(),r=function(t,e,r){t.tmp.etal_node?this.etal_style=t.tmp.etal_node:this.etal_style="empty",this.etal_term=t.getTerm(t.tmp.etal_term,"long",0),f.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)?(this.etal_prefix_single=" ",this.etal_prefix_multiple=t.tmp.name_delimiter,"always"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=t.tmp.name_delimiter:"never"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===t.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=t.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix=""):(this.etal_prefix_single="",this.etal_prefix_multiple="",this.etal_suffix="");for(var i=0;i<3;i+=1){var s=["family","given"][i];t.nameOutput[s]=this[s]}t.nameOutput.with=this.with;var n="",o="";f.STARTSWITH_ROMANESQUE_REGEXP.test("with")&&(n=" ",o=" ");var a={};a.single=new f.Blob("with"),a.single.strings.suffix=o,a.multiple=new f.Blob("with"),a.multiple.strings.suffix=o,"always"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(a.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),a.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(a.single.strings.prefix=n,a.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(a.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),a.multiple.strings.prefix=n):(a.single.strings.prefix=n,a.multiple.strings.prefix=n),t.nameOutput.with=a,t.nameOutput.label=this.label,t.nameOutput.etal_style=this.etal_style,t.nameOutput.etal_term=this.etal_term,t.nameOutput.etal_prefix_single=this.etal_prefix_single,t.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,t.nameOutput.etal_suffix=this.etal_suffix,t.nameOutput.outputNames(),t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-last"]=void 0},this.execs.push(r),r=function(t,e){t.tmp.can_substitute.pop()||t.tmp.can_substitute.replace(!1,f.LITERAL),t.parallel.CloseVariable("names"),1===t.tmp.can_substitute.mystack.length&&(t.tmp.can_block_substitute=!1)},this.execs.push(r),t.build.name_flag=!1}e.push(this),this.tokentype!==f.END&&this.tokentype!==f.SINGLETON||(t.build.substitute_level.pop(),f.Util.substituteEnd.call(this,t,e))}},e.exports=f,f.Node.number={build:function(t,e){var r;f.Util.substituteStart.call(this,t,e),"roman"===this.strings.form?this.formatter=t.fun.romanizer:"ordinal"===this.strings.form?this.formatter=t.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=t.fun.long_ordinalizer),void 0===this.successor_prefix&&(this.successor_prefix=t[t.build.area].opt.layout_delimiter),void 0===this.splice_prefix&&(this.splice_prefix=t[t.build.area].opt.layout_delimiter),r=function(t,e,r){if(0!==this.variables.length){if(void 0===r)r={};var i;if("locator"!==(i=this.variables[0])||!t.tmp.just_looking){t.parallel.StartVariable(this.variables[0]),"locator"===this.variables[0]?t.parallel.AppendToVariable(e.section):t.parallel.AppendToVariable(e[this.variables[0]]);new RegExp("(?:&|, | and |"+t.getTerm("page-range-delimiter")+")");"collection-number"===i&&"legal_case"===e.type&&(t.tmp.renders_collection_number=!0);e[this.variables[0]];if(t.tmp.group_context.tip.force_suppress)return!1;"locator"===i?t.processNumber(this,r,i,e.type):(!t.tmp.group_context.tip.condition&&e[i]&&(t.tmp.just_did_number=!0),t.processNumber(this,e,i,e.type)),f.Util.outputNumericField(t,i,e.id),t.parallel.CloseVariable("number"),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&(t.tmp.done_vars.push(this.variables_real[0]),t.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}}},this.execs.push(r),e.push(this),f.Util.substituteEnd.call(this,t,e)}},e.exports=f,f.Node.sort={build:function(t,e){if(e=t[t.build.root+"_sort"].tokens,this.tokentype===f.START){"citation"===t.build.area&&(t.parallel.use_parallels=!1,t.opt.sort_citations=!0),t.build.area=t.build.root+"_sort",t.build.extension="_sort";var r=function(t,e){if(t.opt.has_layout_locale){for(var r,i=f.localeResolve(e.language,t.opt["default-locale"][0]),s=t[t.tmp.area.slice(0,-5)].opt.sort_locales,n=0,o=s.length;n<o&&((r=s[n][i.bare])||(r=s[n][i.best]),!r);n+=1);r||(r=t.opt["default-locale"][0]),t.tmp.lang_sort_hold=t.opt.lang,t.opt.lang=r}};this.execs.push(r)}if(this.tokentype===f.END){t.build.area=t.build.root,t.build.extension="";r=function(t,e){t.opt.has_layout_locale&&(t.opt.lang=t.tmp.lang_sort_hold,delete t.tmp.lang_sort_hold)};this.execs.push(r)}e.push(this)}},e.exports=f,f.Node.substitute={build:function(t,e){var r;this.tokentype===f.START&&(r=function(t,e){t.tmp.can_block_substitute=!0,t.tmp.value.length&&t.tmp.can_substitute.replace(!1,f.LITERAL)},this.execs.push(r)),e.push(this)}},e.exports=f,f.Node.text={build:function(t,e){var r,i,s,n,o,a,l,u,c,p,m,h;if(this.postponed_macro){var d=f.Util.cloneToken(this);d.name="group",d.tokentype=f.START,f.Node.group.build.call(d,t,e),f.expandMacro.call(t,this,e);var g=f.Util.cloneToken(this);g.name="group",g.tokentype=f.END,"juris-locator-label"===this.postponed_macro&&(g.isJurisLocatorLabel=!0),f.Node.group.build.call(g,t,e)}else{if(f.Util.substituteStart.call(this,t,e),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),i="long",s=0,this.strings.form&&(i=this.strings.form),this.strings.plural&&(s=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===t.build.root&&(t.opt.update_mode=f.NUMERIC),"bibliography"===t.build.root&&(t.opt.bib_mode=f.NUMERIC),"bibliography_sort"===t.build.area&&(t.opt.citation_number_sort_used=!0),"citation-number"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,r=function(t,e,r){if(n=""+e.id,!t.tmp.just_looking){if(r&&r["author-only"]){t.tmp.element_trace.replace("do-not-suppress-me");var i=t.getTerm("reference","long","singular");void 0===i&&(i="reference"),h=f.Output.Formatters["capitalize-first"](t,i),t.output.append(h+" "),t.tmp.last_element_trace=!0}r&&r["suppress-author"]&&(t.tmp.last_element_trace&&t.tmp.element_trace.replace("suppress-me"),t.tmp.last_element_trace=!1),o=t.registry.registry[n].seq,t.opt.citation_number_slug?t.output.append(t.opt.citation_number_slug,this):(a=new f.NumericBlob(!1,o,this,e.id),t.tmp.in_cite_predecessor&&(t.tmp.just_looking,a.suppress_splice_prefix=!0),t.output.append(a,"literal"))}},this.execs.push(r)):"year-suffix"===this.variables_real[0]?(t.opt.has_year_suffix=!0,"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,t[t.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=t[t.build.area].opt["year-suffix-delimiter"]),r=function(t,e){if(t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.just_looking){o=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),t[t.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter),a=new f.NumericBlob(!1,o,this,e.id),l=new f.Util.Suffixator(f.SUFFIX_CHARS),a.setFormatter(l),t.output.append(a,"literal"),u=!1;for(var r=0,i=t.tmp.group_context.mystack.length;r<i;r++){var s=t.tmp.group_context.mystack[r];if(!s.variable_success&&(s.variable_attempt||!s.variable_attempt&&!s.term_intended)){u=!0;break}}c=t[t.tmp.area].opt["year-suffix-delimiter"],u&&c&&!t.tmp.sort_key_flag&&(t.tmp.splice_delimiter=t[t.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(r)):"citation-label"===this.variables_real[0]&&(t.opt.has_year_suffix=!0,r=function(t,e){(p=e["citation-label"])||(p=t.getCitationLabel(e)),t.tmp.just_looking||(m="",t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&(o=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),m=t.fun.suffixator.format(o)),p+=m),t.output.append(p,this)},this.execs.push(r));else if(this.strings.term)r=function(t,e,r){var n,o=t.opt.gender[e.type],a=this.strings.term;if(""!==(a=t.getTerm(a,i,s,o,f.TOLERANT,this.default_locale))&&(t.tmp.group_context.tip.term_intended=!0),f.UPDATE_GROUP_CONTEXT_CONDITION(t,a),n=t.tmp.term_predecessor||"in-text"===t.opt.class&&"citation"===t.tmp.area?a:f.Output.Formatters["capitalize-first"](t,a),t.tmp.strip_periods)n=n.replace(/\./g,"");else for(var l=0,u=this.decorations.length;l<u;l+=1)if("@strip-periods"===this.decorations[l][0]&&"true"===this.decorations[l][1]){n=n.replace(/\./g,"");break}t.output.append(n,this)},this.execs.push(r),t.build.term=!1,t.build.form=!1,t.build.plural=!1;else if(this.variables_real.length){if(r=function(t,e,r){"locator"!==this.variables_real[0]&&(t.tmp.have_collapsed=!1);var s=this.variables[0];"title"!==s||"short"!==i&&!e["title-short"]||(s="title-short"),t.parallel.StartVariable(s),t.parallel.AppendToVariable(e[s],s),!t.tmp.group_context.tip.condition&&e[this.variables[0]]&&(t.tmp.just_did_number=!1)},this.execs.push(r),f.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var b=this.variables[0],_=!1,v=!1,y=!1;"short"===i||["country","jurisdiction"].indexOf(this.variables_real[0])>-1?"container-title"===this.variables_real[0]?v="journalAbbreviation":"title"===this.variables_real[0]&&(v="title-short"):b=!1,t.build.extension?y=!0:(y=!0,_=!0),r=t.transform.getOutputFunction(this.variables,b,_,v,y)}else r=f.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(t,e,r){r&&r[this.variables[0]]&&(t.processNumber(this,r,this.variables[0],e.type),f.Util.outputNumericField(t,this.variables[0],e.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&t.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(t,e){t.processNumber(this,e,this.variables[0],e.type),f.Util.outputNumericField(t,this.variables[0],e.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(t,e){var r;if(this.variables[0]&&(r=t.getVariable(e,this.variables[0],i)))if(t.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])t.output.append(r,this,!1,!1,!0);else if("DOI"===this.variables_real[0]&&"https://doi.org/"===this.strings.prefix){var s=f.Util.cloneToken(this),n=new f.Blob(null,null,"url-wrapper");if(n.decorations.push(["@DOI","true"]),(r=r.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//))var o="";else o="https://doi.org/";var a=new f.Blob(o),l=new f.Blob(r);s.strings.prefix="",n.push(a),n.push(l),t.output.append(n,s,!1,!1,!0)}else this.decorations=[["@"+this.variables[0],"true"]].concat(this.decorations),t.output.append(r,this,!1,!1,!0);else{if(this.decorations.length)for(var u=this.decorations.length-1;u>-1;u--)this.decorations[u][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,u).concat(this.decorations.slice(u+1)));t.output.append(r,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function(t,e){var r;(r=t.getVariable(e,this.variables[0],i))&&t.output.append(r,this)}:"hereinafter"===this.variables_real[0]?function(t,e){var r=t.transform.abbrevs.default.hereinafter[e.id];r&&(t.output.append(r,this),t.tmp.group_context.tip.variable_success=!0)}:function(t,e){var r;this.variables[0]&&(r=t.getVariable(e,this.variables[0],i))&&(r=(r=""+r).split("\\").join(""),t.output.append(r,this))};this.execs.push(r),r=function(t,e){t.parallel.CloseVariable("text")},this.execs.push(r)}else this.strings.value&&(r=function(t,e){t.tmp.group_context.tip.term_intended=!0,f.UPDATE_GROUP_CONTEXT_CONDITION(t,this.strings.value,!0),t.output.append(this.strings.value,this)},this.execs.push(r));e.push(this),f.Util.substituteEnd.call(this,t,e)}}},e.exports=f,f.Attributes={},f.Attributes["@genre"]=function(t,e){e=e.replace("-"," ");this.tests.push(function(t,r){return e===t.genre})},f.Attributes["@disambiguate"]=function(t,e){if("true"===e){t.opt.has_disambiguate=!0;var r=function(e,r){if("bibliography"===t.tmp.area){if(t.tmp.disambiguate_count<t.registry.registry[e.id].disambig.disambiguate)return t.tmp.disambiguate_count+=1,!0}else if(t.tmp.disambiguate_maxMax+=1,t.tmp.disambig_settings.disambiguate&&t.tmp.disambiguate_count<t.tmp.disambig_settings.disambiguate)return t.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(r)}else if("check-ambiguity-and-backreference"===e){r=function(e,r){return!!(t.registry.registry[e.id].disambig.disambiguate&&t.registry.registry[e.id]["citation-count"]>1)};this.tests.push(r)}},f.Attributes["@is-numeric"]=function(t,e,r){for(var i=e.split(/\s+/),s=function(e){return function(r,i){var s=r;if(["locator","locator-extra"].indexOf(e)>-1&&(s=i),void 0===s)return!1;if(f.NUMERIC_VARIABLES.indexOf(e)>-1){if(t.tmp.shadow_numbers[e]||t.processNumber(!1,s,e,r.type),s[e]&&t.tmp.shadow_numbers[e].numeric)return!0}else if(["title","locator-extra","version"].indexOf(e)>-1&&s[e]&&s[e].slice(-1)===""+parseInt(s[e].slice(-1),10))return!0;return!1}},n=0;n<i.length;n+=1)this.tests.push(s(i[n]))},f.Attributes["@is-uncertain-date"]=function(t,e){for(var r=e.split(/\s+/),i=function(t){return function(e,r){return!(!e[t]||!e[t].circa)}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},f.Attributes["@locator"]=function(t,e){for(var r=e.replace("sub verbo","sub-verbo"),i=function(e){return function(r,i){var s;return t.processNumber(!1,i,"locator"),s=t.tmp.shadow_numbers.locator.label,e===s}},s=0,n=(r=r.split(/\s+/)).length;s<n;s+=1)this.tests.push(i(r[s]))},f.Attributes["@position"]=function(t,e){t.opt.update_mode=f.POSITION,t.parallel.use_parallels=null;for(var r=e.split(/\s+/),i=function(e){return function(r,i){if("bibliography"===t.tmp.area)return!1;if(i&&void 0===i.position&&(i.position=0),i&&"number"==typeof i.position){if(0===i.position&&0===e)return!0;if(e>0&&i.position>=e)return!0}else if(0===e)return!0;return!1}},s=0,n=r.length;s<n;s+=1){var o;"first"===(o=r[s])?o=f.POSITION_FIRST:"subsequent"===o?o=f.POSITION_SUBSEQUENT:"ibid"===o?o=f.POSITION_IBID:"ibid-with-locator"===o&&(o=f.POSITION_IBID_WITH_LOCATOR),"near-note"===o?this.tests.push(function(t,e){return!!(e&&e.position>=f.POSITION_SUBSEQUENT&&e["near-note"])}):"far-note"===o?this.tests.push(function(t,e){return!(!e||e.position!=f.POSITION_SUBSEQUENT||e["near-note"])}):this.tests.push(i(o))}},f.Attributes["@type"]=function(t,e){for(var r=e.split(/\s+/),i=function(t){return function(e,r){return!!(e.type===t)}},s=[],n=0,o=r.length;n<o;n+=1)s.push(i(r[n]));this.tests.push(t.fun.match.any(this,t,s))},f.Attributes["@variable"]=function(t,e){var r;if(this.variables=e.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)r=function(t,e,r){for(var i=this.variables.length-1;i>-1;i+=-1)this.variables.pop();i=0;for(var s=this.variables_real.length;i<s;i++)-1!==t.tmp.done_vars.indexOf(this.variables_real[i])||r&&"legal_case"===e.type&&r["suppress-author"]&&"title"===this.variables_real[i]||this.variables.push(this.variables_real[i]),t.tmp.can_block_substitute&&t.tmp.done_vars.push(this.variables_real[i])},this.execs.push(r),r=function(t,e,r){for(var s=!1,n=0,o=this.variables.length;n<o;n++){var a=this.variables[n];if(["authority","committee"].indexOf(a)>-1&&"string"==typeof e[a]&&"names"===this.name){var l=!0,u=e[a].split(/\s*;\s*/),c={};if(e.multi&&e.multi._keys[a])for(var p in e.multi._keys[a])if(c[p]=e.multi._keys[a][p].split(/\s*;\s*/),c[p].length!==u.length){l=!1;break}l||(u=[e[a]],c=e.multi._keys[a]);for(var m=0,h=u.length;m<h;m++){var d={literal:u[m],multi:{_key:{}}};for(var p in c){var g={literal:c[p][m]};d.multi._key[p]=g}u[m]=d}e[a]=u}if("short"!==this.strings.form||e[a]||("title"===a?a="title-short":"container-title"===a&&(a="journalAbbreviation")),"year-suffix"===a){s=!0;break}if(f.DATE_VARIABLES.indexOf(a)>-1){if(t.opt.development_extensions.locator_date_and_revision&&"locator-date"===a){s=!0;break}if(e[a]){for(var b in e[a])if((-1!==this.dateparts.indexOf(b)||"literal"===b)&&e[a][b]){s=!0;break}if(s)break}}else{if("locator"===a){r&&r.locator&&(s=!0);break}if("locator-extra"===a){r&&r["locator-extra"]&&(s=!0);break}if(["citation-number","citation-label"].indexOf(a)>-1){s=!0;break}if("first-reference-note-number"===a){r&&r["first-reference-note-number"]&&(s=!0);break}if("hereinafter"===a){t.transform.abbrevs.default.hereinafter[e.id]&&t.sys.getAbbreviation&&e.id&&(s=!0);break}if("object"===i(e[a])){e[a].length;break}if("string"==typeof e[a]&&e[a]){s=!0;break}if("number"==typeof e[a]){s=!0;break}}if(s)break}if(s){for(n=0,o=this.variables_real.length;n<o;n++){"citation-number"===(a=this.variables_real[n])&&"bibliography"===t.tmp.area||(t.tmp.cite_renders_content=!0),t.tmp.group_context.tip.variable_success=!0,t.tmp.can_substitute.value()&&"bibliography"===t.tmp.area&&"string"==typeof e[a]&&(t.tmp.name_node.top=t.output.current.value(),t.tmp.rendered_name.push(e[a]))}t.tmp.can_substitute.replace(!1,f.LITERAL)}else t.tmp.group_context.tip.variable_attempt=!0},this.execs.push(r);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var s=function(e){return function(r,s){var n=r;if(s&&["locator","locator-extra","first-reference-note-number","locator-date"].indexOf(e)>-1&&(n=s),"hereinafter"===e&&t.sys.getAbbreviation&&n.id){if(t.transform.abbrevs.default.hereinafter[n.id])return!0}else if(n[e]){if("number"==typeof n[e]||"string"==typeof n[e])return!0;if("object"===i(n[e]))for(var o in n[e])if(n[e][o])return!0}return!1}},n=0,o=this.variables.length;n<o;n+=1)this.tests.push(s(this.variables[n]))},f.Attributes["@page"]=function(t,e){for(var r=e.replace("sub verbo","sub-verbo"),i=function(e){return function(r,i){var s;return t.processNumber(!1,r,"page",r.type),s=t.tmp.shadow_numbers.page.label?"sub verbo"===t.tmp.shadow_numbers.page.label?"sub-verbo":t.tmp.shadow_numbers.page.label:"page",e===s}},s=0,n=(r=r.split(/\s+/)).length;s<n;s+=1)this.tests.push(i(r[s]))},f.Attributes["@number"]=function(t,e){for(var r=e.replace("sub verbo","sub-verbo"),i=function(e){return function(r,i){var s;return t.processNumber(!1,r,"number",r.type),s=t.tmp.shadow_numbers.number.label?"sub verbo"===t.tmp.shadow_numbers.number.label?"sub-verbo":t.tmp.shadow_numbers.number.label:"number",e===s}},s=0,n=(r=r.split(/\s+/)).length;s<n;s+=1)this.tests.push(i(r[s]))},f.Attributes["@jurisdiction"]=function(t,e){for(var r=e.split(/\s+/),i=0,s=r.length;i<s;i+=1)r[i]=r[i].split(":");var n=function(t){return function(e,r){if(!e.jurisdiction)return!1;for(var i=e.jurisdiction.split(":"),s=0,n=i.length;s<n;s+=1)i[s]=i[s].split(":");for(s=t.length;s>0;s+=-1){if(t.slice(0,s).join(":")!==i.slice(0,s).join(":"))return!1}return!0}};for(i=0,s=r.length;i<s;i+=1){var o=r[i].slice();this.tests.push(n(o))}},f.Attributes["@context"]=function(t,e){this.tests.push(function(r,i){return t.tmp.area.slice(0,e.length)===e})},f.Attributes["@has-year-only"]=function(t,e){for(var r=e.split(/\s+/),i=function(t){return function(e,r){var i=e[t];return!(!i||i.month||i.season)}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},f.Attributes["@has-to-month-or-season"]=function(t,e){for(var r=e.split(/\s+/),i=function(t){return function(e,r){var i=e[t];return!(!i||!i.month&&!i.season||i.day)}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},f.Attributes["@has-day"]=function(t,e){for(var r=e.split(/\s+/),i=function(t){return function(e,r){var i=e[t];return!(!i||!i.day)}},s=0,n=r.length;s<n;s+=1)this.tests.push(i(r[s]))},f.Attributes["@subjurisdictions"]=function(t,e){var r=parseInt(e,10);this.tests.push(function(t,e){var i=0;return t.jurisdiction&&(i=t.jurisdiction.split(":").length),i&&(i+=-1),i>=r})},f.Attributes["@is-plural"]=function(t,e){this.tests.push(function(r,i){var s=r[e];if(s&&s.length){for(var n=0,o=0,a=!1,l=0,u=s.length;l<u;l+=1)t.opt.development_extensions.spoof_institutional_affiliations&&(s[l].literal||s[l].isInstitution&&s[l].family&&!s[l].given)?(o+=1,a=!1):(n+=1,a=!0);if(n>1)return!0;if(o>1)return!0;if(o&&a)return!0}return!1})},f.Attributes["@locale"]=function(t,e){var r,i,s,n=t.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=e,this.tokentype===f.START){var o=e.split(/\s+/),a={},l=f.localeResolve(o[0],n);l.generic?a[l.generic]=l.best:a[l.best]=l.best;for(var u=1,c=o.length;u<c;u+=1){var p=f.localeResolve(o[u],n);p.generic?a[p.generic]=l.best:a[p.best]=l.best}t[t.build.area].opt.sort_locales.push(a)}t.opt.has_layout_locale=!0}else{s=e.split(/\s+/);var m=[];for(u=0,c=s.length;u<c;u+=1)i=s[u],r=f.localeResolve(i,n),2===s[u].length&&m.push(r.bare),t.localeConfigure(r,!0),s[u]=r;var h=s.slice();this.tests.push(function(t,e,r){return function(i,s){var n,o,a;for([],n=!1,a=i.language?i.language:e,o=f.localeResolve(a,e),u=0,c=t.length;u<c;u+=1)if(o.best===t[u].best){n=!0;break}return!n&&r.indexOf(o.bare)>-1&&(n=!0),n}}(h,n,m))}},f.Attributes["@authority-residue"]=function(t,e){var r;this.tests.push((r="true"===e,function(e,i){return e.authority&&e.authority[0]&&e.authority[0].family&&e.authority[0].family.split("|").length+t.tmp.authority_stop_last>0?r:!r}))},f.Attributes["@locale-internal"]=function(t,e){var r,i,s,n,o;for(s=e.split(/\s+/),this.locale_bares=[],n=0,o=s.length;n<o;n+=1)i=s[n],r=f.localeResolve(i,t.opt["default-locale"][0]),2===s[n].length&&this.locale_bares.push(r.bare),t.localeConfigure(r),s[n]=r;this.locale_default=t.opt["default-locale"][0],this.locale=s[0].best,this.locale_list=s.slice();this.tests.push(function(e){return function(r,s){var a;[],a=!1;var l=!1;if(r.language&&(i=r.language,(l=f.localeResolve(i,t.opt["default-locale"][0])).best===t.opt["default-locale"][0]&&(l=!1)),l){for(n=0,o=e.locale_list.length;n<o;n+=1)if(l.best===e.locale_list[n].best){t.opt.lang=e.locale,t.tmp.last_cite_locale=e.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=e.locale,a=!0;break}!a&&e.locale_bares.indexOf(l.bare)>-1&&(t.opt.lang=e.locale,t.tmp.last_cite_locale=e.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=e.locale,a=!0)}return a}}(this))},f.Attributes["@is-parallel"]=function(t,e){for(var r=e.split(" "),i=0,s=r.length;i<s;i+=1)"true"===r[i]?r[i]=!0:"false"===r[i]&&(r[i]=!1);this.strings.set_parallel_condition=r},f.Attributes["@jurisdiction-depth"]=function(t,e){this.strings.jurisdiction_depth=parseInt(e,10)},f.Attributes["@CitRequire"]=function(t,e){this.strings.CitRequire=e},f.Attributes["@reject"]=function(t,e){this.strings.reject=e},f.Attributes["@gender"]=function(t,e){this.gender=e},f.Attributes["@cslid"]=function(t,e){this.cslid=parseInt(e,10)},f.Attributes["@capitalize-if-first"]=function(t,e){this.strings.capitalize_if_first_override=e},f.Attributes["@label-capitalize-if-first"]=function(t,e){this.strings.label_capitalize_if_first_override=e},f.Attributes["@label-form"]=function(t,e){this.strings.label_form_override=e},f.Attributes["@part-separator"]=function(t,e){this.strings["part-separator"]=e},f.Attributes["@leading-noise-words"]=function(t,e){this["leading-noise-words"]=e},f.Attributes["@name-never-short"]=function(t,e){this["name-never-short"]=e},f.Attributes["@class"]=function(t,e){t.opt.class=e},f.Attributes["@version"]=function(t,e){t.opt.version=e},f.Attributes["@value"]=function(t,e){this.strings.value=e},f.Attributes["@name"]=function(t,e){this.strings.name=e},f.Attributes["@form"]=function(t,e){this.strings.form=e},f.Attributes["@date-parts"]=function(t,e){this.strings["date-parts"]=e},f.Attributes["@range-delimiter"]=function(t,e){this.strings["range-delimiter"]=e},f.Attributes["@macro"]=function(t,e){this.postponed_macro=e},f.Attributes["@term"]=function(t,e){this.strings.term="sub verbo"===e?"sub-verbo":e},f.Attributes["@xmlns"]=function(t,e){},f.Attributes["@lang"]=function(t,e){e&&(t.build.lang=e)},f.Attributes["@lingo"]=function(t,e){},f.Attributes["@macro-has-date"]=function(t,e){this["macro-has-date"]=!0},f.Attributes["@suffix"]=function(t,e){this.strings.suffix=e},f.Attributes["@prefix"]=function(t,e){this.strings.prefix=e},f.Attributes["@delimiter"]=function(t,e){this.strings.delimiter=e},f.Attributes["@match"]=function(t,e){this.match=e},f.Attributes["@names-min"]=function(t,e){var r=parseInt(e,10);t[t.build.area].opt.max_number_of_names<r&&(t[t.build.area].opt.max_number_of_names=r),this.strings["et-al-min"]=r},f.Attributes["@names-use-first"]=function(t,e){this.strings["et-al-use-first"]=parseInt(e,10)},f.Attributes["@names-use-last"]=function(t,e){this.strings["et-al-use-last"]="true"===e},f.Attributes["@sort"]=function(t,e){"descending"===e&&(this.strings.sort_direction=f.DESCENDING)},f.Attributes["@plural"]=function(t,e){"always"===e||"true"===e?this.strings.plural=1:"never"===e||"false"===e?this.strings.plural=0:"contextual"===e&&(this.strings.plural=!1)},f.Attributes["@has-publisher-and-publisher-place"]=function(t,e){this.strings["has-publisher-and-publisher-place"]=!0},f.Attributes["@publisher-delimiter-precedes-last"]=function(t,e){this.strings["publisher-delimiter-precedes-last"]=e},f.Attributes["@publisher-delimiter"]=function(t,e){this.strings["publisher-delimiter"]=e},f.Attributes["@publisher-and"]=function(t,e){this.strings["publisher-and"]=e},f.Attributes["@newdate"]=function(t,e){},f.Attributes["@givenname-disambiguation-rule"]=function(t,e){f.GIVENNAME_DISAMBIGUATION_RULES.indexOf(e)>-1&&(t.citation.opt["givenname-disambiguation-rule"]=e)},f.Attributes["@collapse"]=function(t,e){e&&(t[this.name].opt.collapse=e)},f.Attributes["@cite-group-delimiter"]=function(t,e){e&&(t[t.tmp.area].opt.cite_group_delimiter=e)},f.Attributes["@names-delimiter"]=function(t,e){t.setOpt(this,"names-delimiter",e)},f.Attributes["@name-form"]=function(t,e){t.setOpt(this,"name-form",e)},f.Attributes["@subgroup-delimiter"]=function(t,e){this.strings["subgroup-delimiter"]=e},f.Attributes["@subgroup-delimiter-precedes-last"]=function(t,e){this.strings["subgroup-delimiter-precedes-last"]=e},f.Attributes["@name-delimiter"]=function(t,e){t.setOpt(this,"name-delimiter",e)},f.Attributes["@et-al-min"]=function(t,e){var r=parseInt(e,10);t[t.build.area].opt.max_number_of_names<r&&(t[t.build.area].opt.max_number_of_names=r),t.setOpt(this,"et-al-min",r)},f.Attributes["@et-al-use-first"]=function(t,e){t.setOpt(this,"et-al-use-first",parseInt(e,10))},f.Attributes["@et-al-use-last"]=function(t,e){"true"===e?t.setOpt(this,"et-al-use-last",!0):t.setOpt(this,"et-al-use-last",!1)},f.Attributes["@et-al-subsequent-min"]=function(t,e){var r=parseInt(e,10);t[t.build.area].opt.max_number_of_names<r&&(t[t.build.area].opt.max_number_of_names=r),t.setOpt(this,"et-al-subsequent-min",r)},f.Attributes["@et-al-subsequent-use-first"]=function(t,e){t.setOpt(this,"et-al-subsequent-use-first",parseInt(e,10))},f.Attributes["@suppress-min"]=function(t,e){this.strings["suppress-min"]=parseInt(e,10)},f.Attributes["@suppress-max"]=function(t,e){this.strings["suppress-max"]=parseInt(e,10)},f.Attributes["@and"]=function(t,e){t.setOpt(this,"and",e)},f.Attributes["@delimiter-precedes-last"]=function(t,e){t.setOpt(this,"delimiter-precedes-last",e)},f.Attributes["@delimiter-precedes-et-al"]=function(t,e){t.setOpt(this,"delimiter-precedes-et-al",e)},f.Attributes["@initialize-with"]=function(t,e){t.setOpt(this,"initialize-with",e)},f.Attributes["@initialize"]=function(t,e){"false"===e&&t.setOpt(this,"initialize",!1)},f.Attributes["@name-as-reverse-order"]=function(t,e){this["name-as-reverse-order"]=e},f.Attributes["@name-as-sort-order"]=function(t,e){"style-options"===this.name?this["name-as-sort-order"]=e:t.setOpt(this,"name-as-sort-order",e)},f.Attributes["@sort-separator"]=function(t,e){t.setOpt(this,"sort-separator",e)},f.Attributes["@year-suffix-delimiter"]=function(t,e){t[this.name].opt["year-suffix-delimiter"]=e},f.Attributes["@after-collapse-delimiter"]=function(t,e){t[this.name].opt["after-collapse-delimiter"]=e},f.Attributes["@subsequent-author-substitute"]=function(t,e){t[this.name].opt["subsequent-author-substitute"]=e},f.Attributes["@subsequent-author-substitute-rule"]=function(t,e){t[this.name].opt["subsequent-author-substitute-rule"]=e},f.Attributes["@disambiguate-add-names"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-names"]=!0)},f.Attributes["@disambiguate-add-givenname"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-givenname"]=!0)},f.Attributes["@disambiguate-add-year-suffix"]=function(t,e){"true"===e&&"numeric"!==t.opt.xclass&&(t.opt["disambiguate-add-year-suffix"]=!0)},f.Attributes["@second-field-align"]=function(t,e){"flush"!==e&&"margin"!==e||(t[this.name].opt["second-field-align"]=e)},f.Attributes["@hanging-indent"]=function(t,e){"true"===e&&(t[this.name].opt.hangingindent=2)},f.Attributes["@line-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["line-spacing"]=parseFloat(e,10))},f.Attributes["@entry-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["entry-spacing"]=parseFloat(e,10))},f.Attributes["@near-note-distance"]=function(t,e){t[this.name].opt["near-note-distance"]=parseInt(e,10)},f.Attributes["@text-case"]=function(t,e){this.execs.push(function(t,r){"normal"===e?this.text_case_normal=!0:(this.strings["text-case"]=e,"title"===e&&(t.opt["default-locale"][0].slice(0,2),r.jurisdiction&&(this.strings["text-case"]="passthrough")))})},f.Attributes["@page-range-format"]=function(t,e){t.opt["page-range-format"]=e},f.Attributes["@year-range-format"]=function(t,e){t.opt["year-range-format"]=e},f.Attributes["@default-locale"]=function(t,e){if("style"===this.name){var r,i,s,n,o;if(o=e.match(/-x-(sort|translit|translat)-/g))for(s=0,i=o.length;s<i;s+=1)o[s]=o[s].replace(/^-x-/,"").replace(/-$/,"");for(n=[(r=e.split(/-x-(?:sort|translit|translat)-/))[0]],s=1,i=r.length;s<i;s+=1)n.push(o[s-1]),n.push(r[s]);for(i=(r=n.slice()).length,s=1;s<i;s+=2)t.opt["locale-"+r[s]].push(r[s+1].replace(/^\s*/g,"").replace(/\s*$/g,""));r.length?t.opt["default-locale"]=r.slice(0,1):t.opt["default-locale"]=["en"]}else"true"===e&&(this.default_locale=!0)},f.Attributes["@default-locale-sort"]=function(t,e){t.opt["default-locale-sort"]=e},f.Attributes["@demote-non-dropping-particle"]=function(t,e){t.opt["demote-non-dropping-particle"]=e},f.Attributes["@initialize-with-hyphen"]=function(t,e){"false"===e&&(t.opt["initialize-with-hyphen"]=!1)},f.Attributes["@institution-parts"]=function(t,e){this.strings["institution-parts"]=e},f.Attributes["@if-short"]=function(t,e){"true"===e&&(this.strings["if-short"]=!0)},f.Attributes["@substitute-use-first"]=function(t,e){this.strings["substitute-use-first"]=parseInt(e,10)},f.Attributes["@use-first"]=function(t,e){this.strings["use-first"]=parseInt(e,10)},f.Attributes["@stop-last"]=function(t,e){this.strings["stop-last"]=-1*parseInt(e,10)},f.Attributes["@use-last"]=function(t,e){this.strings["use-last"]=parseInt(e,10)},f.Attributes["@reverse-order"]=function(t,e){"true"===e&&(this.strings["reverse-order"]=!0)},f.Attributes["@display"]=function(t,e){2===t.bibliography.tokens.length&&(t.opt.using_display=!0),this.strings.cls=e},e.exports=f,f.Stack=function(t,e){this.mystack=[],(e||t)&&this.mystack.push(t),this.tip=this.mystack[0]},f.Stack.prototype.push=function(t,e){e||t?this.mystack.push(t):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},f.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},f.Stack.prototype.replace=function(t,e){if(0===this.mystack.length)throw"Internal CSL processor error: attempt to replace nonexistent stack item with "+t;this.mystack[this.mystack.length-1]=e||t?t:"",this.tip=this.mystack[this.mystack.length-1]},f.Stack.prototype.pop=function(){var t=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},t},f.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},f.Stack.prototype.length=function(){return this.mystack.length},e.exports=f,f.Parallel=function(t){this.state=t,this.sets=new f.Stack([]),this.try_cite=!0,this.use_parallels=!1,this.midVars=["section","volume","container-title","collection-number","issue","page-first","page","number"],this.ignoreVarsLawGeneral=["first-reference-note-number","locator","label","page-first","page","genre"],this.ignoreVarsLawProceduralHistory=["issued","first-reference-note-number","locator","label","page-first","page","genre","jurisdiction"],this.ignoreVarsOrders=["first-reference-note-number"],this.ignoreVarsOther=["first-reference-note-number","locator","label","section","page-first","page"]},f.Parallel.prototype.isMid=function(t){return this.midVars.indexOf(t)>-1},f.Parallel.prototype.StartCitation=function(t,e){this.parallel_conditional_blobs_list=[],this.use_parallels&&(this.sortedItems=t,this.sortedItemsPos=-1,this.sets.clear(),this.sets.push([]),this.in_series=!0,this.delim_counter=0,this.delim_pointers=[],this.out=e||this.state.output.queue,this.master_was_neutral_cite=!0)},f.Parallel.prototype.StartCite=function(t,e,r){var i,s,n,o,a,l;if(this.use_parallels){this.sets.value().length&&this.sets.value()[0].itemId==t.id&&this.ComposeSet(),this.sortedItemsPos+=1,e&&(i=e.position),this.try_cite=!0;for(var u=!1,c=0,p=f.PARALLEL_MATCH_VARS.length;c<p;c+=1)if(t[f.PARALLEL_MATCH_VARS[c]]){u=!0;break}var m=!0,h=this.sets.value().slice(-1)[0];if(h&&h.Item){var d=h.Item.jurisdiction?h.Item.jurisdiction.split(":")[0]:"",g=t.jurisdiction?t.jurisdiction.split(":")[0]:"";h.Item.title!==t.title?m=!1:d!==g?m=!1:h.Item.type!==t.type?m=!1:["article-journal","article-magazine"].indexOf(t.type)>-1&&(this.state.opt.development_extensions.handle_parallel_articles&&h.Item["container-title"]===t["container-title"]||(m=!1))}if(m&&u&&-1!==f.PARALLEL_TYPES.indexOf(t.type)||(this.try_cite=!0,this.in_series&&(this.in_series=!1)),this.cite={},this.cite.front=[],this.cite.mid=[],this.cite.back=[],this.cite.front_collapse={},this.cite.back_forceme=[],this.cite.position=i,this.cite.Item=t,this.cite.itemId=""+t.id,this.cite.prevItemID=""+r,this.target="front",["treaty"].indexOf(t.type)>-1)this.ignoreVars=this.ignoreVarsOrders;else if(["article-journal","article-magazine"].indexOf(t.type)>-1)this.ignoreVars=this.ignoreVarsOther;else if(e&&e.prefix){this.ignoreVars=this.ignoreVarsLawProceduralHistory,this.cite.useProceduralHistory=!0;var b=this.sets.value()[this.sets.value().length-1];if(b&&b.back)for(c=b.back.length-1;c>-1;c+=-1)b.back[c]&&b[b.back[c]]&&delete b[b.back[c]]}else this.ignoreVars=this.ignoreVarsLawGeneral;if(this.sortedItems&&this.sortedItemsPos>0&&this.sortedItemsPos<this.sortedItems.length){if(n=this.sortedItems[this.sortedItemsPos][1],o=""+this.sortedItems[this.sortedItemsPos-1][1].id,a=!1,this.state.registry.registry[o].parallel==n.id){for(s=this.sortedItemsPos-1;s>-1;s+=-1)if(this.sortedItems[s][1].id==t.id){a=this.sortedItems[s][1].locator;break}l=this.sortedItems[this.sortedItemsPos][1].locator,n.position=!a&&l?f.POSITION_IBID_WITH_LOCATOR:l===a?f.POSITION_IBID:f.POSITION_IBID_WITH_LOCATOR}}else{if(!this.state.registry.registry[t.id])return this.try_cite=!1,void(this.force_collapse=!1);this.state.registry.registry[t.id].parallel=!1}this.force_collapse=!1,this.state.registry.registry[t.id].parallel&&(this.force_collapse=!0)}},f.Parallel.prototype.StartVariable=function(t,e){if(this.use_parallels&&(this.try_cite||this.force_collapse)){if(this.variable="names"===t?t+":"+this.target:t,this.ignoreVars.indexOf(t)>-1)return;"container-title"===t&&0===this.sets.value().length&&(this.master_was_neutral_cite=!1),this.data={},this.data.value="",this.data.blobs=[];var r=this.isMid(t);if("authority"===e&&"names:front"===this.variable&&this.sets.value().length){var i=this.sets.value()[this.sets.value().length-1].Item,s=!1;this.cite.Item.authority&&this.cite.Item.authority.length&&(s=this.cite.Item.authority[0].literal);var n=!1;i.authority&&i.authority.length&&(n=i.authority[0].literal),s!==n&&(this.try_cite=!0,this.in_series=!1)}else"front"===this.target&&r?this.target="mid":"mid"===this.target&&!r&&this.cite.Item.title&&"names"!==t?this.target="back":"back"===this.target&&r&&(this.try_cite=!0,this.in_series=!1);"number"===t?this.cite.front.push(this.variable):f.PARALLEL_COLLAPSING_MID_VARSET.indexOf(t)>-1?["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1?this.cite.mid.push(this.variable):this.cite.front.push(this.variable):this.cite[this.target].push(this.variable)}},f.Parallel.prototype.AppendBlobPointer=function(t){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1){if(["volume","page","page-first","issue"].indexOf(this.variable)>-1)return;if("container-title"===this.variable&&this.cite.mid.length>1)return}this.variable&&(this.try_cite||this.force_collapse)&&t&&t.blobs&&(this.cite.useProceduralHistory&&"back"===this.target||this.data.blobs.push([t,t.blobs.length]))}}},f.Parallel.prototype.AppendToVariable=function(t,e){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.try_cite||this.force_collapse)this.target,this.data.value+="::"+t}},f.Parallel.prototype.CloseVariable=function(){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if((this.try_cite||this.force_collapse)&&(this.cite[this.variable]=this.data,this.sets.value().length>0)){var t=this.sets.value()[this.sets.value().length-1];"front"===this.target&&"issued"===this.variable&&this.data.value&&this.master_was_neutral_cite&&(this.target="mid"),"front"===this.target?!t[this.variable]&&!this.data.value||t[this.variable]&&this.data.value===t[this.variable].value||"issued"!==this.variable&&(this.in_series=!1):"mid"===this.target?f.PARALLEL_COLLAPSING_MID_VARSET.indexOf(this.variable)>-1&&(t[this.variable]&&t[this.variable].value===this.data.value?this.cite.front_collapse[this.variable]=!0:this.cite.front_collapse[this.variable]=!1):"back"===this.target&&t[this.variable]&&this.data.value!==t[this.variable].value&&-1===this.sets.value().slice(-1)[0].back_forceme.indexOf(this.variable)&&(this.in_series=!1)}this.variable=!1}},f.Parallel.prototype.CloseCite=function(){var t,e,r,i,s,n;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(r=!1,this.cite.front_collapse["container-title"]||(r=!0),!1===this.cite.front_collapse.volume&&(r=!0),!1===this.cite.front_collapse["collection-number"]&&(r=!0),!1===this.cite.front_collapse.section&&(r=!0),r){this.cite.use_journal_info=!0,(n=this.cite.front.indexOf("section"))>-1&&(this.cite.front=this.cite.front.slice(0,n).concat(this.cite.front.slice(n+1))),(i=this.cite.front.indexOf("volume"))>-1&&(this.cite.front=this.cite.front.slice(0,i).concat(this.cite.front.slice(i+1))),(s=this.cite.front.indexOf("container-title"))>-1&&(this.cite.front=this.cite.front.slice(0,s).concat(this.cite.front.slice(s+1)));var o=this.cite.front.indexOf("collection-number");o>-1&&(this.cite.front=this.cite.front.slice(0,o).concat(this.cite.front.slice(o+1)))}if(this.in_series||this.force_collapse||this.ComposeSet(!0),0===this.sets.value().length){var a=!1;for(t=0,e=this.cite.back.length;t<e;t+=1)if("issued"===this.cite.back[t]&&this.cite.issued&&this.cite.issued.value){a=!0;break}a||this.cite.back_forceme.push("issued")}else{var l=this.cite.front.indexOf("issued");if((-1===l||this.master_was_neutral_cite)&&(this.cite.back_forceme=this.sets.value().slice(-1)[0].back_forceme),l>-1)this.sets.value()[this.sets.value().length-1].issued||(this.cite.front=this.cite.front.slice(0,l).concat(this.cite.front.slice(l+1)));this.master_was_neutral_cite&&this.cite.mid.indexOf("names:mid")>-1&&this.cite.front.push("names:mid")}this.sets.value().push(this.cite)}},f.Parallel.prototype.ComposeSet=function(t){var e,r,i;if(this.use_parallels&&(this.force_collapse||this.try_cite)){var s=this.sets.value().length;if(1===this.sets.value().length)this.in_series||(this.sets.value().pop(),this.delim_counter+=1);else{for(i=this.sets.value().length,r=0;r<i;r+=1)e=this.sets.value()[r],0===r?this.delim_counter+=1:(!e.Item.title&&e.use_journal_info?this.delim_pointers.push(!1):this.delim_pointers.push(this.delim_counter),this.delim_counter+=1),f.POSITION_FIRST===e.position&&(0===r?(this.state.registry.registry[e.itemId].master=!0,this.state.registry.registry[e.itemId].siblings=[],this.state.registry.registry[e.itemId].parallel=!1):e.prevItemID&&(this.state.registry.registry[e.prevItemID].parallel?this.state.registry.registry[e.itemId].parallel=this.state.registry.registry[e.prevItemID].parallel:this.state.registry.registry[e.itemId].parallel=e.prevItemID,this.state.registry.registry[e.itemId].siblings=this.state.registry.registry[e.prevItemID].siblings,this.state.registry.registry[e.itemId].siblings||(this.state.registry.registry[e.itemId].siblings=[],f.debug("WARNING: adding missing siblings array to registry object")),this.state.registry.registry[e.itemId].siblings.push(e.itemId)));this.sets.push([])}s<2?this.purgeGroupsIfParallel(!1):this.purgeGroupsIfParallel(!0),this.in_series=!0}},f.Parallel.prototype.PruneOutputQueue=function(){var t,e,r,i,s,n;if(this.use_parallels)for(t=this.sets.mystack.length,e=0;e<t;e+=1)if((r=this.sets.mystack[e]).length>1)for(s=r.length,i=0;i<s;i+=1)n=r[i],0===i?this.purgeVariableBlobs(n,n.back):i===r.length-1?this.purgeVariableBlobs(n,n.front.concat(n.back_forceme)):this.purgeVariableBlobs(n,n.front.concat(n.back))},f.Parallel.prototype.purgeVariableBlobs=function(t,e){var r,i,s,n,o,a;if(this.use_parallels){for(void 0===(a=this.state.output.current.value()).length&&(a=a.blobs),i=0,r=this.delim_pointers.length;i<r;i+=1)!1!==(o=this.delim_pointers[i])&&(a[o].parallel_delimiter=", ");for(i=r=e.length-1;i>-1;i+=-1)if(t[s=e[i]])for(o=t[s].blobs.length-1;o>-1;o+=-1)(n=t[s].blobs[o])[0].blobs=n[0].blobs.slice(0,n[1]).concat(n[0].blobs.slice(n[1]+1)),this.state.tmp.has_purged_parallel=!0,n[0]&&n[0].strings&&"string"==typeof n[0].strings.oops&&n[0].parent&&n[0].parent&&(n[0].parent.parent.strings.delimiter=n[0].strings.oops)}},f.Parallel.prototype.purgeGroupsIfParallel=function(t){for(var e=this.parallel_conditional_blobs_list.length-1;e>-1;e+=-1){for(var r=this.parallel_conditional_blobs_list[e],i=!0,s=0,n=r.conditions.length;s<n;s+=1)if(!r.conditions[s]!=!!t&&("master"!==r.conditions[s]||this.state.registry.registry[r.id].master)&&("servant"!==r.conditions[s]||this.state.registry.registry[r.id].parallel)){i=!1;break}if(i){for(var o=[];r.blobs.length>r.pos;)o.push(r.blobs.pop());for(o.length&&o.pop();o.length;)r.blobs.push(o.pop())}this.parallel_conditional_blobs_list.pop()}},e.exports=f,f.Util={},f.Util.Match=function(){this.any=function(t,e,r){return function(t,e){for(var i=0,s=r.length;i<s;i+=1){if(r[i](t,e))return!0}return!1}},this.none=function(t,e,r){return function(t,e){for(var i=0,s=r.length;i<s;i+=1){if(r[i](t,e))return!1}return!0}},this.all=function(t,e,r){return function(t,e){for(var i=0,s=r.length;i<s;i+=1){if(!r[i](t,e))return!1}return!0}},this[void 0]=this.all,this.nand=function(t,e,r){return function(t,e){for(var i=0,s=r.length;i<s;i+=1){if(!r[i](t,e))return!0}return!1}}},e.exports=f,f.Transform=function(t){function e(e,r,i){var s="";return t.sys.getHumanForm&&("country"===e?s=(s=t.sys.getHumanForm(r.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===e&&(s=t.sys.getHumanForm(r.toLowerCase(),!1,!0),s=i?"":s.split("|").slice(1).join(", "))),s}function r(t,r,i,s,n,o,a,l){var u="",c=f.FIELD_CATEGORY_REMAP[o];if(!c)return n;var p=o,m=n;t.sys.normalizeAbbrevsKey&&(m=t.sys.normalizeAbbrevsKey(o,n));var h=!1;if("jurisdiction"===p&&m&&(h=-1===m.indexOf(":")),t.sys.getAbbreviation){if(["jurisdiction","country","language-name","language-name-original"].indexOf(p)>-1)var d="default";else if(i.jurisdiction)d=i.jurisdiction;else d="default";var g=t.transform.loadAbbreviation(d,c,m,i.type);if(t.transform.abbrevs[g][c]&&m){var b=t.transform.abbrevs[g][c][m];u="short"===r.strings.form&&b?h?"":b:e(p,m,h)}}return u||t.opt.development_extensions.CitRequire_explicit_legal_case_title_short&&"legal_case"===i.type||!s||!i[s]||!a||(u=i[s]),u||t.sys.getAbbreviation||!t.sys.getHumanForm||(u=e(p,m,h)),u||h||t.sys.getHumanForm&&"jurisdiction"===p||(u=n),u}function i(e,r){var i,s=t.opt["default-locale"][0].slice(0,2);if(i=t.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),e.language){var n=(""+e.language).match(i);s=n?n[1]:"tlh"}return e.multi&&e.multi&&e.multi.main&&e.multi.main[r]&&(s=e.multi.main[r]),t.opt.development_extensions.strict_text_case_locales&&!t.opt.development_extensions.normalize_lang_keys_to_lowercase||(s=s.toLowerCase()),s}function s(e,r,s,n,o){var a,l,u,c=o,p=!1;if(!e[r])return{name:"",usedOrig:o,token:f.Util.cloneToken(this)};h={name:"",usedOrig:o,locale:i(e,r)},u=t.opt[s];var m=!1;if("locale-orig"===s)h=o?{name:"",usedOrig:o}:{name:e[r],usedOrig:!1,locale:i(e,r)},m=!0,p=!0;else if(n&&(void 0===u||0===u.length)){var h={name:e[r],usedOrig:!0,locale:i(e,r)};m=!0,p=!0}if(!m){for(var d=0,g=u.length;d<g;d+=1){if(l=(a=u[d]).split(/[\-_]/)[0],a&&e.multi&&e.multi._keys[r]&&e.multi._keys[r][a]){h.name=e.multi._keys[r][a],h.locale=a;break}if(l&&e.multi&&e.multi._keys[r]&&e.multi._keys[r][l]){h.name=e.multi._keys[r][l],h.locale=l;break}}!h.name&&n&&(h={name:e[r],usedOrig:!0,locale:i(e,r)},p=!0)}if(h.token=f.Util.cloneToken(this),["title","container-title"].indexOf(r)>-1&&!(c||h.token.strings["text-case"]&&"sentence"!==h.token.strings["text-case"]&&"normal"!==h.token.strings["text-case"])){var b=!p&&h.locale,_=r.slice(0,-5),v="sentence"===h.token.strings["text-case"];h.name=f.titlecaseSentenceOrNormal(t,e,_,b,v),delete h.token.strings["text-case"]}return h}function n(e,i,s,n){var o=e.variables[0];if(t.publisherOutput&&s){if(-1===["publisher","publisher-place"].indexOf(o))return!1;t.publisherOutput[o+"-token"]=e,t.publisherOutput.varlist.push(o);var a=s.split(/;\s*/);a.length===t.publisherOutput[o+"-list"].length&&(t.publisherOutput[o+"-list"]=a);for(var l=0,u=a.length;l<u;l+=1)a[l]=r(t,e,i,!1,a[l],n,!0);return t.tmp[o+"-token"]=e,!0}return!1}function o(e){var r=e.match(/^!([-,_a-z]+)>>>/);if(r){var i=r[1].split(",");e=e.slice(r[0].length);for(var s=0,n=i.length;s<n;s+=1)-1===t.tmp.done_vars.indexOf(i[s])&&t.tmp.done_vars.push(i[s])}return e}this.abbrevs={},this.abbrevs.default=new t.sys.AbbreviationSegments,this.getTextSubField=s,this.loadAbbreviation=function(e,r,i,s){return e||(e="default"),i?(t.sys.getAbbreviation&&((e=t.sys.getAbbreviation(t.opt.styleID,t.transform.abbrevs,e,r,i,s,!0))||(e="default")),e):(t.transform.abbrevs[e]||(t.transform.abbrevs[e]=new t.sys.AbbreviationSegments),t.transform.abbrevs[e][r]||(t.transform.abbrevs[e][r]={}),e)},this.getOutputFunction=function(e,i,a,l,u){var c,p=f.LangPrefsMap[e[0]];return c=!!p&&t.opt["cite-lang-prefs"][p],function(t,a,u,m){var h,d,g,b,_,v;if(!e[0]||!a[e[0]]&&!a[l])return null;var y={primary:!1,secondary:!1,tertiary:!1};if("_sort"===t.tmp.area.slice(-5))y.primary="locale-sort";else if(c)for(var x=["primary","secondary","tertiary"],w=0,A=x.length;w<A&&!(c.length-1<w);w+=1)c[w]&&(y[x[w]]="locale-"+c[w]);else y.primary="locale-orig";if("title-short"!==e[0]&&("bibliography"===t.tmp.area||"citation"===t.tmp.area&&"note"===t.opt.xclass&&u&&!u.position)||(y.secondary=!1,y.tertiary=!1),t.tmp["publisher-list"])return"publisher"===e[0]?t.tmp["publisher-token"]=this:"publisher-place"===e[0]&&(t.tmp["publisher-place-token"]=this),null;var E=s.call(this,a,e[0],y.primary,!0);h=E.name,d=E.locale;var j,O=E.token,S=E.usedOrig;if(n(this,a,h,i))return null;if(g=!1,_=!1,y.secondary){g=(E=s.call(this,a,e[0],y.secondary,!1,E.usedOrig)).name,b=E.locale;var k=E.token}if(y.tertiary){_=(E=s.call(this,a,e[0],y.tertiary,!1,E.usedOrig)).name,v=E.locale;var T=E.token}if(i&&((h=r(t,O,a,l,h,i,!0))&&(h=o(h)),g&&(g=r(t,k,a,!1,g,i,!0)),_&&(_=r(t,T,a,!1,_,i,!0))),"locale-translit"===y.primary&&(j=t.opt.citeAffixes[p][y.primary].prefix),"<i>"===j&&"title"===e[0]&&!S){var I=!1;for(w=0,A=O.decorations.length;w<A;w+=1)"@font-style"===O.decorations[w][0]&&"italic"===O.decorations[w][1]&&(I=!0);I||O.decorations.push(["@font-style","italic"])}if("en"!==d&&"title"===O.strings["text-case"]&&(O.strings["text-case"]="passthrough"),"title"===e[0]&&(h=f.demoteNoiseWords(t,h,this["leading-noise-words"])),g||_){if(t.output.openLevel("empty"),O.strings.suffix=O.strings.suffix.replace(/[ .,]+$/,""),t.output.append(h,O),g){for(k.strings.prefix=t.opt.citeAffixes[p][y.secondary].prefix,k.strings.suffix=t.opt.citeAffixes[p][y.secondary].suffix,k.strings.prefix||(k.strings.prefix=" "),w=k.decorations.length-1;w>-1;w+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(k.decorations[w].join("/"))>-1&&(k.decorations=k.decorations.slice(0,w).concat(k.decorations.slice(w+1)));"en"!==b&&"title"===k.strings["text-case"]&&(k.strings["text-case"]="passthrough");var N=new f.Token;N.decorations.push(["@font-style","normal"]),N.decorations.push(["@font-weight","normal"]),t.output.openLevel(N),t.output.append(g,k),t.output.closeLevel();var C=t.output.current.value(),D=t.output.current.value().blobs.length-1;t.parallel.use_parallels&&(t.parallel.cite.front.push(e[0]+":secondary"),t.parallel.cite[e[0]+":secondary"]={blobs:[[C,D]]})}if(_){for(T.strings.prefix=t.opt.citeAffixes[p][y.tertiary].prefix,T.strings.suffix=t.opt.citeAffixes[p][y.tertiary].suffix,T.strings.prefix||(T.strings.prefix=" "),w=T.decorations.length-1;w>-1;w+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(T.decorations[w].join("/"))>-1&&(T.decorations=T.decorations.slice(0,w).concat(T.decorations.slice(w+1)));"en"!==v&&"title"===T.strings["text-case"]&&(T.strings["text-case"]="passthrough");var P=new f.Token;P.decorations.push(["@font-style","normal"]),P.decorations.push(["@font-weight","normal"]),t.output.openLevel(P),t.output.append(_,T),t.output.closeLevel(),C=t.output.current.value(),D=t.output.current.value().blobs.length-1,t.parallel.use_parallels&&(t.parallel.cite.front.push(e[0]+":tertiary"),t.parallel.cite[e[0]+":tertiary"]={blobs:[[C,D]]})}t.output.closeLevel()}else t.output.append(h,O);return null}},this.quashCheck=o},e.exports=f,f.Token=function(t,e){this.name=t,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=e,this.evaluator=!1,this.tests=[],this.rawtests=[],this.succeed=!1,this.fail=!1,this.next=!1},f.Util.cloneToken=function(t){var e,r,i;if("string"==typeof t)return t;for(var s in e=new f.Token(t.name,t.tokentype),t.strings)t.strings.hasOwnProperty(s)&&(e.strings[s]=t.strings[s]);if(t.decorations)for(e.decorations=[],r=0,i=t.decorations.length;r<i;r+=1)e.decorations.push(t.decorations[r].slice());return t.variables&&(e.variables=t.variables.slice()),t.execs&&(e.execs=t.execs.slice(),e.tests=t.tests.slice(),e.rawtests=t.tests.slice()),e},e.exports=f,f.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},e.exports=f,f.Blob=function(t,e,r){var i,s;if(this.levelname=r,e){for(var n in this.strings={prefix:"",suffix:""},e.strings)e.strings.hasOwnProperty(n)&&(this.strings[n]=e.strings[n]);for(this.decorations=[],i=void 0===e.decorations?0:e.decorations.length,s=0;s<i;s+=1)this.decorations.push(e.decorations[s].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof t?t:t?[t]:[],this.alldecor=[this.decorations]},f.Blob.prototype.push=function(t){if("string"==typeof this.blobs)throw"Attempt to push blob onto string object";!1!==t&&(t.alldecor=t.alldecor.concat(this.alldecor),this.blobs.push(t))},e.exports=f,f.NumericBlob=function(t,e,r,i){this.id=i,this.alldecor=[],this.num=e,this.particle=t,this.blobs=e.toString(),this.status=f.START,this.strings={},r?(this.gender=r.gender,this.decorations=r.decorations,this.strings.prefix=r.strings.prefix,this.strings.suffix=r.strings.suffix,this.strings["text-case"]=r.strings["text-case"],this.successor_prefix=r.successor_prefix,this.range_prefix=r.range_prefix,this.splice_prefix=r.splice_prefix,this.formatter=r.formatter,this.formatter||(this.formatter=new f.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))):(this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new f.Output.DefaultFormatter)},f.NumericBlob.prototype.setFormatter=function(t){this.formatter=t,this.type=this.formatter.format(1)},f.Output.DefaultFormatter=function(){},f.Output.DefaultFormatter.prototype.format=function(t){return t.toString()},f.NumericBlob.prototype.checkNext=function(t,e){e?(this.status=f.START,"object"===i(t)&&(t.num===this.num+1?t.status=f.SUCCESSOR:t.status=f.SEEN)):t&&t.num&&this.type===t.type&&t.num===this.num+1?this.status===f.START||this.status===f.SEEN?t.status=f.SUCCESSOR:this.status!==f.SUCCESSOR&&this.status!==f.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(t.status=f.SUCCESSOR_OF_SUCCESSOR,this.status=f.SUPPRESS):t.status=f.SUCCESSOR):(this.status===f.SUCCESSOR_OF_SUCCESSOR&&(this.status=f.END),"object"===i(t)&&(t.status=f.SEEN))},f.NumericBlob.prototype.checkLast=function(t){return(this.status===f.SEEN||t.num!==this.num-1&&this.status===f.SUCCESSOR)&&(this.status=f.SUCCESSOR,!0)},e.exports=f,f.Util.fixDateNode=function(t,e,r){var i,s,n,o,a,l,u,c,p,m,f,h,d,g=this.cslXml.getAttributeValue(r,"lingo"),b=this.cslXml.getAttributeValue(r,"default-locale");if(this.build.date_key=!0,i=this.cslXml.getAttributeValue(r,"form"),g=b?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(r,"lingo"),!this.getDate(i,b))return t;var _=this.cslXml.getAttributeValue(r,"date-parts");for(var v in s=this.cslXml.getAttributeValue(r,"variable"),c=this.cslXml.getAttributeValue(r,"prefix"),p=this.cslXml.getAttributeValue(r,"suffix"),h=this.cslXml.getAttributeValue(r,"display"),d=this.cslXml.getAttributeValue(r,"cslid"),n=this.cslXml.nodeCopy(this.getDate(i,b)),this.cslXml.setAttribute(n,"lingo",this.opt.lang),this.cslXml.setAttribute(n,"form",i),this.cslXml.setAttribute(n,"date-parts",_),this.cslXml.setAttribute(n,"cslid",d),this.cslXml.setAttribute(n,"variable",s),this.cslXml.setAttribute(n,"default-locale",b),c&&this.cslXml.setAttribute(n,"prefix",c),p&&this.cslXml.setAttribute(n,"suffix",p),h&&this.cslXml.setAttribute(n,"display",h),m=this.cslXml.children(n))o=m[v],"date-part"===this.cslXml.nodename(o)&&(a=this.cslXml.getAttributeValue(o,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",a,"@default-locale","true"));for(var v in m=this.cslXml.children(r))if(o=m[v],"date-part"===this.cslXml.nodename(o))for(l in a=this.cslXml.getAttributeValue(o,"name"),f=this.cslXml.attributes(o))"@name"!==l&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(u=f[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",a,l,u)));if("year"===this.cslXml.getAttributeValue(r,"date-parts"))this.cslXml.deleteNodeByNameAttribute(n,"month"),this.cslXml.deleteNodeByNameAttribute(n,"day");else if("year-month"===this.cslXml.getAttributeValue(r,"date-parts"))this.cslXml.deleteNodeByNameAttribute(n,"day");else if("month-day"===this.cslXml.getAttributeValue(r,"date-parts")){for(var y=this.cslXml.children(n),x=1,w=this.cslXml.numberofnodes(y);x<w;x++)if("year"===this.cslXml.getAttributeValue(y[x],"name")){this.cslXml.setAttribute(y[x-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(n,"year")}return this.cslXml.insertChildNodeAfter(t,r,e,n)},e.exports=f,f.dateMacroAsSortKey=function(t,e){f.dateAsSortKey.call(this,t,e,!0)},f.dateAsSortKey=function(t,e,r){var i,s,n,o,a,l,u,c=this.variables[0],p="empty";for(r&&t.tmp.extension&&(p="macro-with-date"),void 0===(i=e[c])&&((i={"date-parts":[[0]]}).year||(t.tmp.empty_date=!0)),void 0===this.dateparts&&(this.dateparts=["year","month","day"]),i.raw?i=t.fun.dateparser.parseDateToArray(i.raw):i["date-parts"]&&(i=t.dateParseArray(i)),void 0===i&&(i={}),l=0,u=f.DATE_PARTS_INTERNAL.length;l<u;l+=1)if(n=0,"_end"===(o=s=f.DATE_PARTS_INTERNAL[l]).slice(-4)&&(o=o.slice(0,-4)),i[s]&&this.dateparts.indexOf(o)>-1&&(n=i[s]),"year"===s.slice(0,4)){var m="Y";"-"===(a=f.Util.Dates[o].numeric(t,n))[0]&&(m="X",a=a.slice(1),a=9999-parseInt(a,10)),t.output.append(f.Util.Dates[s.slice(0,4)].numeric(t,m+a),p)}else(n=f.Util.Dates[o]["numeric-leading-zeros"](t,n))||(n="00"),t.output.append(n,p)},f.Engine.prototype.dateParseArray=function(t){var e,r,s,n;for(r in e={},t)if("date-parts"===r){(s=t["date-parts"]).length>1&&s[0].length!==s[1].length&&f.error("CSL data error: element mismatch in date range input."),n=["","_end"];for(var o=0,a=s.length;o<a;o+=1)for(var l=0,u=f.DATE_PARTS.length;l<u;l+=1)isNaN(parseInt(s[o][l],10))?e[f.DATE_PARTS[l]+n[o]]=void 0:e[f.DATE_PARTS[l]+n[o]]=parseInt(s[o][l],10)}else t.hasOwnProperty(r)&&("literal"===r&&"object"===i(t.literal)&&"string"==typeof t.literal.part?(f.debug("Warning: fixing up weird literal date value"),e.literal=t.literal.part):e[r]=t[r]);return e},e.exports=f,f.Util.Names={},f.Util.Names.compareNamesets=f.NameOutput.prototype._compareNamesets,f.Util.Names.unInitialize=function(t,e){var r,i,s,n,o;if(!e)return"";for(s=e.split(/(?:\-|\s+)/),n=e.match(/(\-|\s+)/g),o="",r=0,i=s.length;r<i;r+=1)o+=s[r],r<i-1&&(o+=n[r]);return o},f.Util.Names.initializeWith=function(t,e,r,i){var s,n,o,a,l,u;if(!e)return"";if(r||(r=""),["Lord","Lady"].indexOf(e)>-1||!e.match(f.STARTSWITH_ROMANESQUE_REGEXP)&&!r.match("%s"))return e;var c=e;if(!1===t.opt["initialize-with-hyphen"]&&(c=c.replace(/\-/g," ")),l=(c=(c=c.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"–$1")).match(/[\-\s]+/g),0===(u=c.split(/[\-\s]+/)).length)c=l;else for(c=[u[0]],s=1,n=u.length;s<n;s+=1)c.push(l[s-1]),c.push(u[s]);for(s=(u=c).length-1;s>-1;s+=-1)if(u[s]&&u[s].slice(0,-1).indexOf(".")>-1){var p=u.slice(s+1),m=u[s].slice(0,-1).split(".");for(u=u.slice(0,s),o=0,a=m.length;o<a;o+=1)u.push(m[o]+"."),o<m.length-1&&u.push(" ");u=u.concat(p)}return(i?f.Util.Names.doNormalize(t,u,r):f.Util.Names.doInitialize(t,u,r)).replace(/\u2013([a-z])/g,"-$1")},f.Util.Names.doNormalize=function(t,e,r,i){var s,n;r=r||"";var o=[];for(s=0,n=e.length;s<n;s+=1)e[s].length>1&&"."===e[s].slice(-1)?(e[s]=e[s].slice(0,-1),o.push(!0)):1===e[s].length&&e[s].toUpperCase()===e[s]?o.push(!0):o.push(!1);for(s=0,n=e.length;s<n;s+=2)if(o[s]){if(s<e.length-2)e[s+1]="",(r.match(/^[\u0009\u000a\u000b\u000c\u000d\u0020\u00a0]+$/)||(!r||r.slice(-1)&&!r.slice(-1).match(/[\u0009\u000a\u000b\u000c\u000d\u0020\u00a0]/))&&e[s].length&&e[s].match(f.ALL_ROMANESQUE_REGEXP)&&(e[s].length>1||e[s+2].length>1))&&(e[s+1]=" "),e[s+2].length>1?e[s]=e[s]+r.replace(/\ufeff$/,""):e[s]=e[s]+r;s===e.length-1&&(e[s]=e[s]+r)}return e.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},f.Util.Names.doInitialize=function(t,e,r,i){var s,n,o,a,l,u,c;for(s=0,n=e.length;s<n;s+=2)if(c=e[s])if(!(o=c.match(f.NAME_INITIAL_REGEXP))&&!c.match(f.STARTSWITH_ROMANESQUE_REGEXP)&&c.length>1&&r.match("%s")&&(o=c.match(/(.)(.*)/)),o&&o[1]===o[1].toUpperCase()){var p="";if(o[2]){var m="";for(a=0,l=(u=o[2].split("")).length;a<l;a+=1){var h=u[a];if(h!==h.toUpperCase())break;m+=h}m.length<o[2].length&&(p=m.toLocaleLowerCase())}e[s]=o[1].toLocaleUpperCase()+p,s<n-1?r.match("%s")?e[s]=r.replace("%s",e[s]):e[s+1].indexOf("-")>-1?e[s+1]=r+e[s+1]:e[s+1]=r:r.match("%s")?e[s]=r.replace("%s",e[s]):e.push(r)}else c.match(f.ROMANESQUE_REGEXP)&&(e[s]=" "+c);var d=e.join("");return d=d.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},f.Util.Names.getRawName=function(t){var e=[];return t.given&&e.push(t.given),t.family&&e.push(t.family),e.join(" ")},e.exports=f,f.Util.Dates={},f.Util.Dates.year={},f.Util.Dates.year.long=function(t,e){return e||(e="boolean"==typeof e?"":0),e.toString()},f.Util.Dates.year.imperial=function(t,e,r,i){var s="";e||(e="boolean"==typeof e?"":0),r=r?"_end":"";var n=t.tmp.date_object["month"+r];for(n=n?""+n:"1";n.length<2;)n="0"+n;var o=t.tmp.date_object["day"+r];for(o=o?""+o:"1";o.length<2;)o="0"+o;var a,l,u=parseInt(e+n+o,10);if(u>=18680908&&u<19120730?(a="明治",l=1867):u>=19120730&&u<19261225?(a="大正",l=1911):u>=19261225&&u<19890108?(a="昭和",l=1925):u>=19890108&&(a="平成",l=1988),a&&l){var c=a;t.sys.normalizeAbbrevsKey&&(c=t.sys.normalizeAbbrevsKey("number",a)),t.transform.abbrevs.default.number[c]||t.transform.loadAbbreviation("default","number",c),t.transform.abbrevs.default.number[c]&&(a=t.transform.abbrevs.default.number[c]),s=a+(e-l)}return s},f.Util.Dates.year.short=function(t,e){if((e=e.toString())&&4===e.length)return e.substr(2)},f.Util.Dates.year.numeric=function(t,e){var r,i;for((i=(e=""+e).match(/([0-9]*)$/))?(r=e.slice(0,-1*i[1].length),e=i[1]):(r=e,e="");e.length<4;)e="0"+e;return r+e},f.Util.Dates.normalizeMonth=function(t,e){var r;if(t||(t=0),(t=""+t).match(/^[0-9]+$/)||(t=0),t=parseInt(t,10),e){var i={stub:"month-",num:t};i.num<1||i.num>20?i.num=0:i.num>16?(i.stub="season-",i.num=i.num-16):i.num>12&&(i.stub="season-",i.num=i.num-12),r=i}else(t<1||t>12)&&(t=0),r=t;return r},f.Util.Dates.month={},f.Util.Dates.month.numeric=function(t,e){return(e=f.Util.Dates.normalizeMonth(e))||(e=""),e},f.Util.Dates.month["numeric-leading-zeros"]=function(t,e){if(e=f.Util.Dates.normalizeMonth(e))for(e=""+e;e.length<2;)e="0"+e;else e="";return e},f.Util.Dates.month.long=function(t,e,r,i){var s=f.Util.Dates.normalizeMonth(e,!0);if(e=s.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(s.stub+e,"long",0,0,!1,i)}else e="";return e},f.Util.Dates.month.short=function(t,e,r,i){var s=f.Util.Dates.normalizeMonth(e,!0);if(e=s.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(s.stub+e,"short",0,0,!1,i)}else e="";return e},f.Util.Dates.day={},f.Util.Dates.day.numeric=function(t,e){return e.toString()},f.Util.Dates.day.long=f.Util.Dates.day.numeric,f.Util.Dates.day["numeric-leading-zeros"]=function(t,e){for(e||(e=0),e=e.toString();e.length<2;)e="0"+e;return e.toString()},f.Util.Dates.day.ordinal=function(t,e,r){return t.fun.ordinalizer.format(e,r)},e.exports=f,f.Util.Sort={},f.Util.Sort.strip_prepositions=function(t){var e;return"string"==typeof t&&(e=t.toLocaleLowerCase(),e=t.match(/^((a|an|the)\s+)/)),e&&(t=t.substr(e[1].length)),t},e.exports=f,f.Util.substituteStart=function(t,e){var r,i,s,n,o,a,l;n=function(t,e){for(var r=0,i=this.decorations.length;r<i;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){t.tmp.strip_periods+=1;break}},this.execs.push(n),this.decorations&&(t.opt.development_extensions.csl_reverse_lookup_support||t.sys.csl_reverse_lookup_support)&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),l=["number","date","names"],("text"===this.name&&!this.postponed_macro||l.indexOf(this.name)>-1)&&(r=function(t,e,r){"author"===t.tmp.element_trace.value()||"names"===this.name?r&&r["author-only"]?t.tmp.element_trace.push("do-not-suppress-me"):r&&r["suppress-author"]:r&&r["author-only"]?t.tmp.element_trace.push("suppress-me"):r&&r["suppress-author"]&&t.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(r)),i=this.strings.cls,this.strings.cls=!1,0===t.build.render_nesting_level&&("bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]?((s=new f.Token("group",f.START)).decorations=[["@display","left-margin"]],n=function(t,e){t.tmp.render_seen||(s.strings.first_blob=e.id,t.output.startTag("bib_first",s))},s.execs.push(n),e.push(s)):f.DISPLAY_CLASSES.indexOf(i)>-1&&((s=new f.Token("group",f.START)).decorations=[["@display",i]],n=function(t,e){s.strings.first_blob=e.id,t.output.startTag("bib_first",s)},s.execs.push(n),e.push(s)),t.build.cls=i),t.build.render_nesting_level+=1,1===t.build.substitute_level.value()&&(o=new f.Token("choose",f.START),f.Node.choose.build.call(o,t,e),n=function(e,r){return!!t.tmp.can_substitute.value()},(a=new f.Token("if",f.START)).tests.push(n),a.test=t.fun.match.any(this,t,a.tests),e.push(a)),t.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(n=function(t,e,r){if(!t.tmp.just_looking&&!t.tmp.suppress_decorations){var i=new f.Token("text",f.START);i.decorations=[["@showid","true"]],t.output.startTag("variable_entry",i);var s=null;r&&(s=r.position),s||(s=0);var n=0;r&&r.noteIndex&&(n=r.noteIndex);var o=0;r&&r["first-reference-note-number"]&&(o=r["first-reference-note-number"]);var a=0;r&&r["citation-number"]&&(a=r["citation-number"]);var l=0;r&&r.index&&(l=r.index);var u={itemData:e,variableNames:this.variables,context:t.tmp.area,xclass:t.opt.xclass,position:["first","subsequent","ibid","ibid-with-locator"][s],"note-number":n,"first-reference-note-number":o,"citation-number":a,index:l,mode:t.opt.mode};t.output.current.value().params=u}},this.execs.push(n))},f.Util.substituteEnd=function(t,e){var r,i,s,n,o,a;t.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(r=function(t,e){t.tmp.just_looking||t.tmp.suppress_decorations||t.output.endTag("variable_entry")},this.execs.push(r)),r=function(t,e){for(var r=0,i=this.decorations.length;r<i;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){t.tmp.strip_periods+=-1;break}},this.execs.push(r),t.build.render_nesting_level+=-1,0===t.build.render_nesting_level&&(t.build.cls?(r=function(t,e){t.output.endTag("bib_first")},this.execs.push(r),t.build.cls=!1):"bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]&&(r=function(t,e){t.tmp.render_seen||t.output.endTag("bib_first")},(i=new f.Token("group",f.END)).execs.push(r),e.push(i),(s=new f.Token("group",f.START)).decorations=[["@display","right-inline"]],r=function(t,e){t.tmp.render_seen||(t.tmp.render_seen=!0,t.output.startTag("bib_other",s))},s.execs.push(r),e.push(s))),1===t.build.substitute_level.value()&&(n=new f.Token("if",f.END),e.push(n),o=new f.Token("choose",f.END),f.Node.choose.build.call(o,t,e)),("names"===this.name||"text"===this.name&&"title"!==this.variables_real)&&(new f.Token("text",f.SINGLETON),r=function(t,e){if("bibliography"===t.tmp.area&&"string"==typeof t.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||e[this.variables_real])&&t.tmp.substituted_variable===this.variables_real){var r,i,s=t.bibliography.opt["subsequent-author-substitute-rule"];if(!t.tmp.suppress_decorations&&t.tmp.subsequent_author_substitute_ok&&t.tmp.rendered_name){if("partial-each"===s||"partial-first"===s){var n=!0,o=[];for(r=0,i=t.tmp.name_node.children.length;r<i;r+=1){var l=t.tmp.rendered_name[r];n&&t.tmp.last_rendered_name&&t.tmp.last_rendered_name.length>r-1&&l&&!l.localeCompare(t.tmp.last_rendered_name[r])?(a=new f.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[r].blobs=[a],"partial-first"===s&&(n=!1)):n=!1,o.push(l)}t.tmp.last_rendered_name=o}else if("complete-each"===s){if(o=t.tmp.rendered_name.join(",")){if(t.tmp.last_rendered_name&&!o.localeCompare(t.tmp.last_rendered_name))for(r=0,i=t.tmp.name_node.children.length;r<i;r+=1)a=new f.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[r].blobs=[a];t.tmp.last_rendered_name=o}}else{(o=t.tmp.rendered_name.join(","))&&(t.tmp.last_rendered_name&&!o.localeCompare(t.tmp.last_rendered_name)&&(a=new f.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.label_blob?t.tmp.name_node.top.blobs=[a,t.tmp.label_blob]:t.tmp.name_node.top.blobs.length?t.tmp.name_node.top.blobs[0].blobs=[a]:t.tmp.name_node.top.blobs=[a],t.tmp.substituted_variable=this.variables_real),t.tmp.last_rendered_name=o)}t.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(r)),("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(r=function(t,e){t.tmp.element_trace.pop()},this.execs.push(r))},e.exports=f,f.Util.padding=function(t){var e=t.match(/\s*(-{0,1}[0-9]+)/);if(e)for((t=parseInt(e[1],10))<0&&(t=1e20+t),t=""+t;t.length<20;)t="0"+t;return t},f.Util.LongOrdinalizer=function(){},f.Util.LongOrdinalizer.prototype.init=function(t){this.state=t},f.Util.LongOrdinalizer.prototype.format=function(t,e){t<10&&(t="0"+t);var r=f.Engine.getField(f.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+t,"long",0,e);return r||(r=this.state.fun.ordinalizer.format(t,e)),this.state.tmp.cite_renders_content=!0,r},f.Util.Ordinalizer=function(t){this.state=t,this.suffixes={}},f.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var t=0;t<3;t+=1){var e=[void 0,"masculine","feminine"][t];this.suffixes[this.state.opt.lang][e]=[];for(var r=1;r<5;r+=1){var i=this.state.getTerm("ordinal-0"+r,"long",!1,e);if(void 0===i){delete this.suffixes[this.state.opt.lang][e];break}this.suffixes[this.state.opt.lang][e].push(i)}}}},f.Util.Ordinalizer.prototype.format=function(t,e){var r;r=""+(t=parseInt(t,10));var i="",s=[];if(e&&s.push(e),s.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var n;i=this.state.getTerm("ordinal",!1,0,e);for(var o=0,a=s.length;o<a;o+=1){n=s[o];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][r]&&l["whole-number"][r][n]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][r][n],!1,0,e):l["last-two-digits"][r.slice(r.length-2)]&&l["last-two-digits"][r.slice(r.length-2)][n]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][r.slice(r.length-2)][n],!1,0,e):l["last-digit"][r.slice(r.length-1)]&&l["last-digit"][r.slice(r.length-1)][n]&&(i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][r.slice(r.length-1)][n],!1,0,e)),i)break}}else e||(e=void 0),this.state.fun.ordinalizer.init(),i=t/10%10==1||t>10&&t<20?this.suffixes[this.state.opt.lang][e][3]:t%10==1&&t%100!=11?this.suffixes[this.state.opt.lang][e][0]:t%10==2&&t%100!=12?this.suffixes[this.state.opt.lang][e][1]:t%10==3&&t%100!=13?this.suffixes[this.state.opt.lang][e][2]:this.suffixes[this.state.opt.lang][e][3];return r=r+=i},f.Util.Romanizer=function(){},f.Util.Romanizer.prototype.format=function(t){var e,r,i,s,n;if(e="",t<6e3)for((s=t.toString().split("")).reverse(),r=0,i=0,n=s.length,r=0;r<n;r+=1)i=parseInt(s[r],10),e=f.ROMAN_NUMERALS[r][i]+e;return e},f.Util.Suffixator=function(t){t||(t=f.SUFFIX_CHARS),this.slist=t.split(",")},f.Util.Suffixator.prototype.format=function(t){var e;t+=1;var r="";do{e=t%26==0?26:t%26;r=this.slist[e-1]+r;t=(t-e)/26}while(0!==t);return r},f.Engine.prototype.processNumber=function(t,e,r,i){var s,n=this;function o(t,e,i,s){s=s||"";var n={};if(e||f.STATUTE_SUBDIV_STRINGS_REVERSE[r]||(e="var:"+r),e){var o=e.match(/(\s*)([^\s]+)(\s*)/);n.label=o[2],n.origLabel=t,n.labelSuffix=o[3]?o[3]:"",n.plural=0,n.labelVisibility=!1}return(o=i.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(n.particle=o[1]?o[1]:"",n.value=o[2]):(n.particle="",n.value=i),n.joiningSuffix=s.replace(/\s*-\s*/,"-"),n}function a(t,e,r){var i=t[r.pos],s=t[e].value,n="\\-"===i.joiningSuffix;s.particle&&s.particle!==i.particle&&(r.collapsible=!1);var o=s.match(/^[0-9]+([-,:a-zA-Z]*)$/),a=i.value.match(/^[0-9]+([-,:a-zA-Z]*)$/);if(s&&o&&a&&!n||(r.collapsible=!1,s&&a||(r.numeric=!1),n&&r.count--),(o&&o[1]||a&&a[1])&&(r.collapsible=!1),void 0===t[e].collapsible){for(var l=e,u=e+r.count;l<u;l++)isNaN(parseInt(t[l].value))&&!t[l].value.match(/^[ivxlcmIVXLCM]+$/)?t[l].collapsible=!1:t[l].collapsible=!0;r.collapsible=t[e].collapsible}var c=r.collapsible;for(l=r.pos,u=r.pos+r.count;l<u;l++)r.count>1&&c&&(t[l].plural=1),t[l].numeric=r.numeric,t[l].collapsible=r.collapsible}function l(t,e,i){"var:"!==i.label.slice(0,4)&&(0===i.pos?("locator"!==r&&"number"!==r||n.getTerm(f.STATUTE_SUBDIV_STRINGS[i.label])||(t[i.pos].labelVisibility=!0),-1===["locator","number"].indexOf(r)&&f.STATUTE_SUBDIV_STRINGS[i.label]!==r&&(t[0].labelVisibility=!0)):t[i.pos].labelVisibility=!0)}function u(e){var r=f.Util.cloneToken(t),i=new f.Token;if(!n.tmp.just_looking){for(var s=r.decorations.length-1;s>-1;s--)"@quotes"===r.decorations[s][0]&&(i.decorations=i.decorations.concat(r.decorations.slice(s,s+1)),r.decorations=r.decorations.slice(0,s).concat(r.decorations.slice(s+1)));i.strings.prefix=r.strings.prefix,r.strings.prefix="",i.strings.suffix=r.strings.suffix,r.strings.suffix=""}var o=e.length?e[0].label:null;if(e.length){for(var a=0,l=e.length;a<l;a++){var u=e[a],p=f.Util.cloneToken(r);p.gender=t.gender,o===u.label&&(p.formatter=t.formatter),u.numeric&&(p.successor_prefix=u.successor_prefix),p.strings.suffix=p.strings.suffix+c(u.joiningSuffix),u.styling=p}n.tmp.just_looking||'"'===e[0].value.slice(0,1)&&'"'===e[e.length-1].value.slice(-1)&&(e[0].value=e[0].value.slice(1),e[e.length-1].value=e[e.length-1].value.slice(0,-1),i.decorations.push(["@quotes",!0]))}return i}function c(t){return t.replace("\\-","-")}function p(t,e,r,i){var s=m(t,e);return function(t,e){var r=!0;if("locator"===t){var i;i=e.origLabel?e.origLabel:e.label,r=!!n.getTerm(f.STATUTE_SUBDIV_STRINGS[i])}return r}(t,e)&&"-"===r&&i&&((s||["locator","issue","volume","edition","number"].indexOf(t)>-1)&&((r=n.getTerm("page-range-delimiter"))||(r="–")),"collection-number"===t&&((r=n.getTerm("year-range-delimiter"))||(r="–"))),r}function m(t,e){return"page"===t||"locator"===t&&(["p."].indexOf(e.label)>-1||["p."].indexOf(e.origLabel)>-1)}function h(t,e,i){if(!(e<1)&&2===i.count&&t[e-1].particle===t[e].particle)if("-"===t[e-1].joiningSuffix)if(!n.opt["page-range-format"]&&parseInt(t[e-1].value,10)>parseInt(t[e].value,10))t[e-1].joiningSuffix=p(r,t[e],t[e-1].joiningSuffix,!0);else{var s=t[e];if(!m(r,s)||isNaN(parseInt(t[e-1].value))||isNaN(parseInt(t[e].value)))(""+t[e-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+t[e].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(t[e-1].joiningSuffix=n.getTerm("page-range-delimiter")),o=t[e-1].value+c(t[e-1].joiningSuffix)+t[e].value;else{var o=t[e-1].particle+t[e-1].value+" - "+t[e].particle+t[e].value;o=n.fun.page_mangler(o)}var a=o.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+)$/);if(a){var l=a[3];l=p(r,s,l,t[e].numeric),t[e-1].particle=a[1],t[e-1].value=a[2],t[e-1].joiningSuffix=l,t[e].particle=a[4],t[e].value=a[5]}i.count=0}else i.count=1}function d(e){if(t&&-1!==["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator"].indexOf(r)){for(var i={count:0,label:null,lastHadRangeDelimiter:!1},s=0,n=e.length;s<n;s++){var o=e[s];if(o.collapsible)i.label===o.label&&"-"===o.joiningSuffix?i.count=1:i.label===o.label&&"-"!==o.joiningSuffix?(i.count++,2===i.count&&h(e,s,i)):i.label!==o.label?(i.label=o.label,i.count=1):(i.count=1,i.label=o.label);else{i.count=0,i.label=null;var a=o.numeric;o.joiningSuffix=p(r,o,o.joiningSuffix,a)}}2===i.count&&h(e,e.length-1,i)}}if(t&&this.tmp.shadow_numbers[r]&&this.tmp.shadow_numbers[r].values.length)return d(v=this.tmp.shadow_numbers[r].values),void(this.tmp.shadow_numbers[r].masterStyling=u(v));if(this.tmp.shadow_numbers[r]||(this.tmp.shadow_numbers[r]={values:[]}),e){var g=f.LangPrefsMap[r];if(g){var b=this.opt["cite-lang-prefs"][g][0];s=(s=this.transform.getTextSubField(e,r,"locale-"+b,!0)).name}else s=e[r];if(s&&this.sys.getAbbreviation){var _=this.transform.loadAbbreviation(e.jurisdiction,"number",s);this.transform.abbrevs[_].number&&(this.transform.abbrevs[_].number[s]?s=this.transform.abbrevs[_].number[s]:void 0!==this.transform.abbrevs[_].number[s]&&delete this.transform.abbrevs[_].number[s])}if(void 0!==s&&("string"==typeof s||"number"==typeof s)){"number"==typeof s&&(s=""+s);var v,y=f.STATUTE_SUBDIV_STRINGS_REVERSE[r];if(!this.tmp.shadow_numbers.values)!function(t){for(var e=0,r=t.length-1;e<r;e++)!t[e].joiningSuffix&&t[e+1].label&&(t[e].joiningSuffix=" ")}(v=function(t,i){i=i||"";var s=[];if(m=(t=function(t,i){var s=(t=t.trim()).match(/^([^ ]+)/);if(s&&!f.STATUTE_SUBDIV_STRINGS[s[1]]){var n=null;(n="locator"===r?e.label?f.STATUTE_SUBDIV_STRINGS_REVERSE[e.label]:"p.":f.STATUTE_SUBDIV_STRINGS_REVERSE[r])&&(t=n+" "+t)}return t}(t)).match(/(;\s+|,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/g)){for(var a=0,l=(h=t.split(/(?:;\s+|,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/)).length-1;a<l;a++)s.push(h[a]),s.push(m[a]);s.push(h[h.length-1]),s=function(t){for(var e=t.length-2;e>-1;e-=2)"-"===t[e]&&t[e-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&t[e+1].match(/^[,a-zA-Z]+$/)&&(t[e-1]=t.slice(e-1,e+2).join(""),t=t.slice(0,e).concat(t.slice(e+2)));return t}(s)}else s=[t];var u=[],c=i,p="";for(a=0,l=s.length;a<l;a+=2){var m;if(m=s[a].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/g)){for(var h,d=(h=s[a].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/)).length-1;d>0;d--)!h[d-1]||h[d].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&h[d-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(h[d-1]=h[d-1]+m[d-1]+h[d],h=h.slice(0,d).concat(h.slice(d+1)),m=m.slice(0,d-1).concat(m.slice(d)));if(m.length>0){var g=m[0].trim();!f.STATUTE_SUBDIV_STRINGS[g]||!n.getTerm(f.STATUTE_SUBDIV_STRINGS[g])||-1===["locator","number"].indexOf(r)&&f.STATUTE_SUBDIV_STRINGS[g]!==r?0===a&&(m=m.slice(1),h[0]=h[0]+" "+g+" "+h[1],h=h.slice(0,1).concat(h.slice(2))):p=g}d=0;for(var b=h.length;d<b;d++)(h[d]||d===h.length-1)&&(_=p===(c=m[d-1]?m[d-1]:c).trim()?"":p,t=h[d]?h[d].trim():"",d===h.length-1?u.push(o(_,c,t,s[a+1])):u.push(o(_,c,t)))}else{var _;_=p===c.trim()?"":p,u.push(o(_,c,s[a],s[a+1]))}}return u}(s,y)),function(t){if(0!==t.length){for(var i=0,s=1,n=1,o=t.length;n<o;n++){var u=t[n-1],c=t[n];u.label===c.label&&u.particle==u.particle?s++:((p=JSON.parse(JSON.stringify(t[i]))).pos=i,p.count=s,p.numeric=!0,a(t,i,p),0!==n&&u.label===c.label||l(t,0,p),i=n,s=1)}var p;(p=JSON.parse(JSON.stringify(t[i]))).pos=i,p.count=s,p.numeric=!0,a(t,i,p),l(t,0,p),t.length&&t[0].numeric&&"number-of-"===r.slice(0,10)&&parseInt(e[r],10)>1&&(t[0].plural=1)}}(v),this.tmp.shadow_numbers[r].values=v;t&&(d(v),this.tmp.shadow_numbers[r].masterStyling=u(v)),function(t,e,r){var i=t[e];r.length&&(i.numeric=r[0].numeric,i.collapsible=r[0].collapsible,i.plural=r[0].plural,i.label=f.STATUTE_SUBDIV_STRINGS[r[0].label],"number"===e&&"issue"===i.label&&n.getTerm("number")&&(i.label="number"))}(this.tmp.shadow_numbers,r,v)}}},f.Util.outputNumericField=function(t,e,r){t.output.openLevel(t.tmp.shadow_numbers[e].masterStyling);var i,s=t.tmp.shadow_numbers[e].values,n=s.length?s[0].label:null,o=t.tmp.shadow_numbers[e].labelForm;i=o||"short";for(var a=t.tmp.shadow_numbers[e].labelCapitalizeIfFirst,l=t.tmp.shadow_numbers[e].labelDecorations,u=null,c=0,p=s.length;c<p;c++){var m,h=s[c],d="";if(h.label)(m="var:"===h.label.slice(0,4)?h.label.slice(4):f.STATUTE_SUBDIV_STRINGS[h.label])&&(d=h.label===n?t.getTerm(m,o,h.plural):t.getTerm(m,i,h.plural),a&&(d=f.Output.Formatters["capitalize-first"](t,d)));var g=-1;d&&(g=d.indexOf("%s"));var b=f.Util.cloneToken(h.styling);if(b.formatter=h.styling.formatter,b.type=h.styling.type,b.num=h.styling.num,b.gender=h.styling.gender,g>0&&g<d.length-2)b.strings.prefix+=d.slice(0,g),b.strings.suffix=d.slice(g+2)+b.strings.suffix;else if(h.labelVisibility)if(d||(d=h.label,m=h.label),g>0){var _=new f.Token;_.decorations=l,t.output.append(d.slice(0,g),_)}else g!==d.length-2&&-1!==g||t.output.append(d+h.labelSuffix,"empty");if(h.collapsible){if(h.value.match(/^[1-9][0-9]*$/))var v=new f.NumericBlob(h.particle,parseInt(h.value,10),b,r);else v=new f.NumericBlob(h.particle,h.value,b,r);void 0===v.gender&&(v.gender=t.locale[t.opt.lang]["noun-genders"][e]),t.output.append(v,"literal")}else t.output.append(h.particle+h.value,b);if(0===g&&g<d.length-2&&(null===u&&(u=m),m!==u||c===s.length-1)){var y=new f.Token;y.decorations=l,t.output.append(d.slice(g+2),y)}t.tmp.term_predecessor=!0}t.output.closeLevel()},e.exports=f,f.Util.PageRangeMangler={},f.Util.PageRangeMangler.getFunction=function(t,e){var r,s,n,o,a,l,u,c,p,m,f,h,d,g,b,_,v,y=t.getTerm(e+"-range-delimiter");r=/([0-9]*[a-zA-Z]+0*)?([0-9]+)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+)/,o=function(r){for(n=r.length,s=1;s<n;s+=2)"object"===i(r[s])&&(r[s]=r[s].join(""));var o=r.join("");return o=o.replace(/([^\\])\-/g,"$1"+t.getTerm(e+"-range-delimiter"))},a=function(t){var e,r,i,o=new RegExp("([^\\\\])[-"+("-"===y?"":y)+"\\u2013]","g");t=t.replace(o,"$1 - ").replace(/\s+-\s+/g," - ");var a=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+\\s+\\-\\s+(?:[0-9]*[a-zA-Z]+0*)?[0-9]+)","g"),l=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+\\s+\\-\\s+(?:[0-9]*[a-zA-Z]+0*)?[0-9]+");if(e=t.match(a),0===(r=t.split(l)).length)i=e;else for(i=[r[0]],s=1,n=r.length;s<n;s+=1)i.push(e[s-1].replace(/\s*\-\s*/g,"-")),i.push(r[s]);return i},l=function(t){for(m=a(t=""+t),n=m.length,s=1;s<n;s+=2)(f=m[s].match(r))&&(f[3]&&f[1]!==f[3]||(f[4].length<f[2].length&&(f[4]=f[2].slice(0,f[2].length-f[4].length)+f[4]),parseInt(f[2],10)<parseInt(f[4],10)&&(f[3]=y+(f[1]?f[1]:""),m[s]=f.slice(1)))),"string"==typeof m[s]&&(m[s]=m[s].replace(/\-/g,y));return m},u=function(t,e,r){n=t.length;for(var i=1,s=t.length;i<s;i+=2)t[i][3]=c(t[i][1],t[i][3],e,r),t[i][2].slice(1)===t[i][0]&&(t[i][2]=y);return o(t)},c=function(t,e,r,i){if(r||(r=0),h=(""+t).split(""),d=(""+e).split(""),(g=d.slice()).reverse(),h.length===d.length)for(var s=0,n=h.length;s<n;s+=1){if(!(h[s]===d[s]&&g.length>r)){if(r&&i&&3===g.length){var o=h.slice(0,s);o.reverse(),g=g.concat(o)}break}g.pop()}return g.reverse(),g.join("")},p=function(t){for(n=t.length,s=1;s<n;s+=2)"object"===i(t[s])&&(f=t[s],b=parseInt(f[1],10),_=parseInt(f[3],10),b>100&&b%100&&parseInt(b/100,10)===parseInt(_/100,10)?f[3]=""+_%100:b>=1e4&&(f[3]=""+_%1e3)),f[2].slice(1)===f[0]&&(f[2]=y);return o(t)};var x=function(t,e,r,i){return e(l(t=""+t),r,i)};return t.opt[e+"-range-format"]?"expanded"===t.opt[e+"-range-format"]?v=function(t){return x(t,o)}:"minimal"===t.opt[e+"-range-format"]?v=function(t){return x(t,u)}:"minimal-two"===t.opt[e+"-range-format"]?v=function(t,e){return x(t,u,2,e)}:"chicago"===t.opt[e+"-range-format"]&&(v=function(t){return x(t,p)}):v=function(t){return x(t,o)},v},e.exports=f,f.Util.FlipFlopper=function(t){this.processTags=function(i){var s=i.blobs,n=!1;" "!==s.slice(0,1)||s.match(/^\s+[\'\"]/)||(n=!0);var o=new RegExp("("+f.ROMANESQUE_REGEXP.source+")’("+f.ROMANESQUE_REGEXP.source+")","g"),l=function(t){var e=[],i=(t=(t=t.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(c.matchAll);if(!i)return{tags:[],strings:[t],forcedSpaces:[]};for(var s=t.split(c.splitAll),n=0,o=i.length-1;n<o;n++)r[i[n]]&&(""===s[n+1]&&['"',"'"].indexOf(i[n+1])>-1?(i[n+1]=" "+i[n+1],e.push(!0)):e.push(!1));return{tags:i,strings:s,forcedSpaces:e}}(s=" "+s.replace(o,"$1'$2"));if(0===l.tags.length)return;for(var u=!1,d=0,g=l.tags.length;d<g;d++){var b=l.tags[d],s=l.strings[d+1];if(h(b,s))l.strings[d+1]=" '"===b?" ’"+l.strings[d+1]:"’"+l.strings[d+1],l.tags[d]="";else{for(var _;_=p(b,d);){if(!(Object.keys(_).indexOf("fixtag")>-1)){if(_.nocase){l.tags[_.nocase.open]="",l.tags[_.nocase.close]="";break}break}if(b.match(c.close)&&"'"===b)l.strings[d+1]="’"+l.strings[d+1],l.tags[d]="";else{var v=l.tags[_.fixtag];l.forcedSpaces[_.fixtag-1]&&(v=v.slice(1)),l.strings[_.fixtag+1]=v+l.strings[_.fixtag+1],l.tags[_.fixtag]=""}if(!(e.length>0))break;e.pop()}_&&(_.fixtag||0===_.fixtag)&&(l.strings[d+1]=l.tags[d]+l.strings[d+1],l.tags[d]="")}}for(var d=e.length-1;d>-1;d--){var y=e[d].pos,b=l.tags[y];l.strings[y+1]=" '"===b||"'"===b?" ’"+l.strings[y+1]:l.tags[y]+l.strings[y+1],l.tags[y]="",e.pop()}for(var d=l.tags.length-1;d>-1;d--)l.tags[d]||(l.tags=l.tags.slice(0,d).concat(l.tags.slice(d+1)),l.strings[d]=l.strings[d]+l.strings[d+1],l.strings=l.strings.slice(0,d+1).concat(l.strings.slice(d+2)));for(var d=0,g=l.tags.length;d<g;d++){var b=l.tags[d],x=l.forcedSpaces[d-1];[' "'," '",'("',"('"].indexOf(b)>-1&&(u||(a(b),u=!0),x||(l.strings[d]+=b.slice(0,1)))}!function(e,r,i){var s=!0,n=new m(e);e.blobs=[];var o=new function(e){this.stack=[e],this.latest=e,this.addStyling=function(e,r,i){if(s&&(" "===e.slice(0,1)&&(e=e.slice(1))," "===e.slice(0,1)&&(e=e.slice(1)),s=!1),this.latest=this.stack[this.stack.length-1],r){if("string"==typeof this.latest.blobs){var n=new f.Blob;n.blobs=this.latest.blobs,n.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[n]}var o=new f.Token,a=new f.Blob(null,o);if(a.alldecor=this.latest.alldecor.slice(),"@class"===r[0]&&"nodecor"===r[1]){for(var l=[],u={},c=[t[t.tmp.area].opt.layout_decorations].concat(a.alldecor),p=c.length-1;p>-1;p--){var m=c[p];if(m)for(var h=m.length-1;h>-1;h--){var d=m[h];["@font-weight","@font-style","@font-variant"].indexOf(d[0])>-1&&!u[d[0]]&&("normal"!==r[1]&&(a.decorations.push([d[0],"normal"]),l.push([d[0],"normal"])),u[d[0]]=!0)}}a.alldecor.push(l)}else a.decorations.push(r),a.alldecor.push([r]);if(this.latest.blobs.push(a),this.stack.push(a),this.latest=a,e){var o=new f.Token,a=new f.Blob(null,o);a.blobs=e,a.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(a)}}else if(e){var n=new f.Blob;n.blobs=e,n.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(n)}},this.popStyling=function(){this.stack.pop()}}(e);if(r.strings.length){var a=r.strings[0];i&&(a=" "+a),o.addStyling(a)}for(var l=0,u=r.tags.length;l<u;l++){var p=r.tags[l],a=r.strings[l+1];p.match(c.open)?(n.set(p),o.addStyling(a,n.pair())):(n.pop(),o.popStyling(),o.addStyling(a))}}(i,l,n)};var e=[],r={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};r['("']=r[' "'],r["('"]=r[" '"];var i=t.getTerm("open-quote"),s=t.getTerm("close-quote"),n=t.getTerm("open-inner-quote"),o=t.getTerm("close-inner-quote");i&&s&&-1===[' "'," '",'"',"'"].indexOf(i)&&(r[i]=JSON.parse(JSON.stringify(r[' "'])),r[i].opener=i,r[i].closer=s),n&&o&&-1===[' "'," '",'"',"'"].indexOf(n)&&(r[n]=JSON.parse(JSON.stringify(r[" '"])),r[n].opener=n,r[n].closer=o);(function(){for(var t={},e=Object.keys(r),i=0,s=e.length;i<s;i++){var n=e[i];"quote"===r[n].type&&(t[r[n].closer]=r[n])}})(),function(){for(var t={},e=Object.keys(r),i=0,s=e.length;i<s;i++){var n=e[i];if("nocase"!==r[n].type){var o=r[n].attr,a=r[n].outer,l=r[n].flipflop[r[n].outer];t[o+"/"+a]=r[n],t[o+"/"+l]=r[n]}}}();function a(t){r[t].outer="true",r[{" '":' "',' "':" '",'("':"('","('":'("'}[t]].outer="inner"}function l(t){for(var e=[],i=Object.keys(r),s=0,n=i.length;s<n;s++){var o=i[s];"quote"===r[t].type&&r[t]||e.push(o)}var a=r[t];return a.opener=new RegExp("^(?:"+e.map(function(t){return t.replace("(","\\(")}).join("|")+")"),a}var u=function(){for(var t={},e=Object.keys(r),i=0,s=e.length;i<s;i++){var n=e[i];t[n]=l(n)}return t}(),c=function(){var t=[],e=[],r={};for(var i in u)t.push(i),r[u[i].closer]=!0;for(var s=Object.keys(r),n=0,o=s.length;n<o;n++){var a=s[n];e.push(a)}var l=t.concat(e).map(function(t){return t.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+l+"))","g"),splitAll:new RegExp("(?:"+l+")","g"),open:new RegExp("(^(?:"+t.map(function(t){return t.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+e.join("|")+")$)")}}();function p(t,r){return function(t,r){return t.match(c.open)?function(t,r){var i=e[e.length-1];return!i||t.match(i.opener)?(e.push({type:u[t].type,opener:u[t].opener,closer:u[t].closer,pos:r}),!1):(e.pop(),e.push({type:u[t].type,opener:u[t].opener,closer:u[t].closer,pos:r}),{fixtag:i.pos})}(t,r):function(t,r){var i=e[e.length-1];return i&&t===i.closer?(e.pop(),"nocase"===i.type&&{nocase:{open:i.pos,close:r}}):i?{fixtag:i.pos}:{fixtag:r}}(t,r)}(t,r)}var m=function(e){this.set=function(s){for(var n=r[s].attr,o=null,a=i.length-1;a>-1;a--){var l=i[a];if(l[0]===n){o=l;break}}if(!o){var u=[t[t.tmp.area].opt.layout_decorations].concat(e.alldecor);t:for(var a=u.length-1;a>-1;a--){var c=u[a];if(c)for(var p=c.length-1;p>-1;p--){var l=c[p];if(l[0]===n){o=l;break t}}}}o=o?[n,r[s].flipflop[o[1]]]:[n,r[s].outer];i.push(o)},this.pair=function(){return i[i.length-1]},this.pop=function(){i.pop()};var i=[]};function h(t,e){if("'"===t){if(e&&e.match(/^[^\,\.\?\:\;\ ]/))return!0}else if(" '"===t&&e&&e.match(/^[\ ]/))return!0;return!1}},e.exports=f,f.Output.Formatters=new function(){this.passthrough=function(t,e){return e},this.lowercase=function(t,e){return s({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),r=0,i=e.length;r<i;r++){var s=e[r];s&&(e[r]=s.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},this.uppercase=function(t,e){return s({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),r=0,i=e.length;r<i;r++){var s=e[r];s&&(e[r]=s.toUpperCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},this.sentence=function(t,e){var r={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),s=0,n=e.length;s<n;s++){var o=e[s];o&&(r.isFirst?(e[s]=i(o),r.isFirst=!1):e[s]=o.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return s(r,e)},this.title=function(t,r){var n={quoteState:[],capitaliseWords:function(t,r,s){if(t.trim()){for(var o=t.split(/[ \u00A0]+/),a=e.split(t),o=a.strings,l=0,u=o.length;l<u;l++){var c=o[l];c&&(c.length>1&&!c.toLowerCase().match(n.skipWordsRex)?o[l]=i(o[l]):l===o.length-1&&"-"===s?o[l]=i(o[l]):n.isFirst?o[l]=i(o[l]):n.afterPunct&&(o[l]=i(o[l])),n.afterPunct=!1,n.isFirst=!1,n.lastWordPos={strings:r,words:l})}t=e.join(a)}return t},skipWordsRex:t.locale[t.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return s(n,r)},this["capitalize-first"]=function(t,e){var r={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),s=0,n=e.length;s<n;s++){var o=e[s];if(o&&r.isFirst){e[s]=i(o),r.isFirst=!1;break}}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return s(r,e)},this["capitalize-all"]=function(t,e){return s({quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),r=0,s=e.length;r<s;r++){var n=e[r];n&&(e[r]=i(n))}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)};var t=new f.Doppeler('(?:‘|’|“|”| "| \'|"|\'|[-–—/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',function(t){return t.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),e=new f.Doppeler("(?:[   -​ 　]+)"),r={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>"};function i(t,e){var r=t.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!r||r[2].match(/^[\u0370-\u03FF]$/)&&!r[3]?t:r[1]+r[2].toUpperCase()+r[3]}function s(s,n){if(!n)return"";s.doppel=t.split(n);var o={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"‘":{opener:"‘",closer:"’"},"“":{opener:"“",closer:"”"}};function a(t,e){var r=t.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(r)return function(t,e){return["“","‘",' "'," '"].indexOf(t)>-1?function(t,e){if(0===s.quoteState.length||t===s.quoteState[s.quoteState.length-1].opener)return s.quoteState.push({opener:o[t].opener,closer:o[t].closer,pos:e}),!1;var r=s.quoteState[s.quoteState.length-1].pos;return s.quoteState.pop(),s.quoteState.push({opener:o[t].opener,closer:o[t].closer,positions:e}),r}(t,e):function(t,e){if(!(s.quoteState.length>0&&t===s.quoteState[s.quoteState.length-1].closer))return e;s.quoteState.pop()}(t,e)}(r[1],e)}s.doppel.strings.length&&s.doppel.strings[0].trim()&&(s.doppel.strings[0]=s.capitaliseWords(s.doppel.strings[0],0,s.doppel.tags[0]));for(var l=0,u=s.doppel.tags.length;l<u;l++){var c=s.doppel.tags[l],p=s.doppel.strings[l+1];if(null!==s.tagState&&(r[c]?s.tagState.push(r[c]):s.tagState.length&&c===s.tagState[s.tagState.length-1]&&s.tagState.pop()),null!==s.afterPunct&&c.match(/[\!\?\:]$/)&&(s.afterPunct=!0),0===s.tagState.length?s.doppel.strings[l+1]=s.capitaliseWords(p,l+1,s.doppel,s.doppel.tags[l+1]):s.doppel.strings[l+1].trim()&&(s.lastWordPos=null),null!==s.quoteState)if((f=a(c,l))||0===f){var m=s.doppel.origStrings[f+1].slice(0,1);s.doppel.strings[f+1]=m+s.doppel.strings[f+1].slice(1),s.lastWordPos=null}s.isFirst&&p.trim()&&(s.isFirst=!1),s.afterPunct&&p.trim()&&(s.afterPunct=!1)}if(s.quoteState)for(l=0,u=s.quoteState.length;l<u;l++){var f;if(void 0!==(f=s.quoteState[l].pos)){m=s.doppel.origStrings[f+1].slice(0,1);s.doppel.strings[f+1]=m+s.doppel.strings[f+1].slice(1)}}if(s.lastWordPos){var h=e.split(s.doppel.strings[s.lastWordPos.strings]),d=i(h.strings[s.lastWordPos.words]);h.strings[s.lastWordPos.words]=d,s.doppel.strings[s.lastWordPos.strings]=e.join(h)}return t.join(s.doppel)}},e.exports=f,f.Output.Formats=function(){},f.Output.Formats.prototype.html={text_escape:function(t){return t||(t=""),t.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"  ").replace(f.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+f.SUPERSCRIPTS[t]+"</sup>"})},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":f.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":f.Output.Formatters.passthrough,"@strip-periods/false":f.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"’":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var r="";return t.sys.embedBibliographyEntry&&(r=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+e+"</div>\n"+r},"@display/block":function(t,e){return'\n\n    <div class="csl-block">'+e+"</div>\n"},"@display/left-margin":function(t,e){return'\n    <div class="csl-left-margin">'+e+"</div>"},"@display/right-inline":function(t,e){return'<div class="csl-right-inline">'+e+"</div>\n  "},"@display/indent":function(t,e){return'<div class="csl-indent">'+e+"</div>\n  "},"@showid/true":function(t,e,r){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;if(r)return'<span class="'+t.opt.nodenames[r]+'" cslid="'+r+'">'+e+"</span>";if(this.params&&"string"==typeof e){var i="";if(e){var s=e.match(f.VARIABLE_WRAPPER_PREPUNCT_REX);i=s[1],e=s[2]}var n="";return e&&f.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(n=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,n)}return e},"@URL/true":function(t,e){return'<a href="'+e+'">'+e+"</a>"},"@DOI/true":function(t,e){var r=e;return e.match(/^https?:\/\//)||(r="https://doi.org/"+e),'<a href="'+r+'">'+e+"</a>"}},f.Output.Formats.prototype.text={text_escape:function(t){return t||(t=""),t},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":f.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":f.Output.Formatters.passthrough,"@strip-periods/false":f.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"’":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e,r){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},f.Output.Formats.prototype.rtf={text_escape:function(t){return t||(t=""),t.replace(/([\\{}])/g,"\\$1").replace(f.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+f.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("\t").join("\\tab{}")},"@passthrough/true":f.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":f.Output.Formatters.passthrough,"@strip-periods/false":f.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?f.Output.Formats.rtf.text_escape(t.getTerm("open-quote")):f.Output.Formats.rtf.text_escape(t.getTerm("open-quote"))+e+f.Output.Formats.rtf.text_escape(t.getTerm("close-quote"))},"@quotes/inner":function(t,e){return void 0===e?f.Output.Formats.rtf.text_escape("’"):f.Output.Formats.rtf.text_escape(t.getTerm("open-inner-quote"))+e+f.Output.Formats.rtf.text_escape(t.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e},"@display/left-margin":function(t,e){return e+"\\tab "},"@display/right-inline":function(t,e){return e+"\r\n"},"@display/indent":function(t,e){return"\n\\tab "+e+"\\line\r\n"},"@showid/true":function(t,e,r){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;var i="";if(e){var s=e.match(f.VARIABLE_WRAPPER_PREPUNCT_REX);i=s[1],e=s[2]}var n="";return e&&f.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(n=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,n)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},f.Output.Formats=new f.Output.Formats,e.exports=f,f.Registry=function(t){this.debug=!1,this.state=t,this.registry={},this.reflist=[],this.refhash={},this.namereg=new f.Registry.NameReg(t),this.citationreg=new f.Registry.CitationReg(t),this.authorstrings={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new f.Registry.Comparifier(t,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],e=0,r=this.reflist.length;e<r;e+=1)t.push(""+this.reflist[e].id);return t},this.getSortedRegistryItems=function(){for(var t=[],e=0,r=this.reflist.length;e<r;e+=1)t.push(this.reflist[e]);return t}},f.Registry.prototype.init=function(t,e){if(this.oldseq={},e){this.uncited={};for(var r=0,i=t.length;r<i;r+=1)this.myhash[t[r]]||this.mylist.push(""+t[r]),this.uncited[t[r]]=!0,this.myhash[t[r]]=!0}else{for(var s in this.uncited)t.push(s);var n={};for(r=t.length-1;r>-1;r+=-1)n[t[r]]?t=t.slice(0,r).concat(t.slice(r+1)):n[t[r]]=!0;this.mylist=[];for(r=0,i=t.length;r<i;r+=1)this.mylist.push(""+t[r]);this.myhash=n}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},f.Registry.prototype.dopurge=function(t){for(var e=this.mylist.length-1;e>-1;e+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId[this.mylist[e]]||t[this.mylist[e]]||(delete this.myhash[this.mylist[e]],this.mylist=this.mylist.slice(0,e).concat(this.mylist.slice(e+1))));this.dodeletes(this.myhash)},f.Registry.prototype.dodeletes=function(t){var e,r,i,s,n,o,a;for(var l in"string"==typeof t&&((t={})[t]=!0),this.registry)if(!t[l]){if(this.uncited[l])continue;for(n in this.namereg.delitems(l))this.refreshes[n]=!0;for(e=this.registry[l].ambig,(o=this.ambigcites[e].indexOf(l))>-1&&(s=this.ambigcites[e].slice(),this.ambigcites[e]=s.slice(0,o).concat(s.slice(o+1,s.length)),this.ambigresets[e]=this.ambigcites[e].length),i=this.ambigcites[e].length,r=0;r<i;r+=1)a=""+this.ambigcites[e][r],this.refreshes[a]=!0;if(this.registry[l].siblings)if(1==this.registry[l].siblings.length){var u=this.registry[l].siblings[0];this.registry[u].master=!0,this.registry[u].siblings.pop(),this.registry[u].parallel=!1}else if(this.registry[l].siblings.length>1){var c=[l];if(this.registry[l].master){var p=this.registry[l].siblings[0],m=this.registry[p];m.master=!0,m.parallel=!1,c.push(p);for(var f=0,h=this.registry[l].siblings.length;f<h;f+=1)this.registry[this.registry[l].siblings[f]].parallel=p}var d=[];for(f=this.registry[l].siblings.length-1;f>-1;f+=-1){var g=this.registry[l].siblings.pop();-1===c.indexOf(g)&&d.push(g)}for(f=d.length-1;f>-1;f+=-1)this.registry[l].siblings.push(d[f])}delete this.registry[l],delete this.refhash[l],this.return_data.bibchange=!0}},f.Registry.prototype.doinserts=function(t){var e,r,i,s,n;"string"==typeof t&&(t=[t]);for(var o=0,a=t.length;o<a;o+=1)e=t[o],this.registry[e]||(r=this.state.retrieveItem(e),i=f.getAmbiguousCite.call(this.state,r),this.ambigsTouched[i]=!0,r.legislation_id||(this.akeys[i]=!0),s={id:""+e,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:r},this.registry[e]=s,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[e]&&(this.registry[e]["first-reference-note-number"]=this.citationreg.citationsByItemId[e][0].properties.noteIndex),n=f.getAmbigConfig.call(this.state),this.registerAmbigToken(i,e,n),this.touched[e]=!0,this.return_data.bibchange=!0)},f.Registry.prototype.rebuildlist=function(){var t,e,r;for(this.reflist=[],this.state.opt.citation_number_sort_direction===f.DESCENDING&&this.state.opt.citation_number_sort_used,t=this.mylist.length,e=0;e<t;e+=1)r=this.mylist[e],this.reflist.push(this.registry[r]),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=e+1;this.state.opt.citation_number_sort_direction===f.DESCENDING&&this.state.opt.citation_number_sort_used},f.Registry.prototype.dorefreshes=function(){var t;for(var e in this.refreshes)if(t=this.registry[e]){t.sortkeys=void 0,n=this.state.retrieveItem(e);var r=t.ambig;for(var i in void 0===r&&(this.state.tmp.disambig_settings=!1,r=f.getAmbiguousCite.call(this.state,n),o=f.getAmbigConfig.call(this.state),this.registerAmbigToken(r,e,o)),this.ambigresets)if(1===this.ambigresets[i]){var s=this.ambigcites[r][0],n=this.state.retrieveItem(s);this.registry[s].disambig=new f.AmbigConfig,this.state.tmp.disambig_settings=!1;r=f.getAmbiguousCite.call(this.state,n);var o=f.getAmbigConfig.call(this.state);this.registerAmbigToken(r,s,o)}this.state.tmp.taintedItemIDs[e]=!0,this.ambigsTouched[r]=!0,n.legislation_id||(this.akeys[r]=!0),this.touched[e]=!0}},f.Registry.prototype.setdisambigs=function(){var t;for(t in this.leftovers=[],this.ambigsTouched)this.state.disambiguate.run(t);this.ambigsTouched={},this.akeys={}},f.Registry.prototype.renumber=function(){var t,e,r;for(this.state.opt.citation_number_sort_direction===f.DESCENDING&&this.state.opt.citation_number_sort_used,t=this.reflist.length,e=0;e<t;e+=1)(r=this.reflist[e]).seq=e+1,this.state.opt.update_mode===f.NUMERIC&&r.seq!=this.oldseq[r.id]&&(this.state.tmp.taintedItemIDs[r.id]=!0),this.state.opt.bib_mode===f.NUMERIC&&r.seq!=this.oldseq[r.id]&&(this.return_data.bibchange=!0);this.state.opt.citation_number_sort_direction===f.DESCENDING&&this.state.opt.citation_number_sort_used&&this.reflist.reverse()},f.Registry.prototype.setsortkeys=function(){for(var t=0,e=this.mylist.length;t<e;t+=1){var r=this.mylist[t];(this.touched[r]||this.state.tmp.taintedItemIDs[r]||!this.registry[r].sortkeys)&&(this.registry[r].sortkeys=f.getSortKeys.call(this.state,this.state.retrieveItem(r),"bibliography_sort"))}},f.Registry.prototype.sorttokens=function(){this.reflist.sort(this.sorter.compareKeys)},f.Registry.Comparifier=function(t,e){var r,i,s,n,o=f.getSortCompare(t.opt["default-locale-sort"]);r=t[e].opt.sort_directions,this.compareKeys=function(t,e){for(i=t.sortkeys?t.sortkeys.length:0,s=0;s<i;s+=1){var n=0;if(0<(n=t.sortkeys[s]===e.sortkeys[s]?0:void 0===t.sortkeys[s]?r[s][1]:void 0===e.sortkeys[s]?r[s][0]:o(t.sortkeys[s],e.sortkeys[s])))return r[s][1];if(0>n)return r[s][0]}return t.seq>e.seq?1:t.seq<e.seq?-1:0},n=this.compareKeys,this.compareCompositeKeys=function(t,e){return n(t[1],e[1])}},f.Registry.prototype.compareRegistryTokens=function(t,e){return t.seq>e.seq?1:t.seq<e.seq?-1:0},f.Registry.prototype.registerAmbigToken=function(t,e,r){if(this.registry[e]&&this.registry[e].disambig&&this.registry[e].disambig.names)for(var i=0,s=r.names.length;i<s;i+=1){if(r.names[i]!==this.registry[e].disambig.names[i])this.state.tmp.taintedItemIDs[e]=!0;else if(r.givens[i])for(var n=0,o=r.givens[i].length;n<o;n+=1){r.givens[i][n]!==this.registry[e].disambig.givens[i][n]&&(this.state.tmp.taintedItemIDs[e]=!0)}}this.ambigcites[t]||(this.ambigcites[t]=[]),-1===this.ambigcites[t].indexOf(""+e)&&this.ambigcites[t].push(""+e),this.registry[e].ambig=t;this.registry[e].disambig=f.cloneAmbigConfig(r)},f.getSortKeys=function(t,e){var r,i,s,n,o,a;for(r=this.tmp.area,i=this.tmp.root,s=this.tmp.extension,n=f.Util.Sort.strip_prepositions,this.tmp.area=e,this.tmp.root=e.indexOf("_")>-1?e.slice(0,-5):e,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,f.getCite.call(this,t),this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.disambig_override=!1,o=this[e].keys.length,a=0;a<o;a+=1)this[e].keys[a]=n(this[e].keys[a]);return this.tmp.area=r,this.tmp.root=i,this.tmp.extension=s,this[e].keys},e.exports=f,f.Registry.NameReg=function(t){var e,r,i,s,n,o,a,l,u,c,p,m;this.state=t,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},a=function(t){return t||(t=""),t.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(t,s,n){e=a(n.family);var o=(i=a(n.given)).match(/[,\!]* ([^,]+)$/);o&&o[1]===o[1].toLowerCase()&&(i=i.replace(/[,\!]* [^,]+$/,"")),r=f.Util.Names.initializeWith(t,i,"%s"),"by-cite"===t.citation.opt["givenname-disambiguation-rule"]&&(e=""+s+e)},u=function(i,o,a,u,c,p){var m;if("bibliography"===t.tmp.area.slice(0,12)&&!c)return"string"==typeof p?1:2;o=t.nameOutput.getName(o,"locale-translit",!0).name,l(this.state,""+i,o),m=2,s=t.opt["disambiguate-add-givenname"];var f=n=t.citation.opt["givenname-disambiguation-rule"];return"by-cite"===n&&(n="all-names"),"short"===c?m=0:"string"==typeof p&&(m=1),void 0===this.namereg[e]||void 0===this.namereg[e].ikey[r]?m:"by-cite"===f&&m<=u?u:s?"string"==typeof n&&"primary-name"===n.slice(0,12)&&a>0?m:(n&&"all-names"!==n&&"primary-name"!==n?"all-names-with-initials"!==n&&"primary-name-with-initials"!==n||(m=this.namereg[e].count>1?1:0):(this.namereg[e].count>1&&(m=1),(this.namereg[e].ikey&&this.namereg[e].ikey[r].count>1||this.namereg[e].count>1&&"string"!=typeof p)&&(m=2)),t.registry.registry[i]?m:"short"==c?0:"string"==typeof p?1:void 0):m},c=function(s){var n,a,l,u,c;"string"!=typeof s&&"number"!=typeof s||(s=[""+s]);for(a=s.length,n=0;n<a;n+=1)if(u=""+s[n],this.nameind[u]){for(c in this.nameind[u])if(this.nameind[u].hasOwnProperty(c)){var p=c.split("::");if(e=p[0],r=p[1],i=p[2],void 0===this.namereg[e])continue;if(o=this.namereg[e].items,i&&this.namereg[e].ikey[r]&&this.namereg[e].ikey[r].skey[i]&&((l=(m=this.namereg[e].ikey[r].skey[i].items).indexOf(""+u))>-1&&(this.namereg[e].ikey[r].skey[i].items=m.slice(0,l).concat(m.slice([l+1]))),0===this.namereg[e].ikey[r].skey[i].items.length&&(delete this.namereg[e].ikey[r].skey[i],this.namereg[e].ikey[r].count+=-1,this.namereg[e].ikey[r].count<2)))for(var f=0,h=this.namereg[e].ikey[r].items.length;f<h;f+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[r].items[f]]=!0;if(r&&this.namereg[e].ikey[r]&&((l=this.namereg[e].ikey[r].items.indexOf(""+u))>-1&&(o=this.namereg[e].ikey[r].items.slice(),this.namereg[e].ikey[r].items=o.slice(0,l).concat(o.slice([l+1]))),0===this.namereg[e].ikey[r].items.length&&(delete this.namereg[e].ikey[r],this.namereg[e].count+=-1,this.namereg[e].count<2)))for(f=0,h=this.namereg[e].items.length;f<h;f+=1)t.tmp.taintedItemIDs[this.namereg[e].items[f]]=!0;e&&((l=this.namereg[e].items.indexOf(""+u))>-1&&(o=this.namereg[e].items.slice(),this.namereg[e].items=o.slice(0,l).concat(o.slice([l+1],o.length))),this.namereg[e].items.length<2&&delete this.namereg[e]),delete this.nameind[u][c]}delete this.nameind[u],delete this.nameindpkeys[u]}return{}},p=function(s,n,o){if(n=t.nameOutput.getName(n,"locale-translit",!0).name,!t.citation.opt["givenname-disambiguation-rule"]||"primary-"!==t.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===o){if(l(this.state,""+s,n),e&&(void 0===this.namereg[e]?(this.namereg[e]={},this.namereg[e].count=0,this.namereg[e].ikey={},this.namereg[e].items=[s]):-1===this.namereg[e].items.indexOf(s)&&this.namereg[e].items.push(s)),e&&r)if(void 0===this.namereg[e].ikey[r]){if(this.namereg[e].ikey[r]={},this.namereg[e].ikey[r].count=0,this.namereg[e].ikey[r].skey={},this.namereg[e].ikey[r].items=[s],this.namereg[e].count+=1,2===this.namereg[e].count)for(var a=0,u=this.namereg[e].items.length;a<u;a+=1)t.tmp.taintedItemIDs[this.namereg[e].items[a]]=!0}else-1===this.namereg[e].ikey[r].items.indexOf(s)&&this.namereg[e].ikey[r].items.push(s);if(e&&r&&i)if(void 0===this.namereg[e].ikey[r].skey[i]){if(this.namereg[e].ikey[r].skey[i]={},this.namereg[e].ikey[r].skey[i].items=[s],this.namereg[e].ikey[r].count+=1,2===this.namereg[e].ikey[r].count)for(a=0,u=this.namereg[e].ikey[r].items.length;a<u;a+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[r].items[a]]=!0}else-1===this.namereg[e].ikey[r].skey[i].items.indexOf(s)&&this.namereg[e].ikey[r].skey[i].items.push(s);void 0===this.nameind[s]&&(this.nameind[s]={},this.nameindpkeys[s]={}),e&&(this.nameind[s][e+"::"+r+"::"+i]=!0,this.nameindpkeys[s][e]=this.namereg[e])}},this.addname=p,this.delitems=c,this.evalname=u},e.exports=f,f.Registry.CitationReg=function(t){this.citationById={},this.citationByIndex=[]},e.exports=f,f.Disambiguation=function(t){this.state=t,this.sys=this.state.sys,this.registry=t.registry.registry,this.ambigcites=t.registry.ambigcites,this.configModes(),this.debug=!1},f.Disambiguation.prototype.run=function(t){this.modes.length&&(this.akey=t,this.initVars(t)&&this.runDisambig())},f.Disambiguation.prototype.runDisambig=function(){var t;for(this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;){this.listpos=0,this.base||(this.base=this.lists[0][0]);t=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(t)}this.lists=this.lists.slice(1)}},f.Disambiguation.prototype.scanItems=function(t){var e;this.Item=t[1][0],this.ItemCite=f.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=t[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var r=0,i=1,s=t[1].length;i<s;i+=1){e=t[1][i];var n=f.getAmbiguousCite.call(this.state,e,this.base,!0);this.ItemCite===n?(r+=1,this.partners.push(e)):this.nonpartners.push(e)}this.clashes[0]=this.clashes[1],this.clashes[1]=r},f.Disambiguation.prototype.evalScan=function(t){this[this.modes[this.modeindex]](t),t&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},f.Disambiguation.prototype.disNames=function(t){if(0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(t&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){for(var e=0,r=this.partners.length;e<r;e+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[e].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},f.Disambiguation.prototype.disExtraText=function(){var t=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(t=!0),t||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(t||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(t||this.modeindex===this.modes.length-1){var e=this.lists[this.listpos][0];for(r=0,i=this.lists[this.listpos][1].length;r<i;r+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][r].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][r].id,e);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1,(e=this.lists[this.listpos][0]).disambiguate=!0;for(r=0,i=this.lists[this.listpos][1].length;r<i;r+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][r].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][r].id,e)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var r=0,i=this.lists[this.listpos][1].length;r<i;r+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][r].id]=!0}},f.Disambiguation.prototype.disYears=function(){var t;t=[];var e=this.lists[this.listpos][0];if(this.clashes[1])for(var r=0,i=this.state.registry.mylist.length;r<i;r+=1)for(var s=this.state.registry.mylist[r],n=0,o=this.lists[this.listpos][1].length;n<o;n+=1){var a;if((a=this.lists[this.listpos][1][n]).id==s){t.push(this.registry[a.id]);break}}t.sort(this.state.registry.sorter.compareKeys);for(var l=0,u=t.length;l<u;l+=1){e.year_suffix=""+l;var c=this.state.registry.registry[t[l].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+t[l].id,e),f.ambigConfigDiff(c,e)&&(this.state.tmp.taintedItemIDs[t[l].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},f.Disambiguation.prototype.incrementDisambig=function(){if(this.initGivens)return this.initGivens=!1,!1;var t=!1,e=!0;if("disNames"===this.modes[this.modeindex]){e=!1,"number"!=typeof this.givensMax&&(e=!0);var r=!1;if("number"!=typeof this.namesMax&&(r=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:e=!0),"number"==typeof this.namesMax&&e&&(this.state.opt["disambiguate-add-names"]?(r=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):r=!0):r=!0),"number"==typeof this.namesetsMax&&r)if(this.gnameset<this.namesetsMax)this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0;else;"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&void 0!==this.base.givens[this.gnameset]&&void 0!==this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(t=!0)}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return t},f.Disambiguation.prototype.initVars=function(t){var e,r,i;if(this.lists=[],this.base=!1,this.betterbase=!1,this.akey=t,this.maxNamesByItemId={},r=[],!(e=this.ambigcites[t])||!e.length)return!1;var s=this.state.retrieveItem(""+e[0]);if(this.getCiteData(s),this.base=f.getAmbigConfig.call(this.state),e&&e.length>1){r.push([this.maxNamesByItemId[s.id],s]);for(var n=1,o=e.length;n<o;n+=1)s=this.state.retrieveItem(""+e[n]),this.getCiteData(s,this.base),r.push([this.maxNamesByItemId[s.id],s]);r.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1].id>e[1].id?1:t[1].id<e[1].id?-1:0}),i=[];for(var n=0,o=r.length;n<o;n+=1)i.push(r[n][1]);this.lists.push([this.base,i]),this.Item=this.lists[0][1][0]}else this.Item=this.state.retrieveItem(""+e[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},f.Disambiguation.prototype.padBase=function(t){for(var e=0,r=t.names.length;e<r;e+=1){t.givens[e]||(t.givens[e]=[]);for(var i=0,s=t.names[e];i<s;i+=1)t.givens[e][i]||(t.givens[e][i]=0)}},f.Disambiguation.prototype.configModes=function(){var t,e;this.modes=[],t=this.state.opt["disambiguate-add-givenname"],e=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||t&&"by-cite"===e)&&this.modes.push("disNames"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")},f.Disambiguation.prototype.getCiteData=function(t,e){if(!this.maxNamesByItemId[t.id]){f.getAmbiguousCite.call(this.state,t,e),e=f.getAmbigConfig.call(this.state),this.maxNamesByItemId[t.id]=f.getMaxVals.call(this.state),this.state.registry.registry[t.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var r=0,i=this.state.registry.registry[t.id].disambig.givens.length;r<i;r+=1)this.state.registry.registry[t.id].disambig.givens[r]=this.state.tmp.disambig_settings.givens[r].slice();this.namesetsMax=this.state.registry.registry[t.id].disambig.names.length-1,this.base||(this.base=e,this.betterbase=f.cloneAmbigConfig(e)),e.names.length<this.base.names.length&&(this.base=e);for(r=0,i=e.names.length;r<i;r+=1)e.names[r]>this.base.names[r]&&(this.base.givens[r]=e.givens[r].slice(),this.base.names[r]=e.names[r],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var s=0,n=this.base.givens.length;s<n;s+=1)this.betterbase.givens[s]=this.base.givens[s].slice()}},f.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&void 0!==this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},e.exports=f,f.Engine.prototype.getJurisdictionList=function(t){for(var e=[],r=t.split(":"),i=r.length;i>0;i--)e.push(r.slice(0,i).join(":"));return-1===e.indexOf("us")&&e.push("us"),e},f.Engine.prototype.retrieveAllStyleModules=function(t){for(var e={},r=this.locale[this.opt.lang].opts["jurisdiction-preference"],i=(r=[""].concat(r=r||[])).length-1;i>-1;i--)for(var s=r[i],n=0,o=t.length;n<o;n++){var a=t[n];if(!this.opt.jurisdictions_seen[a]){var l=this.sys.retrieveStyleModule(a,s);(!l&&!s||l)&&(this.opt.jurisdictions_seen[a]=!0),l&&(e[a]=l)}}return e},e.exports=f,f.ParticleList=[["'s",n=[[null,[0,1]]]],["'s-",n],["'t",n],["a",n],["aan 't",o=[[null,[0,2]]]],["aan de",o],["aan den",o],["aan der",o],["aan het",o],["aan t",o],["aan",n],["ad-",l=[[null,[0,1]],[[0,1],null]]],["adh-",l],["af",l],["al",l],["al-",l],["am de",o],["am",n],["an-",l],["ar-",l],["as-",l],["ash-",l],["at-",l],["ath-",l],["auf dem",p=[[[0,2],null],[null,[0,2]]]],["auf den",p],["auf der",p],["auf ter",o],["auf",c=[[[0,1],null],[null,[0,1]]]],["aus 'm",p],["aus dem",p],["aus den",p],["aus der",p],["aus m",p],["aus",c],["aus'm",p],["az-",l],["aš-",l],["aḍ-",l],["aḏ-",l],["aṣ-",l],["aṭ-",l],["aṯ-",l],["aẓ-",l],["ben",n],["bij 't",o],["bij de",o],["bij den",o],["bij het",o],["bij t",o],["bij",n],["bin",n],["boven d",o],["boven d'",o],["d",n],["d'",l],["da",l],["dal",n],["dal'",n],["dall'",n],["dalla",n],["das",l],["de die le",a=[[null,[0,3]]]],["de die",o],["de l",o],["de l'",o],["de la",m=[[null,[0,2]],[[0,1],[1,2]]]],["de las",m],["de le",o],["de li",u=[[null,[0,2]],[[0,2],null]]],["de van der",a],["de",l],["de'",l],["deca",n],["degli",l],["dei",l],["del",l],["dela",s=[[[0,1],null]]],["dell'",l],["della",l],["delle",l],["dello",l],["den",l],["der",l],["des",l],["di",l],["die le",o],["do",n],["don",n],["dos",l],["du",l],["ed-",l],["edh-",l],["el",l],["el-",l],["en-",l],["er-",l],["es-",l],["esh-",l],["et-",l],["eth-",l],["ez-",l],["eš-",l],["eḍ-",l],["eḏ-",l],["eṣ-",l],["eṭ-",l],["eṯ-",l],["eẓ-",l],["het",n],["i",n],["il",s],["im",n],["in 't",o],["in de",o],["in den",o],["in der",u],["in het",o],["in t",o],["in",n],["l",n],["l'",n],["la",n],["las",n],["le",n],["les",l],["lo",l],["los",n],["lou",n],["of",n],["onder 't",o],["onder de",o],["onder den",o],["onder het",o],["onder t",o],["onder",n],["op 't",o],["op de",u],["op den",o],["op der",o],["op gen",o],["op het",o],["op t",o],["op ten",o],["op",n],["over 't",o],["over de",o],["over den",o],["over het",o],["over t",o],["over",n],["s",n],["s'",n],["sen",s],["t",n],["te",n],["ten",n],["ter",n],["tho",n],["thoe",n],["thor",n],["to",n],["toe",n],["tot",n],["uijt 't",o],["uijt de",o],["uijt den",o],["uijt te de",a],["uijt ten",o],["uijt",n],["uit 't",o],["uit de",o],["uit den",o],["uit het",o],["uit t",o],["uit te de",a],["uit ten",o],["uit",n],["unter",n],["v",n],["v.",n],["v.d.",n],["van 't",o],["van de l",a],["van de l'",a],["van de",o],["van de",o],["van den",o],["van der",o],["van gen",o],["van het",o],["van la",o],["van t",o],["van ter",o],["van van de",a],["van",l],["vander",n],["vd",n],["ver",n],["vom und zum",[[[0,3],null]]],["vom",l],["von 't",o],["von dem",p],["von den",p],["von der",p],["von t",o],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",p],["von",c],["voor 't",o],["voor de",o],["voor den",o],["voor in 't",a],["voor in t",a],["voor",n],["vor der",p],["vor",c],["z",s],["ze",s],["zu",c],["zum",l],["zur",l]],f.parseParticles=function(){function t(t,e,r){var i=t;t=r?t.toLowerCase():t;var s,n=[];e?(t=t.split("").reverse().join(""),s=f.PARTICLE_GIVEN_REGEXP):s=f.PARTICLE_FAMILY_REGEXP;for(var o=t.match(s);o;){var a,l=e?o[1].split("").reverse().join(""):o[1],u=!!(a=!!(a=!!o&&l)&&l.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&a.toUpperCase()!==a;if(!u)break;e?(n.push(i.slice(-1*l.length)),i=i.slice(0,-1*l.length)):(n.push(i.slice(0,l.length)),i=i.slice(l.length)),o=(t=o[2]).match(s)}if(e){t=t.split("").reverse().join(""),n.reverse();for(var c=1,p=n.length;c<p;c++)" "==n[c].slice(0,1)&&(n[c-1]+=" ");for(c=0,p=n.length;c<p;c++)" "==n[c].slice(0,1)&&(n[c]=n[c].slice(1));t=i.slice(0,t.length)}else t=i.slice(-1*t.length);return[u,t,n]}return function(e){(a=t(e.family))[0];var r=a[1],i=a[2];e.family=r;var s,n,o=(s=i.join(""),n=s.slice(-1),s=s.trim()," "===n&&["'","’"].indexOf(s.slice(-1))>-1&&(s+=" "),s);o&&(e["non-dropping-particle"]=o),function(t){if(!t.suffix&&t.given){var e=t.given.match(/(\s*,!*\s*)/);if(e){var r=t.given.indexOf(e[1]),i=t.given.slice(r+e[1].length),s=t.given.slice(r,r+e[1].length).replace(/\s*/g,"");"et al"!==i.replace(/\./g,"")||t["dropping-particle"]?(2===s.length&&(t["comma-suffix"]=!0),t.suffix=i):(t["dropping-particle"]=i,t["comma-dropping-particle"]=","),t.given=t.given.slice(0,r)}}}(e);(a=t(e.given,!0))[0];var a,l=a[1],u=a[2];e.given=l;var c=u.join("").trim();c&&(e["dropping-particle"]=c)}}(),e.exports=f},{}],324:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=function(){function t(t,e,r,s){if("number"!=typeof t)throw new TypeError("statusCode must be a number but was "+i(t));if(null===e)throw new TypeError("headers cannot be null");if("object"!==i(e))throw new TypeError("headers must be an object but was "+i(e));this.statusCode=t;var n={};for(var o in e)n[o.toLowerCase()]=e[o];this.headers=n,this.body=r,this.url=s}return t.prototype.isError=function(){return 0===this.statusCode||this.statusCode>=400},t.prototype.getBody=function(t){var e;if(0===this.statusCode)throw(e=new Error("This request to "+this.url+" resulted in a status code of 0. This usually indicates some kind of network error in a browser (e.g. CORS not being set up or the DNS failing to resolve):\n"+this.body.toString())).statusCode=this.statusCode,e.headers=this.headers,e.body=this.body,e.url=this.url,e;if(this.statusCode>=300)throw(e=new Error("Server responded to "+this.url+" with status code "+this.statusCode+":\n"+this.body.toString())).statusCode=this.statusCode,e.headers=this.headers,e.body=this.body,e.url=this.url,e;return t&&"string"!=typeof this.body?this.body.toString(t):this.body},t}();e.exports=s},{}],325:[function(t,e,r){"use strict";t("whatwg-fetch"),e.exports=self.fetch.bind(self)},{"whatwg-fetch":326}],326:[function(t,e,r){"use strict";!function(t){if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},s=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=a(t),e=l(e);var r=this.map[t];this.map[t]=r?r+","+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=l(e)},c.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),u(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),u(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),u(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var n=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},d.call(g.prototype),d.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var o=[301,302,303,307,308];_.redirect=function(t,e){if(-1===o.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=g,t.Response=_,t.fetch=function(t,r){return new Promise(function(i,s){var n=new g(t,r),o=new XMLHttpRequest;o.onload=function(){var t,e,r={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new c,t.split(/\r?\n/).forEach(function(t){var r=t.split(":"),i=r.shift().trim();if(i){var s=r.join(":").trim();e.append(i,s)}}),e)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var s="response"in o?o.response:o.responseText;i(new _(s,r))},o.onerror=function(){s(new TypeError("Network request failed"))},o.ontimeout=function(){s(new TypeError("Network request failed"))},o.open(n.method,n.url,!0),"include"===n.credentials&&(o.withCredentials=!0),"responseType"in o&&e.blob&&(o.responseType="blob"),n.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===n._bodyInit?null:n._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var r={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(r[Symbol.iterator]=function(){return r}),r}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function m(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function f(t){var e=new FileReader,r=m(e);return e.readAsArrayBuffer(t),r}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&i(t))this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!s(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t,e,r,i=p(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=m(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),i=0;i<e.length;i++)r[i]=String.fromCharCode(e[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,e){var r,i,s=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(r=e.method||this.method||"GET",i=r.toUpperCase(),n.indexOf(i)>-1?i:r),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function b(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(s))}}),e}function _(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:void 0)},{}],327:[function(t,e,r){"use strict";var i,s,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(t){s=a}}();var u,c=[],p=!1,m=-1;function f(){p&&u&&(p=!1,u.length?c=u.concat(c):m=-1,c.length&&h())}function h(){if(!p){var t=l(f);p=!0;for(var e=c.length;e;){for(u=c,c=[];++m<e;)u&&u[m].run();m=-1,e=c.length}u=null,p=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||p||l(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],328:[function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var l=1e3;n&&"number"==typeof n.maxKeys&&(l=n.maxKeys);var u=t.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var p,m,f,h,d=t[c].replace(a,"%20"),g=d.indexOf(r);g>=0?(p=d.substr(0,g),m=d.substr(g+1)):(p=d,m=""),f=decodeURIComponent(p),h=decodeURIComponent(m),i(o,f)?s(o[f])?o[f].push(h):o[f]=[o[f],h]:o[f]=h}return o};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],329:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=function(t){switch(i(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,l){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"===i(t)?o(a(t),function(i){var a=encodeURIComponent(s(i))+r;return n(t[i])?o(t[i],function(t){return a+encodeURIComponent(s(t))}).join(e):a+encodeURIComponent(s(t[i]))}).join(e):l?encodeURIComponent(s(l))+r+encodeURIComponent(s(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var a=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],330:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":328,"./encode":329}],331:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){var r,s=Object.prototype,n=s.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"===(void 0===e?"undefined":i(e)),p=t.regeneratorRuntime;if(p)c&&(e.exports=p);else{(p=t.regeneratorRuntime=c?e.exports:{}).wrap=x;var m="suspendedStart",f="suspendedYield",h="executing",d="completed",g={},b={};b[a]=function(){return this};var _=Object.getPrototypeOf,v=_&&_(_(C([])));v&&v!==s&&n.call(v,a)&&(b=v);var y=j.prototype=A.prototype=Object.create(b);E.prototype=y.constructor=j,j.constructor=E,j[u]=E.displayName="GeneratorFunction",p.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(y),t},p.awrap=function(t){return{__await:t}},O(S.prototype),S.prototype[l]=function(){return this},p.AsyncIterator=S,p.async=function(t,e,r,i){var s=new S(x(t,e,r,i));return p.isGeneratorFunction(e)?s:s.next().then(function(t){return t.done?t.value:s.next()})},O(y),y[u]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},p.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},p.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,s){return a.type="throw",a.arg=t,e.next=i,s&&(e.method="next",e.arg=r),!!s}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var s=i.arg;I(r)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:C(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=r),g}}}function x(t,e,r,i){var s=e&&e.prototype instanceof A?e:A,n=Object.create(s.prototype),o=new N(i||[]);return n._invoke=function(t,e,r){var i=m;return function(s,n){if(i===h)throw new Error("Generator is already running");if(i===d){if("throw"===s)throw n;return D()}for(r.method=s,r.arg=n;;){var o=r.delegate;if(o){var a=k(o,r);if(a){if(a===g)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var l=w(t,e,r);if("normal"===l.type){if(i=r.done?d:f,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=d,r.method="throw",r.arg=l.arg)}}}(t,r,o),n}function w(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function A(){}function E(){}function j(){}function O(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(r,s){function o(){return new Promise(function(e,o){!function e(r,s,o,a){var l=w(t[r],t,s);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"===i(c)&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(l.arg)}(r,s,e,o)})}return e=e?e.then(o,o):o()}}function k(t,e){var i=t.iterator[e.method];if(i===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,k(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var s=w(i,t.iterator,e.arg);if("throw"===s.type)return e.method="throw",e.arg=s.arg,e.delegate=null,g;var n=s.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,g):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=r,e.done=!0,e};return s.next=s}}return{next:D}}function D(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},{}],332:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.__esModule=!0;var s=t("then-request/lib/handle-qs.js"),n=t("http-response-object"),o=FormData;function a(t,e,r){var o,a=new XMLHttpRequest;if("string"!=typeof t)throw new TypeError("The method must be a string.");if(e&&"object"===i(e)&&(e=e.href),"string"!=typeof e)throw new TypeError("The URL/path must be a string.");if(null==r&&(r={}),"object"!==i(r))throw new TypeError("Options must be an object (or null).");t=t.toUpperCase(),r.headers=r.headers||{};var l=!(!(o=/^([\w-]+:)?\/\/([^\/]+)/.exec(e))||o[2]==location.host);for(var u in l||(r.headers["X-Requested-With"]="XMLHttpRequest"),r.qs&&(e=s.default(e,r.qs)),r.json&&(r.body=JSON.stringify(r.json),r.headers["content-type"]="application/json"),r.form&&(r.body=r.form),a.open(t,e,!1),r.headers)a.setRequestHeader(u.toLowerCase(),""+r.headers[u]);a.send(r.body?r.body:null);var c={};return a.getAllResponseHeaders().split("\r\n").forEach(function(t){var e=t.split(":");e.length>1&&(c[e[0].toLowerCase()]=e.slice(1).join(":").trim())}),new n(a.status,c,a.responseText,e)}r.FormData=o,r.default=a,e.exports=a,e.exports.default=a,e.exports.FormData=o},{"http-response-object":324,"then-request/lib/handle-qs.js":333}],333:[function(t,e,r){"use strict";r.__esModule=!0;var i=t("qs");r.default=function(t,e){var r=t.split("?"),s=r[0],n=r[1],o=(n||"").split("#")[0],a=n&&n.split("#").length>1?"#"+n.split("#")[1]:"",l=i.parse(o);for(var u in e)l[u]=e[u];return""!==(o=i.stringify(l))&&(o="?"+o),s+o+a}},{qs:335}],334:[function(t,e,r){"use strict";var i=String.prototype.replace,s=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(t){return i.call(t,s,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],335:[function(t,e,r){"use strict";var i=t("./stringify"),s=t("./parse"),n=t("./formats");e.exports={formats:n,parse:s,stringify:i}},{"./formats":334,"./parse":336,"./stringify":337}],336:[function(t,e,r){"use strict";var i=t("./utils"),s=Object.prototype.hasOwnProperty,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(t,e,r){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,n=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(i),a=o?i.slice(0,o.index):i,l=[];if(a){if(!r.plainObjects&&s.call(Object.prototype,a)&&!r.allowPrototypes)return;l.push(a)}for(var u=0;null!==(o=n.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&s.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(o[1])}return o&&l.push("["+i.slice(o.index)+"]"),function(t,e,r){for(var i=e,s=t.length-1;s>=0;--s){var n,o=t[s];if("[]"===o)n=(n=[]).concat(i);else{n=r.plainObjects?Object.create(null):{};var a="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(a,10);!isNaN(l)&&o!==a&&String(l)===a&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(n=[])[l]=i:n[a]=i}i=n}return i}(l,e,r)}};e.exports=function(t,e){var r=e?i.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||i.isRegExp(r.delimiter)?r.delimiter:n.delimiter,r.depth="number"==typeof r.depth?r.depth:n.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:n.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:n.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:n.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:n.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:n.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:n.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:n.strictNullHandling,""===t||null==t)return r.plainObjects?Object.create(null):{};for(var a="string"==typeof t?function(t,e){for(var r={},i=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=e.parameterLimit===1/0?void 0:e.parameterLimit,a=i.split(e.delimiter,o),l=0;l<a.length;++l){var u,c,p=a[l],m=p.indexOf("]="),f=-1===m?p.indexOf("="):m+1;-1===f?(u=e.decoder(p,n.decoder),c=e.strictNullHandling?null:""):(u=e.decoder(p.slice(0,f),n.decoder),c=e.decoder(p.slice(f+1),n.decoder)),s.call(r,u)?r[u]=[].concat(r[u]).concat(c):r[u]=c}return r}(t,r):t,l=r.plainObjects?Object.create(null):{},u=Object.keys(a),c=0;c<u.length;++c){var p=u[c],m=o(p,a[p],r);l=i.merge(l,m,r)}return i.compact(l)}},{"./utils":338}],337:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("./utils"),n=t("./formats"),o={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Date.prototype.toISOString,l={delimiter:"&",encode:!0,encoder:s.encode,encodeValuesOnly:!1,serializeDate:function(t){return a.call(t)},skipNulls:!1,strictNullHandling:!1},u=function t(e,r,i,n,o,a,u,c,p,m,f,h){var d=e;if("function"==typeof u)d=u(r,d);else if(d instanceof Date)d=m(d);else if(null===d){if(n)return a&&!h?a(r,l.encoder):r;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||s.isBuffer(d))return a?[f(h?r:a(r,l.encoder))+"="+f(a(d,l.encoder))]:[f(r)+"="+f(String(d))];var g,b=[];if(void 0===d)return b;if(Array.isArray(u))g=u;else{var _=Object.keys(d);g=c?_.sort(c):_}for(var v=0;v<g.length;++v){var y=g[v];o&&null===d[y]||(b=Array.isArray(d)?b.concat(t(d[y],i(r,y),i,n,o,a,u,c,p,m,f,h)):b.concat(t(d[y],r+(p?"."+y:"["+y+"]"),i,n,o,a,u,c,p,m,f,h)))}return b};e.exports=function(t,e){var r=t,a=e?s.assign({},e):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===a.delimiter?l.delimiter:a.delimiter,p="boolean"==typeof a.strictNullHandling?a.strictNullHandling:l.strictNullHandling,m="boolean"==typeof a.skipNulls?a.skipNulls:l.skipNulls,f="boolean"==typeof a.encode?a.encode:l.encode,h="function"==typeof a.encoder?a.encoder:l.encoder,d="function"==typeof a.sort?a.sort:null,g=void 0!==a.allowDots&&a.allowDots,b="function"==typeof a.serializeDate?a.serializeDate:l.serializeDate,_="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:l.encodeValuesOnly;if(void 0===a.format)a.format=n.default;else if(!Object.prototype.hasOwnProperty.call(n.formatters,a.format))throw new TypeError("Unknown format option provided.");var v,y,x=n.formatters[a.format];"function"==typeof a.filter?r=(y=a.filter)("",r):Array.isArray(a.filter)&&(v=y=a.filter);var w,A=[];if("object"!==i(r)||null===r)return"";w=a.arrayFormat in o?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var E=o[w];v||(v=Object.keys(r)),d&&v.sort(d);for(var j=0;j<v.length;++j){var O=v[j];m&&null===r[O]||(A=A.concat(u(r[O],O,E,p,m,f?h:null,y,d,g,b,x,_)))}var S=A.join(c),k=!0===a.addQueryPrefix?"?":"";return S.length>0?k+S:""}},{"./formats":334,"./utils":338}],338:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=Object.prototype.hasOwnProperty,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();r.arrayToObject=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(r[i]=t[i]);return r},r.merge=function(t,e,n){if(!e)return t;if("object"!==i(e)){if(Array.isArray(t))t.push(e);else{if("object"!==i(t))return[t,e];(n.plainObjects||n.allowPrototypes||!s.call(Object.prototype,e))&&(t[e]=!0)}return t}if("object"!==i(t))return[t].concat(e);var o=t;return Array.isArray(t)&&!Array.isArray(e)&&(o=r.arrayToObject(t,n)),Array.isArray(t)&&Array.isArray(e)?(e.forEach(function(e,o){s.call(t,o)?t[o]&&"object"===i(t[o])?t[o]=r.merge(t[o],e,n):t.push(e):t[o]=e}),t):Object.keys(e).reduce(function(t,i){var o=e[i];return s.call(t,i)?t[i]=r.merge(t[i],o,n):t[i]=o,t},o)},r.assign=function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},r.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},r.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",i=0;i<e.length;++i){var s=e.charCodeAt(i);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?r+=e.charAt(i):s<128?r+=n[s]:s<2048?r+=n[192|s>>6]+n[128|63&s]:s<55296||s>=57344?r+=n[224|s>>12]+n[128|s>>6&63]+n[128|63&s]:(i+=1,s=65536+((1023&s)<<10|1023&e.charCodeAt(i)),r+=n[240|s>>18]+n[128|s>>12&63]+n[128|s>>6&63]+n[128|63&s])}return r},r.compact=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],s=0;s<e.length;++s)for(var n=e[s],o=n.obj[n.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];"object"===i(c)&&null!==c&&-1===r.indexOf(c)&&(e.push({obj:o,prop:u}),r.push(c))}return function(t){for(var e;t.length;){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var i=[],s=0;s<e.length;++s)void 0!==e[s]&&i.push(e[s]);r.obj[r.prop]=i}}return e}(e)},r.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},r.isBuffer=function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},{}],339:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("./wikidata_time_to_date_object"),n={isNumericId:function(t){return/^[0-9]+$/.test(t)},isEntityId:function(t){return/^(Q|P)[0-9]+$/.test(t)},isItemId:function(t){return/^Q[0-9]+$/.test(t)},isPropertyId:function(t){return/^P[0-9]+$/.test(t)},getNumericId:function(t){if(!n.isEntityId(t))throw new Error("invalid wikidata id: ".concat(t));return t.replace(/Q|P/,"")}};n.wikidataTimeToDateObject=s;var o=function(t){return function(e){try{return t(e)}catch(t){return(e=e.time||e).replace("-00-00","-01-01")}}};n.wikidataTimeToEpochTime=o(function(t){return s(t).getTime()}),n.wikidataTimeToISOString=o(function(t){return s(t).toISOString()}),n.wikidataTimeToSimpleDay=o(function(t){if("object"===i(t)){var e=t,r=e.time,s=e.precision;t=9===s?r.replace("-01-01T","-00-00T"):10===s?r.replace("-01T","-00T"):r}return t.split("T")[0].replace(/^\+/,"").replace(/^(-?)0+/,"$1").replace(/-00$/,"").replace(/-00$/,"")}),n.getImageUrl=function(t,e){var r="https://commons.wikimedia.org/wiki/Special:FilePath/".concat(t);return"number"==typeof e&&(r+="?width=".concat(e)),r},e.exports=n},{"./wikidata_time_to_date_object":349}],340:[function(t,e,r){"use strict";var i=t("./helpers"),s=i.wikidataTimeToISOString,n=i.wikidataTimeToEpochTime,o=i.wikidataTimeToSimpleDay,a=function(t){return t.value},l={item:"Q",property:"P"},u=function(t,e){var r=t.value,i=r.id||l[r["entity-type"]]+r["numeric-id"];return"string"==typeof e?"".concat(e,":").concat(i):i},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"iso";return p[t]},p={iso:s,epoch:n,"simple-day":o,none:function(t){return t.time||t}},m={string:a,commonsMedia:a,url:a,"external-id":a,math:a,monolingualtext:function(t,e){return e.keepRichValues?t.value:t.value.text},"wikibase-item":function(t,e){return u(t,e.entityPrefix)},"wikibase-property":function(t,e){return u(t,e.propertyPrefix)},time:function(t,e){return c(e.timeConverter)(t.value)},quantity:function(t,e){var r=t.value,i=parseFloat(r.amount);return e.keepRichValues?{amount:parseFloat(r.amount),unit:r.unit.replace("http://www.wikidata.org/entity/",""),upperBound:parseFloat(r.upperBound),lowerBound:parseFloat(r.lowerBound)}:i},"globe-coordinate":function(t){return[t.value.latitude,t.value.longitude]},"geo-shape":a,"tabular-data":a};e.exports={parsers:m,parse:function(t,e,r,i){if(!t)return console.error("invalid claim",i),null;try{return m[t](e,r)}catch(e){throw"parsers[datatype] is not a function"===e.message&&(e.message="".concat(t," claim parser isn't implemented\n        Claim id: ").concat(i,"\n        Please report to https://github.com/maxlath/wikidata-sdk/issues")),e}}}},{"./helpers":339}],341:[function(t,e,r){"use strict";var i=t("./simplify_entity");e.exports={wd:{entities:function(t){var e=(t=t.body||t).entities;return Object.keys(e).forEach(function(t){e[t]=i(e[t])}),e}}}},{"./simplify_entity":343}],342:[function(t,e,r){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=t("./parse_claim").parse,o=t("../utils/utils").uniq,a=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var s=f(r).propertyPrefix,n={};for(var o in t){var a=t[o];s&&(o=s+":"+o),n[o]=l.apply(void 0,[a].concat(r))}return n},l=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];if(null==t||0===t.length)return[];var n=f(r),a=n.keepNonTruthy,l=n.areSubSnaks;return a||l||(t=c(t)),(t=t.map(function(t){return m.apply(void 0,[t].concat(r))}).filter(p))[0]&&"object"!==s(t[0])?o(t):t},u=function(t,e){var r=e.rank;return t[r]||(t[r]=[]),t[r].push(e),t},c=function(t){var e=t.reduce(u,{});return e.preferred||e.normal||[]},p=function(t){return null!=t},m=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var s,o,l,u,c=r=f(r),p=c.keepQualifiers,m=c.keepReferences,h=c.keepIds,d=c.keepHashes,g=c.keepTypes,b=t.mainsnak;if(b){if(s=b.datatype,!(o=b.datavalue))return null}else{if(!t||!t.datavalue)return null;o=t.datavalue,s=t.datatype,t.hash?l=!0:u=!0}var _=n(s,o,r,t.id);if(l){if(!d&&!g)return _;var v={value:_};return d&&(v.hash=t.hash),g&&(v.type=s),v}if(u)return g?{type:s,value:_}:_;if(!(p||m||h||g))return _;var y={value:_};g&&(y.type=s);var x=Object.assign({},r,{areSubSnaks:!0,keepHashes:d});return p&&(y.qualifiers=a(t.qualifiers,x)),m&&(t.references=t.references||[],y.references=t.references.map(function(t){var e=a(t.snaks,x);return d?{snaks:e,hash:t.hash}:e})),h&&(y.id=t.id),y},f=function(t){if(null==t)return{};if(t[0]&&"object"===s(t[0]))return t[0];var e=i(t,3);return{entityPrefix:e[0],propertyPrefix:e[1],keepQualifiers:e[2]}};e.exports={simplifyClaims:a,simplifyPropertyClaims:l,simplifyClaim:m}},{"../utils/utils":360,"./parse_claim":340}],343:[function(t,e,r){"use strict";var i=t("./simplify_claims").simplifyClaims,s=t("./simplify_text_attributes"),n=t("./simplify_sitelinks");e.exports=function(t,e){var r={id:t.id,type:t.type,modified:t.modified};return o(t,r,"labels"),o(t,r,"descriptions"),o(t,r,"aliases"),null!=t.claims&&(r.claims=i(t.claims,e)),null!=t.sitelinks&&(r.sitelinks=n(t.sitelinks,e)),r};var o=function(t,e,r){null!=t[r]&&(e[r]=s[r](t[r]))}},{"./simplify_claims":342,"./simplify_sitelinks":344,"./simplify_text_attributes":346}],344:[function(t,e,r){"use strict";var i=t("./sitelinks_helpers").getSitelinkUrl;e.exports=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).addUrl;return Object.keys(t).reduce(s(t,e),{})};var s=function(t,e){return function(r,s){var n=t[s].title;return r[s]=e?{title:n,url:i(s,n)}:n,r}}},{"./sitelinks_helpers":347}],345:[function(t,e,r){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.exports=function(t){"string"==typeof t&&(t=JSON.parse(t));var e=t.head.vars,r=t.results.bindings;if(1===e.length){var n=e[0];return r.map(function(t){return s(t[n])}).filter(function(t){return null!=t})}var o=i(p(e),2),a=o[0],l=o[1];return r.map(m(a,l))};var s=function(t){if(t){var e=t.datatype;return e=e&&e.replace("http://www.w3.org/2001/XMLSchema#",""),(n[t.type]||a(e))(t)}},n={uri:function(t){return c(t.value)},bnode:function(){return null}},o=function(t){return parseFloat(t.value)},a=function(t){return t=t&&t.replace("http://www.w3.org/2001/XMLSchema#",""),l[t]||u},l={decimal:o,integer:o,float:o,double:o,boolean:function(t){return"true"===t.value}},u=function(t){return t.value},c=function(t){return t.replace("http://www.wikidata.org/entity/","").replace("http://www.wikidata.org/prop/direct/","")},p=function(t){var e=[],r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var l=o.value;t.indexOf("".concat(l,"Label"))>-1?e.push(l):/^\w+Label$/.test(l)||r.push(l)}}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return[e,r]},m=function(t,e){return function(r){var i={},n=!0,o=!1,a=void 0;try{for(var l,u=t[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value,p=s(r[c]);if(null!=p){var m=r["".concat(c,"Label")]&&r["".concat(c,"Label")].value;i[c]={value:p,label:m}}}}catch(t){o=!0,a=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}var f=!0,h=!1,d=void 0;try{for(var g,b=e[Symbol.iterator]();!(f=(g=b.next()).done);f=!0){var _=g.value;i[_]=s(r[_])}}catch(t){h=!0,d=t}finally{try{f||null==b.return||b.return()}finally{if(h)throw d}}return i}}},{}],346:[function(t,e,r){"use strict";var i=function(t){return function(e){return Object.keys(e).reduce(s(e,t),{})}},s=function(t,e){return function(r,i){var s=t[i];return r[i]=e?s.map(n):s.value,r}},n=function(t){return t.value},o=i(!1);e.exports={labels:o,descriptions:o,aliases:i(!0)}},{}],347:[function(t,e,r){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=t("../utils/utils"),n=s.fixedEncodeURIComponent,o=s.replaceSpaceByUnderscores,a=s.isPlainObject,l=t("./helpers").isPropertyId,u=t("./sitelinks_languages"),c=function(t){if("commons"===t)return{lang:"en",project:"commons"};if("wikidata"===t)return{lang:"en",project:"wikidata"};var e=i(t.split("wik"),3),r=e[0],s=e[1];if(null!=e[2])throw new Error("invalid sitelink: ".concat(t));if(-1===u.indexOf(r))throw new Error("sitelink lang not found: ".concat(r));var n=p[s];if(!n)throw new Error("sitelink project not found: ".concat(n));return{lang:r,project:n}},p={i:"wikipedia",isource:"wikisource",iquote:"wikiquote",tionary:"wiktionary",ibooks:"wikibooks",iversity:"wikiversity",ivoyage:"wikivoyage",inews:"wikinews"};e.exports={getSitelinkUrl:function(t,e){if(a(t)&&(e=t.title,t=t.site),!t)throw new Error("missing a site");if(!e)throw new Error("missing a title");if("commons"===t)return"https://commons.wikimedia.org/wiki/".concat(e);if("wikidata"===t)return l(e)?"".concat("https://www.wikidata.org/wiki/","Property:").concat(e):"".concat("https://www.wikidata.org/wiki/").concat(e);var r=c(t),i=r.lang,s=r.project;return e=n(o(e)),"https://".concat(i,".").concat(s,".org/wiki/").concat(e)},getSitelinkData:c,isSitelinkKey:function(t){try{return c(t),!0}catch(t){return!1}}}},{"../utils/utils":360,"./helpers":339,"./sitelinks_languages":348}],348:[function(t,e,r){"use strict";e.exports=["aa","ab","ace","ady","af","ak","als","am","an","ang","ar","arc","arz","as","ast","atj","av","ay","az","azb","ba","bar","bat_smg","bcl","be","be_x_old","bg","bh","bi","bjn","bm","bn","bo","bpy","br","bs","bug","bxr","ca","cbk_zam","cdo","ce","ceb","ch","cho","chr","chy","ckb","co","commons","cr","crh","cs","csb","cu","cv","cy","da","de","din","diq","dsb","dty","dv","dz","ee","el","eml","en","eo","es","et","eu","ext","fa","ff","fi","fiu_vro","fj","fo","fr","frp","frr","fur","fy","ga","gag","gan","gd","gl","glk","gn","gom","got","gu","gv","ha","hak","haw","he","hi","hif","ho","hr","hsb","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","ilo","io","is","it","iu","ja","jam","jbo","jv","ka","kaa","kab","kbd","kbp","kg","ki","kj","kk","kl","km","kn","ko","koi","kr","krc","ks","ksh","ku","kv","kw","ky","la","lad","lb","lbe","lez","lg","li","lij","lmo","ln","lo","lrc","lt","ltg","lv","mai","map_bms","mdf","mediawiki","meta","mg","mh","mhr","mi","min","mk","ml","mn","mo","mr","mrj","ms","mt","mus","mwl","my","myv","mzn","na","nah","nap","nds","nds_nl","ne","new","ng","nl","nn","no","nov","nrm","nso","nv","ny","oc","olo","om","or","os","pa","pag","pam","pap","pcd","pdc","pfl","pi","pih","pl","pms","pnb","pnt","ps","pt","qu","rm","rmy","rn","ro","roa_rup","roa_tara","ru","rue","rw","sa","sah","sc","scn","sco","sd","se","sg","sh","si","simple","sk","sl","sm","sn","so","species","sq","sr","srn","ss","st","stq","su","sv","sw","szl","ta","tcy","te","tet","tg","th","ti","tk","tl","tn","to","tpi","tr","ts","tt","tum","tw","ty","tyv","udm","ug","uk","ur","uz","ve","vec","vep","vi","vls","vo","wa","war","wo","wuu","xal","xh","xmf","yi","yo","za","zea","zh","zh_classical","zh_min_nan","zh_yue","zu"]},{}],349:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.exports=function(t){"object"===i(t)&&(t=t.time);var e=t[0],r=t.slice(1),n=s(e,r);return"Invalid Date"===n.toString()?a(e,r):n};var s=function(t,e){return"-"===t?o(e):n(e)},n=function(t){return new Date(t)},o=function(t){var e,r=t.split("-")[0];return e=4===r.length?"-00".concat(t):5===r.length?"-0".concat(t):"-".concat(t),new Date(e)},a=function(t,e){var r=e.split("T")[0].split("-")[0];return s(t,r)}},{}],350:[function(t,e,r){"use strict";var i=e.exports={};i.searchEntities=t("./queries/search_entities"),i.getEntities=t("./queries/get_entities"),i.getManyEntities=t("./queries/get_many_entities"),i.getWikidataIdsFromSitelinks=t("./queries/get_wikidata_ids_from_sitelinks"),i.sparqlQuery=t("./queries/sparql_query"),i.getReverseClaims=t("./queries/get_reverse_claims"),i.getRevisions=t("./queries/get_revisions"),i.parse=t("./helpers/parse_responses");var s=t("./helpers/simplify_claims"),n=t("./helpers/simplify_sparql_results");i.simplify=t("../lib/helpers/simplify_text_attributes"),i.simplify.entity=t("../lib/helpers/simplify_entity"),i.simplify.claim=s.simplifyClaim,i.simplify.propertyClaims=s.simplifyPropertyClaims,i.simplify.claims=s.simplifyClaims,i.simplify.sitelinks=t("../lib/helpers/simplify_sitelinks"),i.simplify.sparqlResults=n,i.simplifySparqlResults=t("./helpers/simplify_sparql_results"),Object.assign(i,s),i.getWikidataIdsFromWikipediaTitles=i.getWikidataIdsFromSitelinks;var o=t("../lib/helpers/helpers"),a=t("../lib/helpers/sitelinks_helpers");Object.assign(i,o,a)},{"../lib/helpers/helpers":339,"../lib/helpers/simplify_entity":343,"../lib/helpers/simplify_sitelinks":344,"../lib/helpers/simplify_text_attributes":346,"../lib/helpers/sitelinks_helpers":347,"./helpers/parse_responses":341,"./helpers/simplify_claims":342,"./helpers/simplify_sparql_results":345,"./queries/get_entities":351,"./queries/get_many_entities":352,"./queries/get_reverse_claims":353,"./queries/get_revisions":354,"./queries/get_wikidata_ids_from_sitelinks":355,"./queries/search_entities":356,"./queries/sparql_query":357}],351:[function(t,e,r){"use strict";var i=t("../utils/build_url"),s=t("../utils/utils"),n=s.isPlainObject,o=s.forceArray,a=s.shortLang;e.exports=function(t,e,r,s){if(n(t)){var l=t;t=l.ids,e=l.languages,r=l.props,s=l.format}if(s=s||"json",!(t&&t.length>0))throw new Error("no id provided");(t=o(t)).length>50&&console.warn("getEntities accepts 50 ids max to match Wikidata API limitations:\n      this request won't get all the desired entities.\n      You can use getManyEntities instead to generate several request urls\n      to work around this limitation");var u={action:"wbgetentities",ids:t.join("|"),format:s};return e&&(e=o(e).map(a),u.languages=e.join("|")),r&&r.length>0&&(u.props=o(r).join("|")),i(u)}},{"../utils/build_url":358,"../utils/utils":360}],352:[function(t,e,r){"use strict";var i=t("./get_entities"),s=t("../utils/utils").isPlainObject;e.exports=function(t,e,r,o){if(s(t)){var a=t;t=a.ids,e=a.languages,r=a.props,o=a.format}if(!(t instanceof Array))throw new Error("getManyEntities expects an array of ids");return n(t).map(function(t){return i(t,e,r,o)})};var n=function(t){for(var e=[];t.length>0;){var r=t.slice(0,50);t=t.slice(50),e.push(r)}return e}},{"../utils/utils":360,"./get_entities":351}],353:[function(t,e,r){"use strict";var i=t("../helpers/helpers"),s=t("./sparql_query");function n(t,e,r,i){return"SELECT DISTINCT ?subject WHERE {\n    ?subject ".concat(t," ").concat(e," .\n    ").concat(r,"\n  }\n  LIMIT ").concat(i)}function o(t,e,r,i){return"SELECT DISTINCT ?subject WHERE {\n    ?subject ".concat(t," ?value .\n    FILTER (lcase(?value) = ").concat(e.toLowerCase(),")\n    ").concat(r,"\n  }\n  LIMIT ").concat(i)}e.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=r.limit,u=r.caseInsensitive,c=r.keepProperties;l=l||1e3;var p=u?o:n,m=function(t){i.isItemId(t)?t="wd:".concat(t):"string"==typeof t&&(t="'".concat(t,"'"));return t}(e),f=c?"":"FILTER NOT EXISTS { ?subject rdf:type wikibase:Property . } ",h=p(t=t instanceof Array?t.map(a).join("|"):a(t),m,f,l);return s(h)};var a=function(t){return"wdt:"+t}},{"../helpers/helpers":339,"./sparql_query":357}],354:[function(t,e,r){"use strict";var i=t("../utils/build_url"),s=t("../utils/utils").forceArray;e.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=1===(t=s(t)).length,o={action:"query",prop:"revisions"};return o.titles=t.join("|"),o.format=e.format||"json",r&&(o.rvlimit=e.limit||"max"),r&&e.start&&(o.rvstart=n(e.start)),r&&e.end&&(o.rvend=n(e.end)),i(o)};var n=function(t){return"number"==typeof t&&t<o?t:Math.trunc(new Date(t).getTime()/1e3)},o=new Date("2000-01-01").getTime()},{"../utils/build_url":358,"../utils/utils":360}],355:[function(t,e,r){"use strict";var i=t("../utils/build_url"),s=t("../utils/utils"),n=s.isPlainObject,o=s.forceArray,a=s.shortLang;e.exports=function(t,e,r,s,u){if(n(t)){var c=t;t=c.titles,e=c.sites,r=c.languages,s=c.props,u=c.format}if(u=u||"json",!(t&&t.length>0))throw new Error("no title provided");e&&e.length>0||(e=["enwiki"]),t=o(t),e=o(e).map(l),s=o(s);var p={action:"wbgetentities",titles:t.join("|"),sites:e.join("|"),format:u};return 1===e.length&&1===t.length&&(p.normalize=!0),r&&(r=o(r).map(a),p.languages=r.join("|")),s&&s.length>0&&(p.props=s.join("|")),i(p)};var l=function(t){return 2===t.length?"".concat(t,"wiki"):t}},{"../utils/build_url":358,"../utils/utils":360}],356:[function(t,e,r){"use strict";var i=t("../utils/build_url"),s=t("../utils/utils").isPlainObject;e.exports=function(t,e,r,n,o){if(s(t)){var a=t;t=a.search,e=a.language,r=a.limit,n=a.format,o=a.uselang}if(!(t&&t.length>0))throw new Error("search can't be empty");return i({action:"wbsearchentities",search:t,language:e=e||"en",limit:r=r||"20",format:n=n||"json",uselang:o=o||e})}},{"../utils/build_url":358,"../utils/utils":360}],357:[function(t,e,r){"use strict";var i=t("../utils/utils").fixedEncodeURIComponent;e.exports=function(t){var e=i(t);return"https://query.wikidata.org/sparql?format=json&query=".concat(e)}},{"../utils/utils":360}],358:[function(t,e,r){"use strict";var i="undefined"!=typeof location&&"undefined"!=typeof document,s=t(i?"./querystring_lite":"querystring");e.exports=function(t){return i&&(t.origin="*"),"https://www.wikidata.org/w/api.php?"+s.stringify(t)}},{"./querystring_lite":359,querystring:330}],359:[function(t,e,r){"use strict";e.exports={stringify:function(t){var e="";for(var r in t){var i=t[r];i&&(e+="&".concat(r,"=").concat(i))}return e=e.slice(1),encodeURI?encodeURI(e):e}}},{}],360:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.exports={shortLang:function(t){return t.toLowerCase().split(/[^a-z]/)[0]},forceArray:function(t){return"string"==typeof t&&(t=[t]),t||[]},isPlainObject:function(t){return!(!t||"object"!==i(t)||t instanceof Array)},fixedEncodeURIComponent:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,s)},replaceSpaceByUnderscores:function(t){return t.replace(/\s/g,"_")},uniq:function(t){return Array.from(new Set(t))}};var s=function(t){return"%"+t.charCodeAt(0).toString(16)}},{}],361:[function(t,e,r){e.exports={name:"citation-js",version:"0.4.0-7",description:"Citation.js converts formats like BibTeX, Wikidata JSON and ContentMine JSON to CSL-JSON to convert to other formats like APA, Vancouver and back to BibTeX.",main:"lib/index.js",directories:{doc:"docs/",test:"test/",lib:"src/"},homepage:"https://citation.js.org/",repository:{type:"git",url:"git+https://github.com/larsgw/citation.js.git"},keywords:["citation","bibtex","wikidata","contentmine","quickscrape","csl","citeproc"],files:["/lib","/bin","/build/citation.js","/build/citation.min.js"],dependencies:{"@babel/polyfill":"^7.0.0-beta.49",citeproc:"^2.1.206",commander:"^2.15.1","isomorphic-fetch":"^2.2.1","sync-request":"^5.0.0","wikidata-sdk":"^5.11.0"},devDependencies:{"@babel/cli":"^7.0.0-beta.49","@babel/core":"^7.0.0-beta.49","@babel/plugin-proposal-class-properties":"^7.0.0-beta.49","@babel/plugin-proposal-object-rest-spread":"^7.0.0-beta.49","@babel/plugin-proposal-unicode-property-regex":"^7.0.0-beta.49","@babel/preset-env":"^7.0.0-beta.49","@babel/register":"^7.0.0-beta.49","babel-eslint":"^8.2.3","babel-plugin-istanbul":"^4.1.6",babelify:"github:larsgw/babelify#patch-1",browserify:"^16.2.2","cross-env":"^5.1.6",disc:"^1.3.2","eslint-plugin-vuln-regex-detector":"^1.0.4","expect.js":"^0.3.1",glob:"^7.1.2",jsdoc:"^3.5.5","markdown-toc":"^1.2.0",minami:"^1.2.3",mocha:"^5.2.0","mock-CitRequire":"^3.0.2","npm-run-all":"^4.1.3",nyc:"^11.8.0",standard:"^11.0.1","uglify-js":"^3.3.27"},nyc:{CitRequire:["@babel/register"],sourceMap:!1,instrument:!1},standard:{parser:"babel-eslint",globals:["logger"]},browser:{"./test/citation.js":"./test/citation-browser.js"},scripts:{"--1--":"lint","lint:src":'standard "src/**/*.js"',"lint:test":'standard "test/**/*.js"',"lint:tools":'standard "tools/**/*.js"',"lint:bin":'standard "bin/**/*.js"',lint:"npm-run-all lint:*","--2--":"test",test:"cross-env TEST_MOCHA=true mocha --check-leaks -r @babel/register -R dot test/*.spec.js","test:live":"cross-env TEST_MOCK_HTTP=false npm test","test:regex":"eslint --parser babel-eslint --plugin vuln-regex-detector --rule 'vuln-regex-detector/no-vuln-regex: 2' \"src/**/*.js\"","test:update:wikidata":"node tools/api/wikidata.js","test:update:doi":"node tools/api/doi.js","test:update":"npm-run-all test:update:*","--3--":"coverage","coverage:test":"cross-env NODE_ENV=test nyc npm test","coverage:report":"nyc report --reporter=lcov > coverage.lcov","--4--":"compile",compile:"babel src -d lib --copy-files","--5--":"distributions","dist:debug":"node tools/build-debug.js","dist:regular-main":"node tools/build.js","dist:regular-test":"node tools/build-test.js","dist:minify-main":"uglifyjs --config-file .uglify.json build/citation.js -o build/citation.min.js","dist:minify-test":"uglifyjs --config-file .uglify.json build/test.citation.js -o build/test.citation.min.js","dist:regular":"npm-run-all dist:regular-*","dist:minify":"npm-run-all dist:minify-*","dist:main":"npm-run-all dist:*-main","dist:test":"npm-run-all dist:*-test",dist:"npm-run-all dist:*-*","--6--":"generate","generate:files":"npm run dist","generate:docs":"markdown-toc -i README.md && jsdoc -c .jsdoc.json","generate:disc":"node tools/disc.js",generate:"npm-run-all generate:*","--7--":"hooks",preversion:"npm run lint && npm run test",prepublishOnly:"npm run compile && npm run dist:main"},author:"Lars Willighagen (https://larsgw.github.io)",license:"MIT",bin:"bin/cmd.js",man:"bin/man/citation-js.1",bugs:{url:"https://github.com/larsgw/citation.js/issues"},engines:{node:">=6.0.0"}}},{}],362:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.get=r.getIds=r.format=void 0;var i=t("./static"),s=t("../get/registrar"),n=t("../parse/");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.getIds=function(){return this.data.map(function(t){return t.id})};r.format=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return s.format.apply(void 0,[t,(0,n.csl)(this.data)].concat(r))};r.get=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{(0,i.validateOutputOptions)(t)}catch(t){var e=t.message;logger.error("[get]",e)}var r,s=Object.assign({},this.defaultOptions,this._options.output,t),n=s.type,l=a(s.style.split("-"),2),u=l[0],c=l[1],p="citation"===u?"bibliography":"csl"===u?"data":u,m="string"===n?"text":"json"===n?"object":n;switch(p){case"bibliography":r={template:c,lang:s.lang,format:m,append:s.append,prepend:s.prepend};break;case"data":case"bibtex":case"bibtxt":r={type:m};break;default:logger.error("[get]","Invalid options")}var f=this.format(p,r),h=s.format;if("real"===h&&"html"===m&&"undefined"!=typeof document&&"function"==typeof document.createElement){var d=document.createElement("div");return d.innerHTML=f,d.firstChild}return"string"===h&&"object"===o(f)?JSON.stringify(f):f}},{"../get/registrar":395,"../parse/":399,"./static":368}],363:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=l(t("./log")),s=l(t("./options")),n=l(t("./set")),o=l(t("./sort")),a=l(t("./get"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this instanceof u?(this._options=e||{},this.log=[],this.data=[],this.set(t,e),this.options(e),this.save(),this):new u(t,e)}Object.assign(u.prototype,i,s,n,o,a),u.prototype[Symbol.iterator]=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.data,"t0",1);case 1:case"end":return t.stop()}},t,this)});var c=u;r.default=c},{"./get":362,"./log":364,"./options":365,"./set":366,"./sort":367}],364:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.save=r.undo=r.retrieveLastVersion=r.retrieveVersion=r.currentVersion=void 0;var i,s=(i=t("./index"))&&i.__esModule?i:{default:i};function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.currentVersion=function(){return this.log.length};r.retrieveVersion=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(t<=0||t>this.currentVersion())return null;var e=n(this.log[t-1],2),r=e[0],i=e[1],o=new s.default(JSON.parse(r),JSON.parse(i));return o.log=this.log.slice(0,t),o};r.undo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.retrieveVersion(this.currentVersion()-t)};r.retrieveLastVersion=function(){return this.retrieveVersion(this.currentVersion())};r.save=function(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this}},{"./index":363}],365:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultOptions=r.options=void 0;var i=t("./static");r.defaultOptions={format:"real",type:"json",style:"csl",lang:"en-US"};r.options=function(t,e){e&&this.save();try{(0,i.validateOptions)(t),Object.assign(this._options,t)}catch(t){var r=t.message;logger.warn("[options]",r)}return this}},{"./static":368}],366:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reset=r.setAsync=r.set=r.addAsync=r.add=void 0;var i,s=t("../parse/"),n=(i=t("../util/fetchId"))&&i.__esModule?i:{default:i};function o(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var n=t.apply(e,r);function o(t,e){try{var r=n[t](e),o=r.value}catch(t){return void s(t)}r.done?i(o):Promise.resolve(o).then(a,l)}function a(t){o("next",t)}function l(t){o("throw",t)}a()})}}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.add=function(t){var e,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0!==i&&!0!==o||this.save(),(e=this.data).push.apply(e,a((0,s.chain)(t,i))),this.data.filter(function(t){return!t.hasOwnProperty("id")}).forEach(function(t){t.id=(0,n.default)(r.getIds(),"temp_id_")}),this};var l,u=(l=o(regeneratorRuntime.mark(function t(e){var r,i,o,l=this,u=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>1&&void 0!==u[1]?u[1]:{},o=u.length>2&&void 0!==u[2]&&u[2],!0!==i&&!0!==o||this.save(),t.t0=(r=this.data).push,t.t1=r,t.t2=a,t.next=8,(0,s.chainAsync)(e,i);case 8:return t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4),this.data.filter(function(t){return!t.hasOwnProperty("id")}).forEach(function(t){t.id=(0,n.default)(l.getIds(),"temp_id_")}),t.abrupt("return",this);case 13:case"end":return t.stop()}},t,this)})),function(t){return l.apply(this,arguments)});r.addAsync=u;r.set=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0!==e&&!0!==r||this.save(),this.data=[],"boolean"!=typeof e?this.add(t,e):this.add(t)};var c,p=(c=o(regeneratorRuntime.mark(function t(e){var r,i,s=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},i=s.length>2&&void 0!==s[2]&&s[2],!0!==r&&!0!==i||this.save(),this.data=[],t.abrupt("return","boolean"!=typeof r?this.addAsync(e,r):this.addAsync(e));case 5:case"end":return t.stop()}},t,this)})),function(t){return c.apply(this,arguments)});r.setAsync=p;r.reset=function(t){return t&&this.save(),this.data=[],this._options={},this}},{"../parse/":399,"../util/fetchId":443}],367:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sort=void 0;var i,s=t("../get/modules/label"),n=(i=t("../get/name"))&&i.__esModule?i:{default:i};function o(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=function(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label"===e)?(0,s.getLabel)(t):t[e];switch(e){case"author":case"editor":return r.map(function(t){return t.literal||t.family||(0,n.default)(t)});case"accessed":case"issued":return r["date-parts"][0];case"page":return r.split("-").map(function(t){return parseInt(t)});case"edition":case"issue":case"volume":return r=parseInt(r),isNaN(r)?-1/0:r;default:return r||-1/0}},l=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:/^!/.test(r);r=r.replace(/^!/,"");var s=a(t,r),n=a(e,r);return s===n?0:i!==s>n?1:-1};r.sort=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0)&&this.save(),this.data.sort("function"==typeof t?t:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,r){for(var i=e.slice(),s=0;!s&&i.length;)s=l(t,r,i.shift());return s}}.apply(void 0,o(t).concat(["label"]))),this}},{"../get/modules/label":391,"../get/name":394}],368:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.validateOutputOptions=r.validateOptions=void 0;var s=["real","string"],n=["json","html","string","rtf"],o=["csl","bibtex","bibtxt","citation-*"],a=["string","function"],l=function(t){if("object"!==i(t))throw new TypeError("Options not an object!");var e=t.format,r=t.type,l=t.style,u=t.lang,c=t.append,p=t.prepend;if(e&&!s.includes(e))throw new TypeError('Option format ("'.concat(e,'") should be one of: ').concat(s));if(r&&!n.includes(r))throw new TypeError('Option type ("'.concat(r,'") should be one of: ').concat(n));if(l&&!o.includes(l)&&!/^citation/.test(l))throw new TypeError('Option style ("'.concat(l,'") should be one of: ').concat(o));if(u&&"string"!=typeof u)throw new TypeError("Option lang should be a string, but is a ".concat(i(u)));if(p&&!a.includes(i(p)))throw new TypeError("Option prepend should be a string or a function, but is a ".concat(i(p)));if(c&&!a.includes(i(c)))throw new TypeError("Option append should be a string or a function, but is a ".concat(i(c)));if(/^citation/.test(l)&&"json"===r)throw new Error("Combination type/style of json/citation-* is not valid: ".concat(r,"/").concat(l));return!0};r.validateOutputOptions=l;r.validateOptions=function(t){if("object"!==i(t))throw new TypeError("Options not an object!");if(t.output)l(t.output);else{if(t.maxChainLength&&"number"!=typeof t.maxChainLength)throw new TypeError("Option maxChainLength should be a number");if(t.forceType&&"string"!=typeof t.forceType)throw new TypeError("Option forceType should be a string")}return!0}},{}],369:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=t("../parse/"),n=(i=t("../Cite/index"))&&i.__esModule?i:{default:i};var o,a,l=(o=regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n.default,t.next=3,e;case 3:return t.t1=t.sent,t.t2=r,t.abrupt("return",new t.t0(t.t1,t.t2));case 6:case"end":return t.stop()}},t,this)}),a=function(){var t=this,e=arguments;return new Promise(function(r,i){var s=o.apply(t,e);function n(t,e){try{var n=s[t](e),o=n.value}catch(t){return void i(t)}n.done?r(o):Promise.resolve(o).then(a,l)}function a(t){n("next",t)}function l(t){n("throw",t)}a()})},function(t,e){return a.apply(this,arguments)}),u=function(t,e,r){var i=(0,s.chainAsync)(t);return"function"!=typeof e||r||(r=e,e=void 0),"function"==typeof r?void i.then(function(t){return r(new n.default(t,e))}):l(i,e)};r.default=u},{"../Cite/index":363,"../parse/":399}],370:[function(t,e,r){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(t){var e=i(t["date-parts"],1)[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if(3!==e.length)return"";var s=i(e.map(function(t){return t.toString()}),3),n=s[0],o=s[1],a=s[2];return[n.padStart(4,"0"),o.padStart(2,"0"),a.padStart(2,"0")].join(r)};r.default=s},{}],371:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.textDict=r.htmlDict=r.get=r.list=r.has=r.remove=r.add=r.register=void 0;var i,s=(i=t("../util/register"))&&i.__esModule?i:{default:i};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=new s.default({html:{bibliographyContainer:['<div class="csl-bib-body>',"</div>"],entry:['<div class="csl-entry>',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["","\n"],entry:["","\n"],list:["\n",""],listItem:["\t","\n"]}});r.register=o;r.add=function(t,e){!function(t,e){if("string"!=typeof t)throw new TypeError("Invalid dict name, expected string, got ".concat(n(t)));if("object"!==n(e))throw new TypeError("Invalid dict, expected object, got ".concat(n(e)));for(var r in e){var i=e[r];if(!Array.isArray(i)||i.some(function(t){return"string"!=typeof t}))throw new TypeError('Invalid dict entry "'.concat(r,'", expected array of strings'))}}(t,e),o.set(t,e)};r.remove=function(t){o.remove(t)};r.has=function(t){return o.has(t)};r.list=function(){return o.list()};r.get=function(t){if(o.has(t))return o.get(t);logger.error("[get]",'Dict "'.concat(t,'" unavailable'))};r.htmlDict={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"};r.textDict={wr_start:"",wr_end:"\n",en_start:"",en_end:"\n",ul_start:"\n",ul_end:"",li_start:"\t",li_end:"\n"}},{"../util/register":445}],372:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={bibtex:!0,date:!0,name:!0,dict:!0,bibtxt:!0,json:!0,label:!0};Object.defineProperty(r,"date",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"name",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"bibtxt",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"json",{enumerable:!0,get:function(){return m.getJsonWrapper}}),Object.defineProperty(r,"label",{enumerable:!0,get:function(){return f.getLabel}}),r.dict=r.bibtex=void 0;var s=d(t("./date")),n=d(t("./name"));t("./modules/");var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("./dict"));r.dict=o;var a=d(t("./modules/bibtex/json")),l=d(t("./modules/bibtex/label")),u=d(t("./modules/bibtex/text")),c=d(t("./modules/bibtex/type")),p=d(t("./modules/bibtex/bibtxt")),m=t("./modules/json"),f=t("./modules/label"),h=t("./registrar");function d(t){return t&&t.__esModule?t:{default:t}}Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return h[t]}}))});var g={json:a.default,label:l.default,text:u.default,type:c.default};r.bibtex=g},{"./date":370,"./dict":371,"./modules/":389,"./modules/bibtex/bibtxt":373,"./modules/bibtex/json":375,"./modules/bibtex/label":376,"./modules/bibtex/text":377,"./modules/bibtex/type":378,"./modules/json":390,"./modules/label":391,"./name":394,"./registrar":395}],373:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.getBibtxt=void 0;var i,s=(i=t("./json"))&&i.__esModule?i:{default:i},n=t("../../dict");function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a=function(t,e){var r=t.map(function(t){var r=(0,s.default)(t);r.properties.type=r.type;var i=Object.entries(r.properties).map(function(t){var r=o(t,2),i=r[0],s=r[1];return e.listItem.join("".concat(i,": ").concat(s))}).join("");return e.entry.join("[".concat(r.label,"]").concat(e.list.join(i)))}).join("\n");return e.bibliographyContainer.join(r)};r.getBibtxt=a;var l=function(t,e){var r=(0,n.get)(e?"html":"text");return a(t,r)};r.default=l},{"../../dict":371,"./json":375}],374:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=t("../../dict"),n=(i=t("./json"))&&i.__esModule?i:{default:i},o=t("./text"),a=t("./bibtxt");var l=function(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.type,o=r.format,a=void 0===o?i||"text":o;return"object"===a?e.map(n.default):(0,s.has)(a)?t(e,(0,s.get)(a)):""}},u={bibtex:l(o.getBibtex),bibtxt:l(a.getBibtxt)};r.default=u},{"../../dict":371,"./bibtxt":373,"./json":375,"./text":377}],375:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(t("./type")),s=a(t("./label")),n=a(t("../../name")),o=a(t("../../date"));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e={label:(0,s.default)(t),type:(0,i.default)(t.type)},r={},a={"collection-title":"series","container-title":"chapter"===t.type?"booktitle":"journal",edition:"edition",event:"organization",DOI:"doi",ISBN:"isbn",ISSN:"issn",issue:"number",language:"language",note:"note","number-of-pages":"numpages",PMID:"pmid",PMCID:"pmcid",publisher:"publisher","publisher-place":"address",title:"title",URL:"url",volume:"volume"};for(var l in a)t.hasOwnProperty(l)&&(r[a[l]]=t[l]+"");return t.author&&(r.author=t.author.map(function(t){return(0,n.default)(t,!0)}).join(" and ")),t.editor&&(r.editor=t.editor.map(function(t){return(0,n.default)(t,!0)}).join(" and ")),!t.note&&t.accessed&&(r.note="[Online; accessed ".concat((0,o.default)(t.accessed),"]")),t.page&&(r.pages=t.page.replace("-","--")),t.issued&&3===t.issued["date-parts"][0].length&&(r.date=(0,o.default)(t.issued),r.year=t.issued["date-parts"][0][0].toString(),r.month=t.issued["date-parts"][0][1].toString(),r.day=t.issued["date-parts"][0][2].toString()),e.properties=r,e};r.default=l},{"../../date":370,"../../name":394,"./label":376,"./type":378}],376:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t["citation-label"])return t["citation-label"];var e="";return t.author&&(e+=t.author[0].family||t.author[0].literal),t.issued&&t.issued["date-parts"]&&t.issued["date-parts"][0]&&(e+=t.issued["date-parts"][0][0]),t["year-suffix"]?e+=t["year-suffix"]:t.title&&(e+=t.title.match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),e};r.default=i},{}],377:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.getBibtex=void 0;var i,s=(i=t("./json"))&&i.__esModule?i:{default:i},n=t("../../dict");function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a={"|":"{\\textbar}","<":"{\\textless}",">":"{\\textgreater}","~":"{\\textasciitilde}","^":"{\\textasciicircum}","\\":"{\\textbackslash}","{":"\\{\\vphantom{\\}}","}":"\\vphantom{\\{}\\}"},l=["title"],u={"":"","{":"}","{{":"}}"},c=function(t,e){var r=t.map(function(t){var r=(0,s.default)(t),i=Object.entries(r.properties).map(function(t){var r=o(t,2),i=r[0],s=r[1];return s=s.replace(/[|<>~^\\{}]/g,function(t){return a[t]}),e.listItem.join("".concat(i,"=").concat(function(t,e){var r=isNaN(+e)?l.includes(t)?"{{":"{":"";return r+e+u[r]}(i,s),","))}).join("");return e.entry.join("@".concat(r.type,"{").concat(r.label,",").concat(e.list.join(i),"}"))}).join("");return e.bibliographyContainer.join(r)};r.getBibtex=c;var p=function(t,e){var r=(0,n.get)(e?"html":"text");return c(t,r)};r.default=p},{"../../dict":371,"./json":375}],378:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(t){switch(t){case"article":case"article-journal":case"article-magazine":case"article-newspaper":return"article";case"book":return"book";case"chapter":return"incollection";case"manuscript":return"unpublished";case"paper-conference":return"inproceedings";case"patent":return"patent";case"report":return"techreport";case"thesis":return"phdthesis";case"graphic":case"interview":case"motion_picture":case"personal_communication":case"webpage":return"misc";default:return logger.warn("CSL publication type not recognized: ".concat(t,'}. Interpreting as "misc".')),"misc"}};r.default=i},{}],379:[function(t,e,r){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(r,"__esModule",{value:!0}),r.getWrappedEntry=void 0;var s=function(t,e){return"function"==typeof e?e(t):"string"==typeof e?e:""},n=/^([^>]+>)([\s\S]+)(<[^<]+)$/i;r.getWrappedEntry=function(t,e,r){var o=r.prepend,a=r.append,l=i(t.match(n)||[],4),u=l[1],c=void 0===u?"":u,p=l[2],m=void 0===p?t:p,f=l[3],h=void 0===f?"":f;return c+s(e,o)+m+s(e,a)+h}},{}],380:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getPrefixedEntry=r.getAttributedEntry=void 0;var i=function(t,e,r){return t.replace(/^\s*<[a-z]+/i,"$& data-".concat(e,'="').concat(r,'"'))};r.getAttributedEntry=i;r.getPrefixedEntry=function(t,e){return i(t,"csl-entry-id",e)}},{}],381:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.template,i=void 0===r?"apa":r,a=e.lang,l=void 0===a?"en-US":a,u=e.format,c=void 0===u?"text":u,p=(0,s.default)(t,i,l,c),m=p.updateItems(t.map(function(t){return t.id})),f=(_=p.makeBibliography(),v=2,function(t){if(Array.isArray(t))return t}(_)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(_,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),h=f[0],d=h.bibstart,g=h.bibend,b=f[1].map(function(t,e){return(0,n.getPrefixedEntry)(t,m[e])});var _,v;if(e.append||e.prepend){var y=e.append,x=e.prepend,w=t.reduce(function(t,e){return t[e.id]=e,t},{}),A=m.map(function(t){return w[t]});b.forEach(function(t,e){b[e]=(0,o.getWrappedEntry)(t,A[e],{append:y,prepend:x})})}return d+b.join("")+g};var i,s=(i=t("./engines"))&&i.__esModule?i:{default:i},n=t("./attr.js"),o=t("./affix")},{"./affix":379,"./attr.js":380,"./engines":383}],382:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.template,i=void 0===r?"apa":r,n=e.lang,o=void 0===n?"en-US":n,a=e.format,l=void 0===a?"text":a,u=t.map(function(t){var e=t.id;return e}),c=e.entry?[].concat(e.entry):u,p=(0,s.default)(t,i,o,l);return p.updateItems(u),p.previewCitationCluster({citationItems:c.map(function(t){return{id:t}}),properties:{noteIndex:0}},[],[],l)};var i,s=(i=t("./engines"))&&i.__esModule?i:{default:i}},{"./engines":383}],383:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fetchEngine=r.default=void 0;var i=o(t("citeproc")),s=o(t("./styles")),n=t("./locales");function o(t){return t&&t.__esModule?t:{default:t}}var a={},l=function(t,e,r,s,n){var o,l="".concat(t,"|").concat(e);return a.hasOwnProperty(l)?(o=a[l]).sys.retrieveItem=s:o=a[l]=new i.default.Engine({retrieveLocale:n,retrieveItem:s},r,e,!0),o};r.fetchEngine=l;var u=function(t,e,r,i){var o=t.reduce(function(t,e){return t[e.id]=e,t},{}),a=(0,s.default)(e);r=n.locales.has(r)?r:"en-US";var u=l(e,r,a,function(t){return o[t]},n.locales.get.bind(n.locales));return u.setOutputFormat(i),u};r.default=u},{"./locales":386,"./styles":388,citeproc:323}],384:[function(t,e,r){"use strict";var i=t("../../../plugins/"),s=t("./locales"),n=t("./styles"),o=u(t("./engines")),a=u(t("./bibliography")),l=u(t("./citation"));function u(t){return t&&t.__esModule?t:{default:t}}(0,i.add)("csl",{output:{bibliography:a.default,citation:l.default},config:{engine:o.default,locales:s.locales,templates:n.templates}})},{"../../../plugins/":439,"./bibliography":381,"./citation":382,"./engines":383,"./locales":386,"./styles":388}],385:[function(t,e,r){e.exports={"en-US":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote="true"/><date form="text"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date><date form="numeric"><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">accessed</term><term name="and">and</term><term name="and others">and others</term><term name="anonymous">anonymous</term><term name="anonymous" form="short">anon.</term><term name="at">at</term><term name="available at">available at</term><term name="by">by</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">cited</term><term name="edition"><single>edition</single><multiple>editions</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et al.</term><term name="forthcoming">forthcoming</term><term name="from">from</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in press</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">letter</term><term name="no date">no date</term><term name="no date" form="short">n.d.</term><term name="online">online</term><term name="presented at">presented at the</term><term name="reference"><single>reference</single><multiple>references</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">retrieved</term><term name="scale">scale</term><term name="version">version</term><term name="ad">AD</term><term name="bc">BC</term><term name="open-quote">“</term><term name="close-quote">”</term><term name="open-inner-quote">‘</term><term name="close-inner-quote">’</term><term name="page-range-delimiter">–</term><term name="ordinal">th</term><term name="ordinal-01">st</term><term name="ordinal-02">nd</term><term name="ordinal-03">rd</term><term name="ordinal-11">th</term><term name="ordinal-12">th</term><term name="ordinal-13">th</term><term name="long-ordinal-01">first</term><term name="long-ordinal-02">second</term><term name="long-ordinal-03">third</term><term name="long-ordinal-04">fourth</term><term name="long-ordinal-05">fifth</term><term name="long-ordinal-06">sixth</term><term name="long-ordinal-07">seventh</term><term name="long-ordinal-08">eighth</term><term name="long-ordinal-09">ninth</term><term name="long-ordinal-10">tenth</term><term name="book"><single>book</single><multiple>books</multiple></term><term name="chapter"><single>chapter</single><multiple>chapters</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>number</single><multiple>numbers</multiple></term><term name="line"><single>line</single><multiple>lines</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraph</single><multiple>paragraphs</multiple></term><term name="part"><single>part</single><multiple>parts</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verse</single><multiple>verses</multiple>\n</term><term name="volume"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short"><single>bk.</single><multiple>bks.</multiple></term><term name="chapter" form="short"><single>chap.</single><multiple>chaps.</multiple></term><term name="column" form="short"><single>col.</single><multiple>cols.</multiple></term><term name="figure" form="short"><single>fig.</single><multiple>figs.</multiple></term><term name="folio" form="short"><single>fol.</single><multiple>fols.</multiple></term><term name="issue" form="short"><single>no.</single><multiple>nos.</multiple></term><term name="line" form="short"><single>l.</single><multiple>ll.</multiple></term><term name="note" form="short"><single>n.</single><multiple>nn.</multiple></term><term name="opus" form="short"><single>op.</single><multiple>opp.</multiple></term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short"><single>para.</single><multiple>paras.</multiple></term><term name="part" form="short"><single>pt.</single><multiple>pts.</multiple></term><term name="section" form="short"><single>sec.</single><multiple>secs.</multiple></term><term name="sub verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term><term name="director"><single>director</single><multiple>directors</multiple></term><term name="editor"><single>editor</single><multiple>editors</multiple></term><term name="editorial-director"><single>editor</single><multiple>editors</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>translator</single><multiple>translators</multiple></term><term name="editortranslator"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ills.</multiple></term><term name="translator" form="short"><single>tran.</single><multiple>trans.</multiple></term><term name="editortranslator" form="short"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term><term name="container-author" form="verb">by</term><term name="director" form="verb">directed by</term><term name="editor" form="verb">edited by</term><term name="editorial-director" form="verb">edited by</term><term name="illustrator" form="verb">illustrated by</term><term name="interviewer" form="verb">interview by</term><term name="recipient" form="verb">to</term><term name="reviewed-author" form="verb">by</term><term name="translator" form="verb">translated by</term><term name="editortranslator" form="verb">edited &amp; translated by</term><term name="director" form="verb-short">dir. by</term><term name="editor" form="verb-short">ed. by</term><term name="editorial-director" form="verb-short">ed. by</term><term name="illustrator" form="verb-short">illus. by</term><term name="translator" form="verb-short">trans. by</term><term name="editortranslator" form="verb-short">ed. &amp; trans. by</term><term name="month-01">January</term><term name="month-02">February</term><term name="month-03">March</term><term name="month-04">April</term><term name="month-05">May</term><term name="month-06">June</term><term name="month-07">July</term><term name="month-08">August</term><term name="month-09">September</term>\n<term name="month-10">October</term><term name="month-11">November</term><term name="month-12">December</term><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mar.</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">May</term><term name="month-06" form="short">Jun.</term><term name="month-07" form="short">Jul.</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Oct.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dec.</term><term name="season-01">Spring</term><term name="season-02">Summer</term><term name="season-03">Autumn</term><term name="season-04">Winter</term></terms></locale>',"nl-NL":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="nl-NL"><info><translator><name>Rintze Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" suffix="-" range-delimiter="/"/><date-part name="month" form="numeric" suffix="-" range-delimiter="/"/><date-part name="year"/></date><terms><term name="accessed">geraadpleegd</term><term name="and">en</term><term name="and others">en anderen</term><term name="anonymous">anoniem</term><term name="anonymous" form="short">anon.</term><term name="at">bij</term><term name="available at">beschikbaar op</term><term name="by">door</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">geciteerd</term><term name="edition"><single>editie</single><multiple>edities</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">e.a.</term><term name="forthcoming">in voorbereiding</term><term name="from">van</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in druk</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">brief</term><term name="no date">zonder datum</term><term name="no date" form="short">z.d.</term><term name="online">online</term><term name="presented at">gepresenteerd bij</term><term name="reference"><single>referentie</single><multiple>referenties</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">geraadpleegd</term><term name="scale">schaal</term><term name="version">versie</term><term name="ad">AD</term><term name="bc">BC</term><term name="open-quote">“</term><term name="close-quote">”</term><term name="open-inner-quote">‘</term><term name="close-inner-quote">’</term><term name="page-range-delimiter">–</term><term name="ordinal">ste</term><term name="ordinal-00" match="whole-number">de</term><term name="ordinal-02" match="last-two-digits">de</term><term name="ordinal-03" match="last-two-digits">de</term><term name="ordinal-04" match="last-two-digits">de</term><term name="ordinal-05" match="last-two-digits">de</term><term name="ordinal-06" match="last-two-digits">de</term><term name="ordinal-07" match="last-two-digits">de</term><term name="ordinal-09" match="last-two-digits">de</term><term name="ordinal-10">de</term><term name="ordinal-11">de</term><term name="ordinal-12">de</term><term name="ordinal-13">de</term><term name="ordinal-14">de</term><term name="ordinal-15">de</term><term name="ordinal-16">de</term><term name="ordinal-17">de</term><term name="ordinal-18">de</term><term name="ordinal-19">de</term><term name="long-ordinal-01">eerste</term><term name="long-ordinal-02">tweede</term><term name="long-ordinal-03">derde</term><term name="long-ordinal-04">vierde</term><term name="long-ordinal-05">vijfde</term><term name="long-ordinal-06">zesde</term><term name="long-ordinal-07">zevende</term><term name="long-ordinal-08">achtste</term><term name="long-ordinal-09">negende</term><term name="long-ordinal-10">tiende</term><term name="book"><single>boek</single><multiple>boeken</multiple></term><term name="chapter"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figuur</single><multiple>figuren</multiple></term><term name="folio"><single>folio</single><multiple>folio\'s</multiple></term><term name="issue"><single>nummer</single><multiple>nummers</multiple></term><term name="line"><single>regel</single><multiple>regels</multiple>\n</term><term name="note"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="number-of-pages"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="paragraph"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name="part"><single>deel</single><multiple>delen</multiple></term><term name="section"><single>sectie</single><multiple>secties</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>vers</single><multiple>versen</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short">bk.</term><term name="chapter" form="short">hfdst.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">nr.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">par.</term><term name="part" form="short">deel</term><term name="section" form="short">sec.</term><term name="sub verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term><term name="director"><single>regisseur</single><multiple>regisseurs</multiple></term><term name="editor"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="editorial-director"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>vertaler</single><multiple>vertalers</multiple></term><term name="editortranslator"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term><term name="director" form="short"><single>reg.</single><multiple>reg.</multiple></term><term name="editor" form="short"><single>red.</single><multiple>red.</multiple></term><term name="editorial-director" form="short"><single>red.</single><multiple>red.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>vert.</single><multiple>vert.</multiple></term><term name="editortranslator" form="short"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term><term name="container-author" form="verb">door</term><term name="director" form="verb">geregisseerd door</term><term name="editor" form="verb">bewerkt door</term><term name="editorial-director" form="verb">bewerkt door</term><term name="illustrator" form="verb">geïllustreerd door</term><term name="interviewer" form="verb">geïnterviewd door</term><term name="recipient" form="verb">ontvangen door</term><term name="reviewed-author" form="verb">door</term><term name="translator" form="verb">vertaald door</term><term name="editortranslator" form="verb">bewerkt &amp; vertaald door</term><term name="director" form="verb-short">geregisseerd door</term><term name="editor" form="verb-short">bewerkt door</term><term name="editorial-director" form="verb-short">bewerkt door</term><term name="illustrator" form="verb-short">geïllustreerd door</term><term name="translator" form="verb-short">vertaald door</term><term name="editortranslator" form="verb-short">bewerkt &amp; vertaald door</term>\n<term name="month-01">januari</term><term name="month-02">februari</term><term name="month-03">maart</term><term name="month-04">april</term><term name="month-05">mei</term><term name="month-06">juni</term><term name="month-07">juli</term><term name="month-08">augustus</term><term name="month-09">september</term><term name="month-10">oktober</term><term name="month-11">november</term><term name="month-12">december</term><term name="month-01" form="short">jan.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mrt.</term><term name="month-04" form="short">apr.</term><term name="month-05" form="short">mei</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">aug.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">okt.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dec.</term><term name="season-01">lente</term><term name="season-02">zomer</term><term name="season-03">herst</term><term name="season-04">winter</term></terms></locale>',"fr-FR":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="fr-FR"><info><translator><name>Grégoire Colly</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false" limit-day-ordinals-to-day-1="true"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">consulté le</term><term name="and">et</term><term name="and others">et autres</term><term name="anonymous">anonyme</term><term name="anonymous" form="short">anon.</term><term name="at">sur</term><term name="available at">disponible sur</term><term name="by">par</term><term name="circa">vers</term><term name="circa" form="short">v.</term><term name="cited">cité</term><term name="edition" gender="feminine"><single>édition</single><multiple>éditions</multiple></term><term name="edition" form="short">éd.</term><term name="et-al">et al.</term><term name="forthcoming">à paraître</term><term name="from">à l\'adresse</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">sous presse</term><term name="internet">Internet</term><term name="interview">entretien</term><term name="letter">lettre</term><term name="no date">sans date</term><term name="no date" form="short">s.&#160;d.</term><term name="online">en ligne</term><term name="presented at">présenté à</term><term name="reference"><single>référence</single><multiple>références</multiple></term><term name="reference" form="short"><single>réf.</single><multiple>réf.</multiple></term><term name="retrieved">consulté</term><term name="scale">échelle</term><term name="version">version</term><term name="ad">apr. J.-C.</term><term name="bc">av. J.-C.</term><term name="open-quote">«&#160;</term><term name="close-quote">&#160;»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">&#8209;</term><term name="ordinal">ᵉ</term><term name="ordinal-01" gender-form="feminine" match="whole-number">ʳᵉ</term><term name="ordinal-01" gender-form="masculine" match="whole-number">ᵉʳ</term><term name="long-ordinal-01">premier</term><term name="long-ordinal-02">deuxième</term><term name="long-ordinal-03">troisième</term><term name="long-ordinal-04">quatrième</term><term name="long-ordinal-05">cinquième</term><term name="long-ordinal-06">sixième</term><term name="long-ordinal-07">septième</term><term name="long-ordinal-08">huitième</term><term name="long-ordinal-09">neuvième</term><term name="long-ordinal-10">dixième</term><term name="book"><single>livre</single><multiple>livres</multiple></term><term name="chapter"><single>chapitre</single><multiple>chapitres</multiple></term><term name="column"><single>colonne</single><multiple>colonnes</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue" gender="masculine"><single>numéro</single><multiple>numéros</multiple></term><term name="line"><single>ligne</single><multiple>lignes</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opus</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name="part"><single>partie</single><multiple>parties</multiple></term><term name="section"><single>section</single><multiple>sections</multiple>\n</term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verset</single><multiple>versets</multiple></term><term name="volume" gender="masculine"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short"><single>fᵒ</single><multiple>fᵒˢ</multiple></term><term name="issue" form="short"><single>nᵒ</single><multiple>nᵒˢ</multiple></term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>p.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>p.</multiple></term><term name="paragraph" form="short">paragr.</term><term name="part" form="short">part.</term><term name="section" form="short">sect.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>v.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vol.</multiple></term><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term><term name="director"><single>réalisateur</single><multiple>réalisateurs</multiple></term><term name="editor"><single>éditeur</single><multiple>éditeurs</multiple></term><term name="editorial-director"><single>directeur</single><multiple>directeurs</multiple></term><term name="illustrator"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name="translator"><single>traducteur</single><multiple>traducteurs</multiple></term><term name="editortranslator"><single>éditeur et traducteur</single><multiple>éditeurs et traducteurs</multiple></term><term name="director" form="short"><single>réal.</single><multiple>réal.</multiple></term><term name="editor" form="short"><single>éd.</single><multiple>éd.</multiple></term><term name="editorial-director" form="short"><single>dir.</single><multiple>dir.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trad.</multiple></term><term name="editortranslator" form="short"><single>éd. et trad.</single><multiple>éd. et trad.</multiple></term><term name="container-author" form="verb">par</term><term name="director" form="verb">réalisé par</term><term name="editor" form="verb">édité par</term><term name="editorial-director" form="verb">sous la direction de</term><term name="illustrator" form="verb">illustré par</term><term name="interviewer" form="verb">entretien réalisé par</term><term name="recipient" form="verb">à</term><term name="reviewed-author" form="verb">par</term><term name="translator" form="verb">traduit par</term><term name="editortranslator" form="verb">édité et traduit par</term><term name="director" form="verb-short">réal. par</term><term name="editor" form="verb-short">éd. par</term><term name="editorial-director" form="verb-short">ss la dir. de</term><term name="illustrator" form="verb-short">ill. par</term><term name="translator" form="verb-short">trad. par</term><term name="editortranslator" form="verb-short">éd. et trad. par</term><term name="month-01" gender="masculine">janvier</term><term name="month-02" gender="masculine">février</term><term name="month-03" gender="masculine">mars</term><term name="month-04" gender="masculine">avril</term><term name="month-05" gender="masculine">mai</term><term name="month-06" gender="masculine">juin</term><term name="month-07" gender="masculine">juillet</term><term name="month-08" gender="masculine">août</term><term name="month-09" gender="masculine">septembre</term><term name="month-10" gender="masculine">\noctobre</term><term name="month-11" gender="masculine">novembre</term><term name="month-12" gender="masculine">décembre</term><term name="month-01" form="short">janv.</term><term name="month-02" form="short">févr.</term><term name="month-03" form="short">mars</term><term name="month-04" form="short">avr.</term><term name="month-05" form="short">mai</term><term name="month-06" form="short">juin</term><term name="month-07" form="short">juill.</term><term name="month-08" form="short">août</term><term name="month-09" form="short">sept.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">déc.</term><term name="season-01">printemps</term><term name="season-02">été</term><term name="season-03">automne</term><term name="season-04">hiver</term></terms></locale>',"de-DE":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="de-DE"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" form="ordinal" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="."/><date-part name="month" form="numeric-leading-zeros" suffix="."/><date-part name="year"/></date><terms><term name="accessed">zugegriffen</term><term name="and">und</term><term name="and others">und andere</term><term name="anonymous">ohne Autor</term><term name="anonymous" form="short">o.&#160;A.</term><term name="at">auf</term><term name="available at">verfügbar unter</term><term name="by">von</term><term name="circa">circa</term><term name="circa" form="short">ca.</term><term name="cited">zitiert</term><term name="edition"><single>Auflage</single><multiple>Auflagen</multiple></term><term name="edition" form="short">Aufl.</term><term name="et-al">u.&#160;a.</term><term name="forthcoming">i.&#160;E.</term><term name="from">von</term><term name="ibid">ebd.</term><term name="in">in</term><term name="in press">im Druck</term><term name="internet">Internet</term><term name="interview">Interview</term><term name="letter">Brief</term><term name="no date">ohne Datum</term><term name="no date" form="short">o.&#160;J.</term><term name="online">online</term><term name="presented at">gehalten auf der</term><term name="reference"><single>Referenz</single><multiple>Referenzen</multiple></term><term name="reference" form="short"><single>Ref.</single><multiple>Ref.</multiple></term><term name="retrieved">abgerufen</term><term name="scale">Maßstab</term><term name="version">Version</term><term name="ad">n.&#160;Chr.</term><term name="bc">v.&#160;Chr.</term><term name="open-quote">„</term><term name="close-quote">“</term><term name="open-inner-quote">‚</term><term name="close-inner-quote">‘</term><term name="page-range-delimiter">–</term><term name="ordinal">.</term><term name="long-ordinal-01">erster</term><term name="long-ordinal-02">zweiter</term><term name="long-ordinal-03">dritter</term><term name="long-ordinal-04">vierter</term><term name="long-ordinal-05">fünfter</term><term name="long-ordinal-06">sechster</term><term name="long-ordinal-07">siebter</term><term name="long-ordinal-08">achter</term><term name="long-ordinal-09">neunter</term><term name="long-ordinal-10">zehnter</term><term name="book"><single>Buch</single><multiple>Bücher</multiple></term><term name="chapter"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name="column"><single>Spalte</single><multiple>Spalten</multiple></term><term name="figure"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name="folio"><single>Blatt</single><multiple>Blätter</multiple></term><term name="issue"><single>Nummer</single><multiple>Nummern</multiple></term><term name="line"><single>Zeile</single><multiple>Zeilen</multiple></term><term name="note"><single>Note</single><multiple>Noten</multiple></term><term name="opus"><single>Opus</single><multiple>Opera</multiple></term><term name="page"><single>Seite</single><multiple>Seiten</multiple></term><term name="number-of-pages"><single>Seite</single><multiple>Seiten</multiple></term><term name="paragraph"><single>Absatz</single><multiple>Absätze</multiple></term><term name="part"><single>Teil</single><multiple>Teile</multiple></term><term name="section"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>Vers</single><multiple>Verse</multiple></term><term name="volume"><single>Band</single><multiple>Bände</multiple></term><term name="book" form="short">B.</term>\n<term name="chapter" form="short">Kap.</term><term name="column" form="short">Sp.</term><term name="figure" form="short">Abb.</term><term name="folio" form="short">Fol.</term><term name="issue" form="short">Nr.</term><term name="line" form="short">Z.</term><term name="note" form="short">N.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>S.</single><multiple>S.</multiple></term><term name="number-of-pages" form="short"><single>S.</single><multiple>S.</multiple></term><term name="paragraph" form="short">Abs.</term><term name="part" form="short">Teil</term><term name="section" form="short">Abschn.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>V.</single><multiple>V.</multiple></term><term name="volume" form="short"><single>Bd.</single><multiple>Bde.</multiple></term><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term><term name="director"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name="editor"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="collection-editor"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name="editorial-director"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="illustrator"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name="translator"><single>Übersetzer</single><multiple>Übersetzer</multiple></term><term name="editortranslator"><single>Herausgeber&#160;&amp; Übersetzer</single><multiple>Herausgeber&#160;&amp; Übersetzer</multiple></term><term name="director" form="short"><single>Reg.</single><multiple>Reg.</multiple></term><term name="editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="collection-editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="editorial-director" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="illustrator" form="short"><single>Ill.</single><multiple>Ill.</multiple></term><term name="translator" form="short"><single>Übers.</single><multiple>Übers.</multiple></term><term name="editortranslator" form="short"><single>Hrsg.&#160;&amp; Übers.</single><multiple>Hrsg.&#160;&amp; Übers</multiple></term><term name="container-author" form="verb">von</term><term name="director" form="verb">Regie von</term><term name="editor" form="verb">herausgegeben von</term><term name="collection-editor" form="verb">herausgegeben von</term><term name="editorial-director" form="verb">herausgegeben von</term><term name="illustrator" form="verb">illustriert von</term><term name="interviewer" form="verb">interviewt von</term><term name="recipient" form="verb">an</term><term name="reviewed-author" form="verb">von</term><term name="translator" form="verb">übersetzt von</term><term name="editortranslator" form="verb">herausgegeben und übersetzt von</term><term name="director" form="verb-short">Reg.</term><term name="editor" form="verb-short">hg. von</term><term name="collection-editor" form="verb-short">hg. von</term><term name="editorial-director" form="verb-short">hg. von</term><term name="illustrator" form="verb-short">illus. von</term><term name="translator" form="verb-short">übers. von</term><term name="editortranslator" form="verb-short">hg.&#160;&amp; übers. von</term><term name="month-01">Januar</term><term name="month-02">Februar</term><term name="month-03">März</term><term name="month-04">April</term><term name="month-05">Mai</term><term name="month-06">Juni</term><term name="month-07">Juli</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">Oktober</term><term name="month-11">November</term><term name="month-12">Dezember</term><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term>\n<term name="month-03" form="short">März</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">Mai</term><term name="month-06" form="short">Juni</term><term name="month-07" form="short">Juli</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Okt.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dez.</term><term name="season-01">Frühjahr</term><term name="season-02">Sommer</term><term name="season-03">Herbst</term><term name="season-04">Winter</term></terms></locale>',"es-ES":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="es-ES"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" de "/><date-part name="month" suffix=" de "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">accedido</term><term name="and">y</term><term name="and others">y otros</term><term name="anonymous">anónimo</term><term name="anonymous" form="short">anón.</term><term name="at">en</term><term name="available at">disponible en</term><term name="by">de</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">citado</term><term name="edition"><single>edición</single><multiple>ediciones</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et&#160;al.</term><term name="forthcoming">previsto</term><term name="from">a partir de</term><term name="ibid">ibid.</term><term name="in">en</term><term name="in press">en imprenta</term><term name="internet">internet</term><term name="interview">entrevista</term><term name="letter">carta</term><term name="no date">sin fecha</term><term name="no date" form="short">s.&#160;f.</term><term name="online">en línea</term><term name="presented at">presentado en</term><term name="reference"><single>referencia</single><multiple>referencias</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">recuperado</term><term name="scale">escala</term><term name="version">versión</term><term name="ad">d.&#160;C.</term><term name="bc">a.&#160;C.</term><term name="open-quote">«</term><term name="close-quote">»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">-</term><term name="ordinal">.ª</term><term name="long-ordinal-01">primera</term><term name="long-ordinal-02">segunda</term><term name="long-ordinal-03">tercera</term><term name="long-ordinal-04">cuarta</term><term name="long-ordinal-05">quinta</term><term name="long-ordinal-06">sexta</term><term name="long-ordinal-07">séptima</term><term name="long-ordinal-08">octava</term><term name="long-ordinal-09">novena</term><term name="long-ordinal-10">décima</term><term name="book"><single>libro</single><multiple>libros</multiple></term><term name="chapter"><single>capítulo</single><multiple>capítulos</multiple></term><term name="column"><single>columna</single><multiple>columnas</multiple></term><term name="figure"><single>figura</single><multiple>figuras</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>número</single><multiple>números</multiple></term><term name="line"><single>línea</single><multiple>líneas</multiple></term><term name="note"><single>nota</single><multiple>notas</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>página</single><multiple>páginas</multiple></term><term name="number-of-pages"><single>página</single><multiple>páginas</multiple></term><term name="paragraph"><single>párrafo</single><multiple>párrafos</multiple></term><term name="part"><single>parte</single><multiple>partes</multiple></term><term name="section"><single>sección</single><multiple>secciones</multiple></term><term name="sub verbo"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name="verse"><single>verso</single><multiple>versos</multiple></term><term name="volume"><single>volumen</single><multiple>volúmenes</multiple></term><term name="book" form="short">lib.</term>\n<term name="chapter" form="short">cap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">n.º</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">párr.</term><term name="part" form="short">pt.</term><term name="section" form="short">sec.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term><term name="director"><single>director</single><multiple>directores</multiple></term><term name="editor"><single>editor</single><multiple>editores</multiple></term><term name="editorial-director"><single>editor</single><multiple>editores</multiple></term><term name="illustrator"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name="translator"><single>traductor</single><multiple>traductores</multiple></term><term name="editortranslator"><single>editor y traductor</single><multiple>editores y traductores</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ilust.</single><multiple>ilusts.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trads.</multiple></term><term name="editortranslator" form="short"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term><term name="container-author" form="verb">de</term><term name="director" form="verb">dirigido por</term><term name="editor" form="verb">editado por</term><term name="editorial-director" form="verb">editado por</term><term name="illustrator" form="verb">ilustrado por</term><term name="interviewer" form="verb">entrevistado por</term><term name="recipient" form="verb">a</term><term name="reviewed-author" form="verb">por</term><term name="translator" form="verb">traducido por</term><term name="editortranslator" form="verb">editado y traducido por</term><term name="director" form="verb-short">dir.</term><term name="editor" form="verb-short">ed.</term><term name="editorial-director" form="verb-short">ed.</term><term name="illustrator" form="verb-short">ilust.</term><term name="translator" form="verb-short">trad.</term><term name="editortranslator" form="verb-short">ed. y trad.</term><term name="month-01">enero</term><term name="month-02">febrero</term><term name="month-03">marzo</term><term name="month-04">abril</term><term name="month-05">mayo</term><term name="month-06">junio</term><term name="month-07">julio</term><term name="month-08">agosto</term><term name="month-09">septiembre</term><term name="month-10">octubre</term><term name="month-11">noviembre</term><term name="month-12">diciembre</term><term name="month-01" form="short">ene.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mar.</term><term name="month-04" form="short">abr.</term><term name="month-05" form="short">may</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">ago.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">\ndic.</term><term name="season-01">primavera</term><term name="season-02">verano</term><term name="season-03">otoño</term><term name="season-04">invierno</term></terms></locale>'}},{}],386:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.locales=r.default=void 0;var i=n(t("../../../util/register")),s=n(t("./locales.json"));function n(t){return t&&t.__esModule?t:{default:t}}var o=new i.default(s.default);r.locales=o;var a=function(t){return o.has(t)?o.get(t):o.get("en-US")};r.default=a},{"../../../util/register":445,"./locales.json":385}],387:[function(t,e,r){e.exports={apa:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never"><info><title>American Psychological Association 6th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href="http://www.zotero.org/styles/apa" rel="self"/><link href="http://owl.english.purdue.edu/owl/resource/560/01/" rel="documentation"/><author><name>Simon Kornblith</name><email>simon@simonster.com</email></author><contributor><name>Bruce D\'Arcus</name></contributor><contributor><name>Curtis M. Humphrey</name></contributor><contributor><name>Richard Karnesky</name><email>karnesky+zotero@gmail.com</email><uri>http://arc.nucapt.northwestern.edu/Richard_Karnesky</uri></contributor><contributor><name>Sebastian Karcher</name></contributor><contributor><name> Brenton M. Wiernik</name><email>zotero@wiernik.org</email></contributor><category citation-format="author-date"/><category field="psychology"/><category field="generic-base"/><updated>2016-05-25T09:01:49+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><terms><term name="editortranslator" form="short"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name="translator" form="short"><single>trans.</single><multiple>trans.</multiple></term></terms></locale><macro name="container-contributors"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><group delimiter=", "><names variable="container-author" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=" (" text-case="title" suffix=")"/></names><names variable="editor translator" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=" (" text-case="title" suffix=")"/></names></group></if></choose></macro><macro name="secondary-contributors"><choose><if type="article-journal chapter paper-conference entry-dictionary entry-encyclopedia" match="none"><group delimiter=", " prefix=" (" suffix=")"><names variable="container-author" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names><names variable="editor translator" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></if></choose></macro><macro name="author"><names variable="author"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="capitalize-first"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="report"><text variable="publisher"/><text macro="title"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="report"><text variable="publisher"/><text variable="title" form="short" font-style="italic"/></if><else-if type="legal_case"><text variable="title" font-style="italic"/></else-if><else-if type="bill book graphic legislation motion_picture song" match="any"><text variable="title" form="short" font-style="italic"/></else-if><else-if variable="reviewed-author"><choose><if variable="reviewed-title" match="none"><text variable="title" form="short" font-style="italic" prefix="Review of "/></if><else><text variable="title" form="short" quotes="true"/></else></choose></else-if><else><text variable="title" form="short" quotes="true"/></else></choose></substitute></names></macro><macro name="access"><choose><if type="thesis report" match="any"><choose><if variable="DOI" match="any">\n<text variable="DOI" prefix="https://doi.org/"/></if><else-if variable="archive" match="any"><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="archive" suffix="."/><text variable="archive_location" prefix=" (" suffix=")"/></group></else-if><else><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="URL"/></group></else></choose></if><else><choose><if variable="DOI"><text variable="DOI" prefix="https://doi.org/"/></if><else><choose><if type="webpage"><group delimiter=" "><text term="retrieved" text-case="capitalize-first" suffix=" "/><group><date variable="accessed" form="text" suffix=", "/></group><text term="from"/><text variable="URL"/></group></if><else><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="URL"/></group></else></choose></else></choose></else></choose></macro><macro name="title"><choose><if type="book graphic manuscript motion_picture report song speech thesis" match="any"><choose><if variable="version" type="book" match="all"><text variable="title"/></if><else><text variable="title" font-style="italic"/></else></choose></if><else-if variable="reviewed-author"><choose><if variable="reviewed-title"><group delimiter=" "><text variable="title"/><group delimiter=", " prefix="[" suffix="]"><text variable="reviewed-title" font-style="italic" prefix="Review of "/><names variable="reviewed-author" delimiter=", "><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group></group></if><else><group delimiter=", " prefix="[" suffix="]"><text variable="title" font-style="italic" prefix="Review of "/><names variable="reviewed-author" delimiter=", "><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group></else></choose></else-if><else><text variable="title"/></else></choose></macro><macro name="title-plus-extra"><text macro="title"/><choose><if type="report thesis" match="any"><group prefix=" (" suffix=")" delimiter=", "><group delimiter=" "><choose><if variable="genre" match="any"><text variable="genre"/></if><else><text variable="collection-title"/></else></choose><text variable="number" prefix="No. "/></group><group delimiter=" "><text term="version" text-case="capitalize-first"/><text variable="version"/></group><text macro="edition"/></group></if><else-if type="post-weblog webpage" match="any"><text variable="genre" prefix=" [" suffix="]"/></else-if><else-if variable="version"><group delimiter=" " prefix=" (" suffix=")"><text term="version" text-case="capitalize-first"/><text variable="version"/></group></else-if></choose><text macro="format" prefix=" [" suffix="]"/></macro><macro name="format"><choose><if match="any" variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else-if type="dataset" match="any"><text value="Data set"/></else-if></choose></macro><macro name="publisher"><choose><if type="report" match="any"><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></if><else-if type="thesis" match="any"><group delimiter=", "><text variable="publisher"/><text variable="publisher-place"/></group></else-if><else-if type="post-weblog webpage" match="none"><group delimiter=", "><choose><if variable="event version" type="speech motion_picture" match="none"><text variable="genre"/></if></choose><choose><if type="article-journal article-magazine" match="none"><group delimiter=": "><choose><if variable="publisher-place"><text variable="publisher-place"/></if><else><text variable="event-place"/></else></choose><text variable="publisher"/></group></if></choose></group></else-if></choose></macro><macro name="event"><choose><if variable="container-title" match="none"><choose><if variable="event"><choose><if variable="genre" match="none"><text term="presented at" text-case="capitalize-first" suffix=" "/><text variable="event"/></if><else>\n<group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/><text variable="event"/></group></else></choose></if><else-if type="speech"><text variable="genre" text-case="capitalize-first"/></else-if></choose></if></choose></macro><macro name="issued"><choose><if type="bill legal_case legislation" match="none"><choose><if variable="issued"><group prefix=" (" suffix=")"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/><choose><if type="speech" match="any"><date variable="issued"><date-part prefix=", " name="month"/></date></if><else-if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none"><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></else-if></choose></group></if><else-if variable="status"><group prefix=" (" suffix=")"><text variable="status"/><text variable="year-suffix" prefix="-"/></group></else-if><else><group prefix=" (" suffix=")"><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></group></else></choose></if></choose></macro><macro name="issued-sort"><choose><if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none"><date variable="issued"><date-part name="year"/><date-part name="month"/><date-part name="day"/></date></if><else><date variable="issued"><date-part name="year"/></date></else></choose></macro><macro name="issued-year"><choose><if variable="issued"><group delimiter="/"><date variable="original-date" form="text"/><group><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/></group></group></if><else-if variable="status"><text variable="status"/><text variable="year-suffix" prefix="-"/></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="locators"><choose><if type="article-journal article-magazine" match="any"><group prefix=", " delimiter=", "><group><text variable="volume" font-style="italic"/><text variable="issue" prefix="(" suffix=")"/></group><text variable="page"/></group><choose><if variable="issued"><choose><if variable="page issue" match="none"><text variable="status" prefix=". "/></if></choose></if></choose></if><else-if type="article-newspaper"><group delimiter=" " prefix=", "><label variable="page" form="short"/><text variable="page"/></group></else-if><else-if type="book graphic motion_picture report song chapter paper-conference entry-encyclopedia entry-dictionary" match="any"><group prefix=" (" suffix=")" delimiter=", "><choose><if type="report" match="none"><text macro="edition"/></if></choose><choose><if variable="volume" match="any"><group><text term="volume" form="short" text-case="capitalize-first" suffix=" "/><number variable="volume" form="numeric"/></group></if><else><group><text term="volume" form="short" plural="true" text-case="capitalize-first" suffix=" "/><number variable="number-of-volumes" form="numeric" prefix="1&#8211;"/></group></else></choose><group><label variable="page" form="short" suffix=" "/><text variable="page"/></group></group></else-if><else-if type="legal_case"><group prefix=" (" suffix=")" delimiter=" "><text variable="authority"/><date variable="issued" form="text"/></group></else-if><else-if type="bill legislation" match="any"><date variable="issued" prefix=" (" suffix=")"><date-part name="year"/></date></else-if></choose></macro><macro name="citation-locator"><group><choose><if locator="chapter"><label variable="locator" form="long" text-case="capitalize-first"/></if><else><label variable="locator" form="short"/></else></choose><text variable="locator" prefix=" "/></group></macro>\n<macro name="container"><choose><if type="post-weblog webpage" match="none"><group><choose><if type="chapter paper-conference entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first" suffix=" "/></if></choose><group delimiter=", "><text macro="container-contributors"/><text macro="secondary-contributors"/><text macro="container-title"/></group></group></if></choose></macro><macro name="container-title"><choose><if type="article article-journal article-magazine article-newspaper" match="any"><text variable="container-title" font-style="italic" text-case="title"/></if><else-if type="bill legal_case legislation" match="none"><text variable="container-title" font-style="italic"/></else-if></choose></macro><macro name="legal-cites"><choose><if type="bill legal_case legislation" match="any"><group delimiter=" " prefix=", "><choose><if variable="container-title"><text variable="volume"/><text variable="container-title"/><group delimiter=" "><text term="section" form="symbol"/><text variable="section"/></group><text variable="page"/></if><else><choose><if type="legal_case"><text variable="number" prefix="No. "/></if><else><text variable="number" prefix="Pub. L. No. "/><group delimiter=" "><text term="section" form="symbol"/><text variable="section"/></group></else></choose></else></choose></group></if></choose></macro><macro name="original-date"><choose><if variable="original-date"><group prefix="(" suffix=")" delimiter=" "><text value="Original work published"/><date variable="original-date" form="text"/></group></if></choose></macro><citation et-al-min="6" et-al-use-first="1" et-al-subsequent-min="3" et-al-subsequent-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name"><sort><key macro="author"/><key macro="issued-sort"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><text macro="author-short"/><text macro="issued-year"/><text macro="citation-locator"/></group></layout></citation><bibliography hanging-indent="true" et-al-min="8" et-al-use-first="6" et-al-use-last="true" entry-spacing="0" line-spacing="2"><sort><key macro="author"/><key macro="issued-sort" sort="ascending"/><key macro="title"/></sort><layout><group suffix="."><group delimiter=". "><text macro="author"/><text macro="issued"/><text macro="title-plus-extra"/><text macro="container"/></group><text macro="legal-cites"/><text macro="locators"/><group delimiter=", " prefix=". "><text macro="event"/><text macro="publisher"/></group></group><text macro="access" prefix=" "/><text macro="original-date" prefix=" "/></layout></bibliography></style>',vancouver:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" page-range-format="minimal"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href="http://www.zotero.org/styles/vancouver" rel="self"/><link href="http://www.nlm.nih.gov/bsd/uniform_CitRequirements.html" rel="documentation"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format="numeric"/><category field="medicine"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform CitRequirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2014-09-06T16:03:01+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><date form="text" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><terms><term name="collection-editor" form="long"><single>editor</single><multiple>editors</multiple></term><term name="presented at">presented at</term><term name="available at">available from</term><term name="section" form="short">sect.</term></terms></locale><locale xml:lang="fr"><date form="text" delimiter=" "><date-part name="day"/><date-part name="month" form="short" strip-periods="true"/><date-part name="year"/></date></locale><macro name="author"><names variable="author"><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/><substitute><names variable="editor"/></substitute></names></macro><macro name="editor"><names variable="editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names></macro><macro name="chapter-marker"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first"/></if></choose></macro><macro name="publisher"><choose><if type="article-journal article-magazine article-newspaper" match="none"><group delimiter=": " suffix=";"><choose><if type="thesis"><text variable="publisher-place" prefix="[" suffix="]"/></if><else-if type="speech"/><else><text variable="publisher-place"/></else></choose><text variable="publisher"/></group></if></choose></macro><macro name="access"><choose><if variable="URL"><group delimiter=": "><text term="available at" text-case="capitalize-first"/><text variable="URL"/></group></if></choose></macro><macro name="accessed-date"><choose><if variable="URL"><group prefix="[" suffix="]" delimiter=" "><text term="cited" text-case="lowercase"/><date variable="accessed" form="text"/></group></if></choose></macro><macro name="container-title"><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="any"><group suffix="." delimiter=" "><choose><if type="article-journal review review-book" match="any"><text variable="container-title" form="short" strip-periods="true"/></if><else><text variable="container-title" strip-periods="true"/></else></choose><choose><if variable="URL"><text term="internet" prefix="[" suffix="]" text-case="capitalize-first"/></if></choose></group><text macro="edition" prefix=" "/></if><else-if type="bill legislation" match="any"><group delimiter=", "><group delimiter=". "><text variable="container-title"/><group delimiter=" "><text term="section" form="short" text-case="capitalize-first"/><text variable="section"/></group></group><text variable="number"/></group></else-if><else-if type="speech">\n<group delimiter=": " suffix=";"><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/></group><text variable="event"/></group></else-if><else><group delimiter=", " suffix="."><choose><if variable="collection-title" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose><text variable="container-title"/></group></else></choose></macro><macro name="title"><text variable="title"/><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="none"><choose><if variable="URL"><text term="internet" prefix=" [" suffix="]" text-case="capitalize-first"/></if></choose><text macro="edition" prefix=". "/></if></choose><choose><if type="thesis"><text variable="genre" prefix=" [" suffix="]"/></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="date"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><group suffix=";" delimiter=" "><date variable="issued" form="text"/><text macro="accessed-date"/></group></if><else-if type="bill legislation" match="any"><group delimiter=", "><date variable="issued" delimiter=" "><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="report"><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/></date><text macro="accessed-date" prefix=" "/></else-if><else-if type="patent"><group suffix="."><group delimiter=", "><text variable="number"/><date variable="issued"><date-part name="year"/></date></group><text macro="accessed-date" prefix=" "/></group></else-if><else-if type="speech"><group delimiter="; "><group delimiter=" "><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><text macro="accessed-date"/></group><text variable="event-place"/></group></else-if><else><group suffix="."><date variable="issued"><date-part name="year"/></date><text macro="accessed-date" prefix=" "/></group></else></choose></macro><macro name="pages"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><text variable="page" prefix=":"/></if><else-if type="book" match="any"><text variable="number-of-pages" prefix=" "/><choose><if is-numeric="number-of-pages"><label variable="number-of-pages" form="short" prefix=" " plural="never"/></if></choose></else-if><else><group prefix=" " delimiter=" "><label variable="page" form="short" plural="never"/><text variable="page"/></group></else></choose></macro><macro name="journal-location"><choose><if type="article-journal article-magazine review review-book" match="any"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="collection-details"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="none"><choose><if variable="collection-title"><group delimiter=" " prefix="(" suffix=")"><names variable="collection-editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names><group delimiter="; "><text variable="collection-title"/><group delimiter=" "><label variable="volume" form="short"/><text variable="volume"/></group></group></group></if></choose></if></choose></macro><macro name="report-details"><choose><if type="report"><text variable="number" prefix="Report No.: "/></if></choose></macro><citation collapse="citation-number">\n<sort><key variable="citation-number"/></sort><layout prefix="(" suffix=")" delimiter=","><text variable="citation-number"/></layout></citation><bibliography et-al-min="7" et-al-use-first="6" second-field-align="flush"><layout><text variable="citation-number" suffix=". "/><group delimiter=". " suffix=". "><text macro="author"/><text macro="title"/></group><group delimiter=" " suffix=". "><group delimiter=": "><text macro="chapter-marker"/><group delimiter=" "><text macro="editor"/><text macro="container-title"/></group></group><text macro="publisher"/><group><text macro="date"/><text macro="journal-location"/><text macro="pages"/></group></group><text macro="collection-details" suffix=". "/><text macro="report-details" suffix=". "/><text macro="access"/></layout></bibliography></style>',harvard1:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only"><info><title>Harvard Reference format 1 (author-date)</title><id>http://www.zotero.org/styles/harvard1</id><link href="http://www.zotero.org/styles/harvard1" rel="self"/><link href="http://libweb.anglia.ac.uk/referencing/harvard.htm" rel="documentation"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><category citation-format="author-date"/><category field="generic-base"/><summary>The Harvard author-date style</summary><updated>2012-09-27T22:06:38+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><macro name="editor"><names variable="editor" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="lowercase"/></names></macro><macro name="anon"><text term="anonymous" form="short" text-case="capitalize-first" strip-periods="true"/></macro><macro name="author"><names variable="author"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with="." delimiter-precedes-last="never" delimiter=", "/><label form="short" prefix=" " text-case="lowercase"/><substitute><names variable="editor"/><text macro="anon"/></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="symbol" delimiter=", " delimiter-precedes-last="never" initialize-with=". "/><substitute><names variable="editor"/><names variable="translator"/><text macro="anon"/></substitute></names></macro><macro name="access"><choose><if variable="URL"><text value="Available at:" suffix=" "/><text variable="URL"/><group prefix=" [" suffix="]"><text term="accessed" text-case="capitalize-first" suffix=" "/><date variable="accessed"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date></group></if></choose></macro><macro name="title"><choose><if type="bill book graphic legal_case legislation motion_picture report song thesis" match="any"><text variable="title" font-style="italic"/></if><else><text variable="title"/></else></choose></macro><macro name="publisher"><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></macro><macro name="year-date"><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date></if><else><text term="no date" form="short"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="pages"><group><label variable="page" form="short" suffix=" "/><text variable="page"/></group></macro><citation et-al-min="3" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true"><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><group delimiter=" "><text macro="author-short"/><text macro="year-date"/></group><group><label variable="locator" form="short"/><text variable="locator"/></group></group></layout></citation><bibliography hanging-indent="true" et-al-min="4" et-al-use-first="1"><sort><key macro="author"/><key variable="title"/></sort><layout><text macro="author" suffix=","/><date variable="issued" prefix=" " suffix="."><date-part name="year"/></date><choose><if type="bill book graphic legal_case legislation motion_picture report song" match="any"><group prefix=" " delimiter=" " suffix=","><text macro="title"/><text macro="edition"/><text macro="editor"/></group><text prefix=" " suffix="." macro="publisher"/></if><else-if type="chapter paper-conference" match="any"><text macro="title" prefix=" " suffix="."/><group prefix=" " delimiter=" "><text term="in" text-case="capitalize-first"/>\n<text macro="editor"/><text variable="container-title" font-style="italic" suffix="."/><text variable="collection-title" suffix="."/><text variable="event" suffix="."/><group suffix="." delimiter=", "><text macro="publisher" prefix=" "/><text macro="pages"/></group></group></else-if><else-if type="thesis"><group prefix=" " suffix="." delimiter=". "><text macro="title"/><text variable="genre"/><text macro="publisher"/></group></else-if><else><group suffix="."><text macro="title" prefix=" "/><text macro="editor" prefix=" "/></group><group prefix=" " suffix="."><text variable="container-title" font-style="italic"/><group prefix=", "><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></group><group prefix=", "><label variable="page" form="short"/><text variable="page"/></group></group></else></choose><text prefix=" " macro="access" suffix="."/></layout></bibliography></style>'}},{}],388:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.templates=r.default=void 0;var i=n(t("../../../util/register")),s=n(t("./styles.json"));function n(t){return t&&t.__esModule?t:{default:t}}var o=new i.default(s.default);r.templates=o;var a=function(t){return o.has(t)?o.get(t):o.get("apa")};r.default=a},{"../../../util/register":445,"./styles.json":387}],389:[function(t,e,r){"use strict";var i=t("../../plugins/"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("./modules"));for(var n in s){var o=s[n];(0,i.add)(n,{output:o})}},{"../../plugins/":439,"./modules":392}],390:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.getJsonWrapper=void 0;var i,s=(i=t("../../util/deepCopy.js"))&&i.__esModule?i:{default:i},n=t("../dict");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(t,e,r){return t+(e<r.length-1?",":"")},u=function(t,e){var r,i=Array.isArray(t);return r=(r=i?t.map(function(t){return c(t,e)}):Object.entries(t).map(function(t){var r=a(t,2),i=r[0],s=r[1];return'"'.concat(i,'": ').concat(c(s,e))})).map(l).map(function(t){return e.listItem.join(t)}),r=e.list.join(r.join("")),i?"[".concat(r,"]"):"{".concat(r,"}")},c=function(t,e){return"object"===o(t)&&null!==t?0===t.length?"[]":0===Object.keys(t).length?"{}":u(t,e):JSON.stringify(t)+""},p=function(t,e){var r=t.map(function(t){return u(t,e)});return r=(r=r.map(l).map(function(t){return e.entry.join(t)})).join(""),e.bibliographyContainer.join("[".concat(r,"]"))};r.getJsonWrapper=function(t){return p(t,(0,n.get)("html"))};var m={data:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.type,i=e.format,o=void 0===i?r||"text":i;return"object"===o?(0,s.default)(t):"text"===o?JSON.stringify(t,null,2):(logger.warn("[get]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),(0,n.has)(o)?p(t,(0,n.get)(o)):"")}};r.default=m},{"../../util/deepCopy.js":440,"../dict":371}],391:[function(t,e,r){"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.getLabel=void 0;var s=((i=t("./bibtex/label"))&&i.__esModule?i:{default:i}).default;r.getLabel=s;var n={label:function(t){return t.reduce(function(t,e){return t[e.id]=s(e),t},{})}};r.default=n},{"./bibtex/label":376}],392:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"bibtex",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"data",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"label",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"ris",{enumerable:!0,get:function(){return o.default}}),t("./csl/");var i=a(t("./bibtex/")),s=a(t("./json")),n=a(t("./label")),o=a(t("./ris/"));function a(t){return t&&t.__esModule?t:{default:t}}},{"./bibtex/":374,"./csl/":384,"./json":390,"./label":391,"./ris/":393}],393:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(t("../../name")),s=n(t("../../date"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u={graphic:"ART",bill:"BILL","post-webblog":"BLOG",book:"BOOK","review-book":"BOOK",legal_case:"CASE",chapter:"CHAP","paper-conference":"CONF",dataset:"DATA","entry-dictionary":"DICT","entry-encyclopedia":"ENCYC",figure:"FIGURE",interview:"GEN",treaty:"GEN",post:"ICOMM",article:"JOUR","article-journal":"JOUR",review:"JOUR",legislation:"LEGAL",manuscript:"MANSCPT",map:"MAP","article-magazine":"MGZN",broadcast:"MPCT",motion_picture:"MPCT",musical_score:"MUSIC","article-newspaper":"NEWS",pamphlet:"PAMP",patent:"PAT",personal_communication:"PCOMM",report:"RPRT",song:"SOUND",speech:"SOUND",thesis:"THES"},c=function(t){return t.map(function(t){return(0,i.default)(t,!0)})},p={TY:{fieldName:"type",convert:function(t){return u[t]||"GEN"}},AU:[{type:["review","review-book"],fieldName:"reviewed-author",convert:c},{type:"__default",fieldName:"author",convert:c}],DA:{fieldName:"issued",convert:function(t){return(0,s.default)(t,"/")}},PY:{fieldName:"issued",convert:function(t){return t["date-parts"][0][0]}},Y2:{fieldName:"accessed",convert:function(t){return(0,s.default)(t,"/")}},AB:"abstract",CN:"call-number",CY:["event-place","publisher-place"],DO:"DOI",ET:[{type:"book",fieldName:["version","edition"]}],IS:[{type:"__default",fieldName:"issue"}],J2:["journalAbbreviation"],LA:"language",LB:"citation-label",M1:"number",M3:["genre","medium"],N1:"note",RI:"reviewed-title",SE:"section",SN:[{type:"__default",fieldName:["ISBN","ISSN"]},{type:["patent","report"],fieldName:"number"}],SP:{fieldName:["first-page","page"]},T2:["container-title","collection-title"],T3:{fieldName:["container-title","collection-title"],keepAll:!0,convert:function(t,e){return t?e:void 0}},TI:["original-title","title"],TT:{fieldName:["original-title","title"],keepAll:!0,convert:function(t,e){return t?e:void 0}},UR:"URL",VL:"volume",A2:{fieldName:"editor",convert:c},C1:[{type:"chapter",fieldName:"section"},{type:"paper-conference",fieldName:"publisher-place"},{type:"map",fieldName:"scale"},{type:"musical_score",fieldName:"medium"}],C2:[{type:["article-journal","article"],fieldName:"PMCID"},{type:"paper-conference",fieldName:"issued",convert:function(t){return t["date-parts"][0][0]}},{type:"article-newspaper",fieldName:"issue"}],C3:[{type:["graphic","speech","sound","map"],fieldName:"dimensions"},{type:"paper-conference",fieldName:"container-title"}],C4:[{type:["review","review-book"],fieldName:"author",convert:c},{type:["motion_picture","broadcast"],fieldName:"genre"}],C5:[{type:["graphic","speech","sound","motion_picture","broadcast"],fieldName:"medium"}],C6:[{type:"report",fieldName:"issue"},{type:"patent",fieldName:"status"}],C7:[{type:["article-journal","article"],fieldName:"number"}],BT:[{type:"chapter",fieldName:"container-title"}],DB:"archive",DP:"source",ED:{fieldName:"editor",convert:c},ID:"id",NV:"number-of-volumes",OP:"references",PP:"publiser-place",ST:["short-title","titleShort"]},m=function t(e,r,i){if(!0===e)return{sourceFields:[r]};if("string"==typeof e)return{sourceFields:[e]};if(Array.isArray(e)&&"string"==typeof e[0])return{sourceFields:e};if(Array.isArray(e)&&"object"===l(e[0])){var s,n;e.forEach(function(t){"string"==typeof t.type&&t.type===i.type||Array.isArray(t.type)&&t.type.includes(i.type)?s=t:"__default"===t.type&&(n=t)});var o=s||n;return o?t(o.convert?o:o.fieldName,r,i):{}}return"object"===l(e)&&null!==e?{sourceFields:[].concat(e.fieldName),workOnEmptyInput:void 0===e.fieldName,convert:e.convert,keepAll:!0===e.keepAll}:{}},f=function(t){var e={};for(var r in p){var i=m(p[r],r,t),s=i.sourceFields,n=void 0===s?[]:s,o=i.workOnEmptyInput,l=void 0!==o&&o,u=i.convert,c=void 0!==u&&u,f=i.keepAll;if(void 0!==f&&f||(n=n.filter(t.hasOwnProperty.bind(t))),l||0!==n.length){var h=n.map(function(e){return t[e]});"function"==typeof c?void 0!==(h=c.call.apply(c,[t].concat(a(h))))&&(e[r]=h):e[r]=h[0]}}return e},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(t,"  - ").concat(e,"\n")},d=function(t){var e=o(t,2),r=e[0],i=e[1];return Array.isArray(i)?i.map(function(t){return h(r,t)}).join(""):h(r,i)},g=function(t){var e=Object.entries(t);if("TY"!==e[0][0]){var r=e.findIndex(function(t){return"TY"===o(t,1)[0]}),i=o(e.splice(r,1),1)[0];e.unshift(i)}return e.push(["ER"]),e.map(d).join("")},b={ris:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.type,i=e.format;return"object"===(void 0===i?r||"text":i)?t.map(f):t.map(f).map(g).join("")}};r.default=b},{"../../date":370,"../../name":394}],394:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=["dropping-particle","given"],s=["suffix"],n=["non-dropping-particle","family"],o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(e){return e.map(function(e){return t[e]||""}).filter(Boolean).join(" ")};if(t.literal)return t.literal;if(e){var o=r(s)?", ".concat(r(s)):"",a=r(i)?", ".concat(r(i)):"";return r(n)+o+a}return"".concat(r(i.concat(s,n)))};r.default=o},{}],395:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.format=r.list=r.has=r.remove=r.add=r.register=void 0;var i,s=(i=t("../util/register"))&&i.__esModule?i:{default:i};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=new s.default;r.register=o;r.add=function(t,e){!function(t,e){if("string"!=typeof t)throw new TypeError("Invalid output format name, expected string, got ".concat(n(t)));if("function"!=typeof e)throw new TypeError("Invalid formatter, expected function, got ".concat(n(e)))}(t,e),o.set(t,e)};r.remove=function(t){o.remove(t)};r.has=function(t){return o.has(t)};r.list=function(){return o.list()};r.format=function(t,e){if(o.has(t)){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return o.get(t).apply(void 0,[e].concat(i))}logger.error("[get]",'Output plugin "'.concat(t,'" unavailable'))}},{"../util/register":445}],396:[function(t,e,r){(function(t,e){"use strict";"true"===t.env.TEST_MOCHA?e.logger={error:function(){},warn:function(){},info:function(){}}:"function"==typeof console.Console?e.logger=new console.Console(t.stderr):e.logger=console}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:327}],397:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=t("./name"))&&i.__esModule?i:{default:i};function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a={author:2,"collection-editor":2,composer:2,"container-author":2,editor:2,"editorial-director":2,director:2,interviewer:2,illustrator:2,"original-author":2,"reviewed-author":2,recipient:2,translator:2,accessed:3,container:3,"event-date":3,issued:3,"original-date":3,submitted:3,categories:"object",id:["string","number"],type:"string",language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",DOI:"string",edition:["string","number"],event:"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string",PMCID:"string",PMID:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string",scale:"string",section:"string",source:"string",status:"string",title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"year-suffix":"string"},l=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"object"===o(t)&&(t.literal||t.given||t.family)?t:e&&"string"==typeof t?(0,s.default)(t):void 0},u=function t(e,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=[].concat(a[e]);switch(a[e]){case 1:return l(r,i);case 2:return function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t instanceof Array)return t.map(function(t){return l(t,e)}).filter(Boolean)||void 0}(r,i);case 3:return function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r="date-parts";if(t&&t[r]instanceof Array&&t[r].every(function(t){return t instanceof Array})){if(t[r].every(function(t){return t.every(function(t){return"number"==typeof t})}))return n({},r,t[r].map(function(t){return t.slice()}));if(!e)return;if(t[r].some(function(t){return t.some(function(t){return"string"==typeof t})}))return n({},r,t[r].map(function(t){return t.map(parseFloat)}))}else if(t&&t instanceof Array&&t[0][r]instanceof Array){if(t[0][r].every(function(t){return"number"==typeof t}))return n({},r,[t[0][r].slice()]);if(!e)return;if(t[0][r].every(function(t){return"string"==typeof t}))return n({},r,[t[0][r].map(parseFloat)])}}(r,i)}return s.includes(o(r))?r:/^_/.test(r)?r:i?"string"==typeof r&&s.includes("number")&&parseFloat(r)?parseFloat(r):"number"==typeof r&&s.includes("string")&&!s.includes("number")?r.toString():Array.isArray(r)&&r.length?t(e,r[0]):void 0:void 0},c=function(t){return t.map(function(t){var e={};for(var r in t){var i=u(r,t[r]);void 0!==i&&(e[r]=i)}return e})};r.default=c},{"./name":437}],398:[function(t,e,r){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=r.types=r.scope=void 0;var s={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},n=function(t){return s[t.toLowerCase().slice(0,3)]};r.default=r.parse=function(t){var e,r,s=(e=t,r=new Date(e),("number"!=typeof e||isNaN(r.valueOf())?null:[r.getFullYear(),r.getMonth()+1,r.getDate()])||function(t){var e=/^(\d{4}|[-+]\d{6,})-(\d{2})-(\d{2})/;if("string"!=typeof t||!e.test(t))return null;var r=i(t.match(e),4),s=r[1],n=r[2],o=r[3];return+n?+o?[s,n,o]:[s,n]:[s]}(t)||function(t){var e=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!=typeof t||!e.test(t))return null;var r=i(t.match(e),4),s=r[1],o=r[2],a=r[3];return(o=n(o))?[a,o,s]:null}(t)||function(t){var e=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!=typeof t||!e.test(t))return null;var r=i(t.match(e),4),s=r[1],n=r[2],o=r[3];return new Date(o,s,n).getMonth()===parseInt(s)?[o,s,n]:null}(t)||function(t){var e,r,s,o=/^(\d{1,2})[ .\-\/](\d{1,2}|[a-z]{3,10})[ .\-\/](-?\d+)/i,a=/^(-?\d+)[ .\-\/](\d{1,2}|[a-z]{3,10})[ .\-\/](\d{1,2})/i;if("string"!=typeof t)return null;if(o.test(t)){var l=i(t.match(o),4);s=l[1],r=l[2],e=l[3]}else{if(!a.test(t))return null;var u=i(t.match(a),4);e=u[1],r=u[2],s=u[3]}if(n(r))r=n(r);else if(isNaN(r))return null;return[e,r,s]}(t)||function(t){var e=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"==typeof t&&e.test(t)){var r,i=t.match(e).slice(1,3);if(n(i[1]))r=n(i.pop());else if(n(i[0]))r=n(i.shift());else{if(i.some(isNaN)||i.every(function(t){return+t<0}))return null;r=+i[0]<0?i.pop():+i[0]>+i[1]&&+i[1]>0?i.pop():i.shift()}return[i.pop(),r]}return null}(t)||function(t){return"string"==typeof t&&/^-?\d+$/.test(t)?[t]:null}(t));return s?{"date-parts":[s=s.map(function(t){return parseInt(t)})]}:{raw:t}};r.scope="@date";r.types="@date"},{}],399:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={wikidata:!0,bibtex:!0,bibtxt:!0,bibjson:!0,doi:!0,input:!0,json:!0,date:!0,name:!0,csl:!0};Object.defineProperty(r,"json",{enumerable:!0,get:function(){return p.parse}}),Object.defineProperty(r,"date",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"name",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"csl",{enumerable:!0,get:function(){return h.default}}),r.input=r.doi=r.bibjson=r.bibtxt=r.bibtex=r.wikidata=void 0,t("./modules/");var s=t("./interface/chain"),n=t("./interface/data"),o=t("./interface/type"),a=t("./modules/bibjson/"),l=t("./modules/bibtex/"),u=t("./modules/doi/"),c=t("./modules/wikidata/"),p=t("./modules/other/json"),m=g(t("./date")),f=g(t("./name")),h=g(t("./csl")),d=t("./interface/");function g(t){return t&&t.__esModule?t:{default:t}}Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return d[t]}}))});var b={list:c.parsers.list.parse,json:c.parsers.json.parse,prop:c.parsers.prop.parse,type:c.parsers.type.parse,async:{json:c.parsers.json.parseAsync,prop:c.parsers.prop.parseAsync}};r.wikidata=b;var _={json:l.parsers.json.parse,text:l.parsers.text.parse,prop:l.parsers.prop.parse,type:l.parsers.type.parse};r.bibtex=_;var v={text:l.parsers.bibtxt.text,textEntry:l.parsers.bibtxt.textEntry};r.bibtxt=v;var y=a.parsers.json.parse;r.bibjson=y;var x={id:u.parsers.id.parse,api:u.parsers.api.parse,async:{api:u.parsers.api.parseAsync}};r.doi=x;var w={chain:s.chain,chainAsync:s.chainAsync,chainLink:s.chainLink,chainLinkAsync:s.chainLinkAsync,data:n.data,dataAsync:n.dataAsync,type:o.type,async:{chain:s.chainAsync,chainLink:s.chainLinkAsync,data:n.dataAsync}};r.input=w},{"./csl":397,"./date":398,"./interface/":404,"./interface/chain":400,"./interface/data":401,"./interface/type":407,"./modules/":422,"./modules/bibjson/":408,"./modules/bibtex/":411,"./modules/doi/":419,"./modules/other/json":428,"./modules/wikidata/":431,"./name":437}],400:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.chainLinkAsync=r.chainAsync=r.chainLink=r.chain=void 0;var i,s=(i=t("../../util/deepCopy"))&&i.__esModule?i:{default:i},n=t("./type"),o=t("./data"),a=t("./graph");function l(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var n=t.apply(e,r);function o(t,e){try{var r=n[t](e),o=r.value}catch(t){return void s(t)}r.done?i(o):Promise.resolve(o).then(a,l)}function a(t){o("next",t)}function l(t){o("throw",t)}a()})}}r.chain=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.maxChainLength,i=void 0===r?10:r,l=e.generateGraph,u=void 0===l||l,c=e.forceType||(0,n.type)(t),p=c.match(/object$/)?(0,s.default)(t):t,m=[{type:c,data:t}];"@csl/list+object"!==c;){if(i--<=0)return logger.error("[set]","Max. number of parsing iterations reached"),[];p=(0,o.data)(p,c),c=(0,n.type)(p),m.push({type:c})}return p.map(u?function(t){return(0,a.applyGraph)(t,m)}:a.removeGraph)};r.chainLink=function(t){var e=(0,n.type)(t),r=e.match(/array|object/)?(0,s.default)(t):t;return(0,o.data)(r,e)};var u,c=(u=l(regeneratorRuntime.mark(function t(e){var r,i,l,u,c,p,m,f,h,d=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=d.length>1&&void 0!==d[1]?d[1]:{},i=r.maxChainLength,l=void 0===i?10:i,u=r.generateGraph,c=void 0===u||u,p=r.forceType,m=p||(0,n.type)(e),f=m.match(/array|object/)?(0,s.default)(e):e,h=[{type:m,data:e}];case 5:if("@csl/list+object"===m){t.next=16;break}if(!(l--<=0)){t.next=9;break}return logger.error("[set]","Max. number of parsing iterations reached"),t.abrupt("return",[]);case 9:return t.next=11,(0,o.dataAsync)(f,m);case 11:f=t.sent,m=(0,n.type)(f),h.push({type:m}),t.next=5;break;case 16:return t.abrupt("return",f.map(c?function(t){return(0,a.applyGraph)(t,h)}:a.removeGraph));case 17:case"end":return t.stop()}},t,this)})),function(t){return u.apply(this,arguments)});r.chainAsync=c;var p,m=(p=l(regeneratorRuntime.mark(function t(e){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,n.type)(e),i=r.match(/array|object/)?(0,s.default)(e):e,t.abrupt("return",(0,o.dataAsync)(i,r));case 3:case"end":return t.stop()}},t,this)})),function(t){return p.apply(this,arguments)});r.chainLinkAsync=m},{"../../util/deepCopy":440,"./data":401,"./graph":403,"./type":407}],401:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.listDataParser=r.removeDataParser=r.hasDataParser=r.addDataParser=r.dataAsync=r.data=void 0;var i=t("./chain");function s(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var n=t.apply(e,r);function o(t,e){try{var r=n[t](e),o=r.value}catch(t){return void s(t)}r.done?i(o):Promise.resolve(o).then(a,l)}function a(t){o("next",t)}function l(t){o("throw",t)}a()})}}function n(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o,a=function(t){var e;return(e=[]).concat.apply(e,n(t))},l={},u={},c={"@csl/object":function(t){return[t]},"@csl/list+object":function(t){return t},"@else/list+object":function(t){return a(t.map(i.chain))},"@invalid":function(){return[]}},p={"@else/list+object":(o=s(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,Promise.all(e.map(i.chainAsync));case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)})},m=function(t,e){return l.hasOwnProperty(e)?l[e](t):c.hasOwnProperty(e)?c[e](t):(logger.error("[set]","No synchronous parser found for ".concat(e)),null)};r.data=m;var f,h=(f=s(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!u.hasOwnProperty(r)){t.next=4;break}return t.abrupt("return",u[r](e));case 4:if(!p.hasOwnProperty(r)){t.next=8;break}return t.abrupt("return",p[r](e));case 8:if(!d(r,!1)){t.next=12;break}return t.abrupt("return",m(e,r));case 12:return logger.error("[set]","No parser found for ".concat(r)),t.abrupt("return",null);case 14:case"end":return t.stop()}},t,this)})),function(t,e){return f.apply(this,arguments)});r.dataAsync=h;r.addDataParser=function(t,e){var r=e.parser;e.async?u[t]=r:l[t]=r};var d=function(t,e){return e?u[t]||p[t]:l[t]||c[t]};r.hasDataParser=d;r.removeDataParser=function(t,e){delete(e?u:l)[t]};r.listDataParser=function(t){return Object.keys(t?u:l)}},{"./chain":400}],402:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.dataTypeOf=r.typeOf=void 0;var s=function(t){switch(t){case void 0:return"Undefined";case null:return"Null";default:return t.constructor.name}};r.typeOf=s;r.dataTypeOf=function(t){switch(i(t)){case"string":return"String";case"object":if(Array.isArray(t))return"Array";if("Object"===s(t))return"SimpleObject";if("Null"!==s(t))return"ComplexObject";default:return"Primitive"}}},{}],403:[function(t,e,r){"use strict";function i(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(r,"__esModule",{value:!0}),r.removeGraph=r.applyGraph=void 0;r.applyGraph=function(t,e){var r=function(t){return"@else/list+object"===t.type};return Array.isArray(t._graph)?e.find(r)&&(e.splice.apply(e,[e.findIndex(r),1].concat(i(t._graph.slice(0,-1)))),t._graph=e):t._graph=e,t};r.removeGraph=function(t){return delete t._graph,t}},{}],404:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={util:!0};r.util=void 0;var s=p(t("./dataType")),n=p(t("./graph")),o=p(t("./parser")),a=t("./register");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return a[t]}}))});var l=t("./chain");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return l[t]}}))});var u=t("./type");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return u[t]}}))});var c=t("./data");function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return c[t]}}))});var f=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(e){m(t,e,r[e])})}return t}({},s,n,o);r.util=f},{"./chain":400,"./data":401,"./dataType":402,"./graph":403,"./parser":405,"./register":406,"./type":407}],405:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FormatParser=r.DataParser=r.TypeParser=void 0;var i=t("./type");function s(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}var u=function(){function t(e){var r,i,s;o(this,t),s=["String","Array","SimpleObject","ComplexObject","Primitive"],(i="validDataTypes")in(r=this)?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s,this.data=e}return l(t,[{key:"validateDataType",value:function(){var t=this.data.dataType;if(t&&!this.validDataTypes.includes(t))throw new RangeError("dataType was ".concat(t,"; expected one of ").concat(this.validDataTypes))}},{key:"validateParseType",value:function(){var t=this.data.predicate;if(t&&!(t instanceof RegExp||"function"==typeof t))throw new TypeError("predicate was ".concat(n(t),"; expected RegExp or function"))}},{key:"validateTokenList",value:function(){var t=this.data.tokenList;if(t&&"object"!==n(t))throw new TypeError("tokenList was ".concat(n(t),"; expected object or RegExp"))}},{key:"validatePropertyConstraint",value:function(){var t=this.data.propertyConstraint;if(t&&"object"!==n(t))throw new TypeError("propertyConstraint was ".concat(n(t),"; expected array or object"))}},{key:"validateElementConstraint",value:function(){var t=this.data.elementConstraint;if(t&&"string"!=typeof t)throw new TypeError("elementConstraint was ".concat(n(t),"; expected string"))}},{key:"validateExtends",value:function(){var t=this.data.extends;if(t&&"string"!=typeof t)throw new TypeError("extends was ".concat(n(t),"; expected string"))}},{key:"validate",value:function(){if(null===this.data||"object"!==n(this.data))throw new TypeError("typeParser was ".concat(n(this.data),"; expected object"));this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}},{key:"parseTokenList",value:function(){var t=this.data.tokenList;if(!t)return[];t instanceof RegExp&&(t={token:t});var e=t,r=e.token,i=e.split,s=void 0===i?/\s+/:i,n=e.trim,o=void 0===n||n,a=e.every,l=void 0===a||a?"every":"some";return[function(t){return function(t){return o?t.trim():t}(t).split(s)[l](function(t){return r.test(t)})}]}},{key:"parsePropertyConstraint",value:function(){return[].concat(this.data.propertyConstraint||[]).map(function(t){var e=t.props,r=t.match,i=void 0===r?"every":r,s=t.value,n=void 0===s?function(){return!0}:s;return e=[].concat(e),function(t){return e[i](function(e){return e in t&&n(t[e])})}})}},{key:"parseElementConstraint",value:function(){var t=this.data.elementConstraint;return t?[function(e){return e.every(function(e){return(0,i.type)(e)===t})}]:[]}},{key:"parsePredicate",value:function(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}},{key:"getCombinedPredicate",value:function(){var t=s(this.parsePredicate()).concat(s(this.parseTokenList()),s(this.parsePropertyConstraint()),s(this.parseElementConstraint()));return 0===t.length?function(){return!0}:1===t.length?t[0]:function(e){return t.every(function(t){return t(e)})}}},{key:"getDataType",value:function(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp?"String":this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}},{key:"dataType",get:function(){return this.getDataType()}},{key:"predicate",get:function(){return this.getCombinedPredicate()}},{key:"extends",get:function(){return this.data.extends}}]),t}();r.TypeParser=u;var c=function(){function t(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).async;o(this,t),this.parser=e,this.async=r}return l(t,[{key:"validate",value:function(){var t=this.parser;if("function"!=typeof t)throw new TypeError("parser was ".concat(n(t),"; expected function"))}}]),t}();r.DataParser=c;var p=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),this.format=e,r.parseType&&(this.typeParser=new u(r.parseType)),r.parse&&(this.dataParser=new c(r.parse,{async:!1})),r.parseAsync&&(this.asyncDataParser=new c(r.parseAsync,{async:!0}))}return l(t,[{key:"validateFormat",value:function(){var t=this.format;if(!i.typeMatcher.test(t))throw new TypeError('format name was "'.concat(t,"\"; didn't match expected pattern"))}},{key:"validate",value:function(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}]),t}();r.FormatParser=p},{"./type":407}],406:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.list=r.has=r.remove=r.add=void 0;var i=t("./parser"),s=t("./type"),n=t("./data"),o={};r.add=function(t,e){var r=new i.FormatParser(t,e);r.validate();var a=o[t]={};r.typeParser&&((0,s.addTypeParser)(t,r.typeParser),a.type=!0),r.dataParser&&((0,n.addDataParser)(t,r.dataParser),a.data=!0),r.asyncDataParser&&((0,n.addDataParser)(t,r.asyncDataParser),a.asyncData=!0)};r.remove=function(t){var e=o[t];e&&(e.type&&(0,s.removeTypeParser)(t),e.data&&(0,n.removeDataParser)(t),e.asyncData&&(0,n.removeDataParser)(t,!0),delete o[t])};r.has=function(t){return t in o};r.list=function(){return Object.keys(o)}},{"./data":401,"./parser":405,"./type":407}],407:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.typeMatcher=r.treeTypeParser=r.listTypeParser=r.removeTypeParser=r.hasTypeParser=r.addTypeParser=r.type=void 0;var i=t("./dataType");function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o={},a={},l={},u=function(t,e){switch(e){case"Array":return 0===t.length||t.every(function(t){return"@csl/object"===c(t)})?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return logger.warn("[set]","This format is not supported or recognized"),"@invalid"}},c=function(t){var e=(0,i.dataTypeOf)(t);return"Array"===e&&0===t.length?u(t,e):function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,i=!0,s=!1,n=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value;if(o[u].predicate(r))return t(o[u].extensions,r)||u}}catch(t){s=!0,n=t}finally{try{i||null==l.return||l.return()}finally{if(s)throw n}}}(a[e],t)||u(t,e)};r.type=c;r.addTypeParser=function(t,e){var r=e.dataType,i=e.predicate,s=e.extends,n=[];t in l&&(n=l[t],delete l[t],logger.info("[set]",'Subclasses "'.concat(n,'" finally registered to parent type "').concat(t,'"')));var u={predicate:i,extensions:n};if(o[t]=u,s){var c=o[s];c?c.extensions.push(t):(l[s]||(l[s]=[]),l[s].push(t),logger.info("[set]",'Subclass "'.concat(t,'" is waiting on parent type "').concat(s,'"')))}else(a[r]||(a[r]=[])).push(t)};r.hasTypeParser=function(t){return o.hasOwnProperty(t)};r.removeTypeParser=function(t){delete o[t],n(Object.values(a)).concat(n(Object.values(o).map(function(t){return t.extensions}).filter(function(t){return t.length>0}))).forEach(function(e){var r=e.indexOf(t);r>-1&&e.splice(r,1)})};r.listTypeParser=function(){return Object.keys(o)};r.treeTypeParser=function(){var t=function t(e){return{name:e,children:o[e].extensions.map(t)}};return{name:"Type tree",children:Object.entries(a).map(function(e){var r=s(e,2);return{name:r[0],children:r[1].map(t)}})}};r.typeMatcher=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/},{"./dataType":402}],408:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formats=r.parsers=r.ref=void 0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("./json"));r.ref="@bibjson";var s={json:i};r.parsers=s;var n={"@bibjson/object":{parse:i.parse,parseType:{dataType:"SimpleObject",propertyConstraint:{props:["fulltext_html","fulltext_xml","fulltext_pdf"],match:"some",value:function(t){return t&&Array.isArray(t.value)}}}}};r.formats=n},{"./json":409}],409:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parse=void 0;var i=n(t("../../date")),s=n(t("../../name"));function n(t){return t&&t.__esModule?t:{default:t}}r.parse=function(t){var e={type:"article-journal"};return Object.keys(t).forEach(function(r){e[r]=t[r].value[0]}),e.hasOwnProperty("authors")&&(e.author=t.authors.value.map(s.default)),e.hasOwnProperty("firstpage")&&(e.page=e["page-first"]=e.firstpage),e.hasOwnProperty("date")&&(e.issued=(0,i.default)(e.date)),e.hasOwnProperty("journal")&&(e["container-title"]=e.journal),e.hasOwnProperty("doi")&&(e.id=e.DOI=e.doi),e}},{"../../date":398,"../../name":437}],410:[function(t,e,r){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(r,"__esModule",{value:!0}),r.textEntry=r.text=r.parse=void 0;var s=/\n\s*(?=\[)/g,n=/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,o=/((?=.)\s)*\n\s*/g,a=/:(.*)/,l=function(t){var e=i(t.match(n)||[],3),r=e[1],s=e[2];if(r&&s){var l={type:"book",label:r,properties:{}};return s.trim().split(o).filter(function(t){return t}).forEach(function(t){var e=i(t.split(a),2),r=e[0],s=e[1];s&&(r=r.trim(),s=s.trim(),"type"===r?l.type=s:l.properties[r]=s)}),l}return{}};r.textEntry=l;r.text=r.parse=function(t){return t.trim().split(s).map(l)}},{}],411:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formats=r.parsers=r.ref=void 0;var i=l(t("./text")),s=l(t("./json")),n=l(t("./prop")),o=l(t("./type")),a=l(t("./bibtxt"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}r.ref="@bibtex";var u={text:i,json:s,prop:n,type:o,bibtxt:a};r.parsers=u;var c={"@bibtex/text":{parse:i.parse,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@bibtxt/text":{parse:a.parse,parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}},"@bibtex/object":{parse:s.parse,parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@bibtex/prop":{parse:n.parse},"@bibtex/type":{parse:o.parse}};r.formats=c},{"./bibtxt":410,"./json":412,"./prop":413,"./text":414,"./type":416}],412:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=void 0;var i=n(t("./prop")),s=n(t("./type"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.default=r.parse=function(t){return[].concat(t).map(function(t){var e={},r=[];for(var n in t.properties){var a=t.properties[n],l=o((0,i.default)(n,a)||[],2),u=l[0],c=l[1];u&&(/^[^:\s]+?:[^.\s]+(\.[^.\s]+)*$/.test(u)?r.push([u,c]):e[u]=c)}return e.type=(0,s.default)(t.type),e.id=e["citation-label"]=t.label,/\d(\D+)$/.test(t.label)&&(e["year-suffix"]=t.label.match(/\d(\D+)$/)[1]),r.forEach(function(t){for(var r=o(t,2),i=r[0],s=r[1],n=i.split(/:|\./g),a=e;n.length>0;){var l=n.shift();a=a[l]||(a[l]=n.length?isNaN(+n[0])?{}:[]:s)}}),e})}},{"./prop":413,"./type":416}],413:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=void 0;var i=n(t("../../name")),s=n(t("../../date"));function n(t){return t&&t.__esModule?t:{default:t}}var o=[/jan(uary)?\.?/i,/feb(ruary)?\.?/i,/mar(ch)?\.?/i,/apr(il)?\.?/i,/may\.?/i,/jun(e)?\.?/i,/jul(y)?\.?/i,/aug(ust)?\.?/i,/sep(tember)?\.?/i,/oct(ober)?\.?/i,/nov(ember)?\.?/i,/dec(ember)?\.?/i],a=function(t){return/{|}/.test(t)?{literal:t.replace(/[{}]/g,"")}:(0,i.default)(t)},l={address:"publisher-place",author:!0,booktitle:"container-title",doi:"DOI",date:"issued",edition:!0,editor:!0,isbn:"ISBN",issn:"ISSN",issue:"issue",journal:"container-title",language:!0,location:"publisher-place",note:!0,number:"issue",numpages:"number-of-pages",pages:"page",pmid:"PMID",pmcid:"PMCID",publisher:!0,series:"collection-title",title:!0,url:"URL",volume:!0,year:"issued:date-parts.0.0",month:"issued:date-parts.0.1",day:"issued:date-parts.0.2",crossref:!1,keywords:!1};r.default=r.parse=function(t,e){if(l.hasOwnProperty(t)){if(!1!==l[t]){var r=!0===l[t]?t:l[t];return[r,function(t,e){switch(r){case"author":case"editor":return i=[],e.replace(/%/g,"%0").replace(/{.*?}/g,function(t){return"%[".concat(i.push(t)-1,"]")}).split(" and ").map(function(t){return t.replace(/%\[(\d+)\]/,function(t,e){return i[+e]}).replace(/%0/g,"%")}).map(a);case"issued":return function(t){return/{|}/.test(t)?{literal:t.replace(/[{}]/g,"")}:(0,s.default)(t)}(e);case"edition":return e;case"issued:date-parts.0.1":return parseFloat(e)?e:o.findIndex(function(t){return t.test(e)})+1;case"page":return e.replace(/[—–]/,"-");default:return e.replace(/[{}]/g,"")}var i}(0,e)]}}else logger.info("[set]","Unknown property: ".concat(t))}},{"../../date":398,"../../name":437}],414:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=void 0;var i=n(t("../../../util/stack")),s=n(t("./tokens.json"));function n(t){return t&&t.__esModule?t:{default:t}}var o=/\\url|\\href|{\\[a-zA-Z]+}|\$\\[a-zA-Z]+\$|\$[_^]{[0-9()+=\-n]}\$|`{2,3}|'{2,3}|-{2,3}|[!?]!|!\?|{\\~}|\\[#$%&~_^\\{}]|{\\(?:[a-z] |[`"'^~=.])\\?[a-zA-Z]}|[\s\S]/g,a=/^\s$/,l=/^[@{}"=,\\]$/,u={'"':'"',"{":"}","":""};r.default=r.parse=function(t){var e=[],r=function(t){return(t=t.replace(/(\\[`"'^~=.]){\\?([A-Za-z])}/g,"{$1$2}").replace(/(\\[a-z]) ?{\\?([A-Za-z])}/g,"{$1 $2}")).match(o)}(t),n=new i.default(r);try{for(n.consumeWhitespace();n.tokensLeft();){n.consumeToken("@",{spaced:!1}),n.consumeWhitespace();var c=n.consume([a,l],{inverse:!0}).toLowerCase();n.consumeToken("{");var p=n.consume([a,l],{inverse:!0});n.consumeToken(",");for(var m={},f=function(){var t=n.consume([a,"="],{inverse:!0}).toLowerCase();n.consumeToken("=");var e=n.consume(/^({|"|)$/g),r=u[e];if(!u.hasOwnProperty(e))throw new SyntaxError("Unexpected field delimiter at index ".concat(n.index,". Expected ")+"".concat(Object.keys(u).map(function(t){return'"'.concat(t,'"')}).join(", "),'; got "').concat(e,'"'));var i=0,o=n.consume(function(t,e){if("{"===t&&i++,n.tokensLeft()<r.length)throw new SyntaxError("Unmatched delimiter at index ".concat(n.index,": Expected ").concat(r));return r.length?"}"===t&&i--||!n.matchesSequence(r):![a,l].some(function(e){return e.test(t)})},{tokenMap:function(t){if(s.default.hasOwnProperty(t))return s.default[t];if(t.match(/^\\[#$%&~_^\\{}]$/))return t.slice(1);if(t.length>1)throw new SyntaxError("Escape sequence not recognized: ".concat(t));return t}});return m[t]=o,n.consumeN(r.length),n.consumeWhitespace(),n.matches("}")?"break":(n.consumeToken(",",{spaced:!1}),n.consumeWhitespace(),n.matches("}")?"break":void 0)};n.tokensLeft()&&"break"!==f(););n.consumeToken("}",{spaced:!1}),n.consumeWhitespace(),e.push({type:c,label:p,properties:m})}}catch(t){logger.error("Uncaught SyntaxError: ".concat(t.message,". Returning completed entries.")),e.pop()}return e}},{"../../../util/stack":446,"./tokens.json":415}],415:[function(t,e,r){e.exports={"\\url":"","\\href":"","{\\textexclamdown}":"¡","{\\textcent}":"¢","{\\textsterling}":"£","{\\textyen}":"¥","{\\textbrokenbar}":"¦","{\\textsection}":"§","{\\textasciidieresis}":"¨","{\\textcopyright}":"©","{\\textordfeminine}":"ª","{\\guillemotleft}":"«","{\\textlnot}":"¬","{\\textregistered}":"®","{\\textasciimacron}":"¯","{\\textdegree}":"°","{\\textpm}":"±","{\\texttwosuperior}":"²","{\\textthreesuperior}":"³","{\\textasciiacute}":"´","{\\textmu}":"µ","{\\textparagraph}":"¶","{\\textperiodcentered}":"·","{\\c\\ }":"¸","{\\textonesuperior}":"¹","{\\textordmasculine}":"º","{\\guillemotright}":"»","{\\textonequarter}":"¼","{\\textonehalf}":"½","{\\textthreequarters}":"¾","{\\textquestiondown}":"¿","{\\AE}":"Æ","{\\DH}":"Ð","{\\texttimes}":"×","{\\O}":"Ø","{\\TH}":"Þ","{\\ss}":"ß","{\\ae}":"æ","{\\dh}":"ð","{\\textdiv}":"÷","{\\o}":"ø","{\\th}":"þ","{\\i}":"ı","{\\NG}":"Ŋ","{\\ng}":"ŋ","{\\OE}":"Œ","{\\oe}":"œ","{\\textasciicircum}":"ˆ","{\\textacutedbl}":"˝","$\\Gamma$":"Γ","$\\Delta$":"Δ","$\\Theta$":"Θ","$\\Lambda$":"Λ","$\\Xi$":"Ξ","$\\Pi$":"Π","$\\Sigma$":"Σ","$\\Phi$":"Φ","$\\Psi$":"Ψ","$\\Omega$":"Ω","$\\alpha$":"α","$\\beta$":"β","$\\gamma$":"γ","$\\delta$":"δ","$\\varepsilon$":"ε","$\\zeta$":"ζ","$\\eta$":"η","$\\theta$":"θ","$\\iota$":"ι","$\\kappa$":"κ","$\\lambda$":"λ","$\\mu$":"μ","$\\nu$":"ν","$\\xi$":"ξ","$\\pi$":"π","$\\rho$":"ρ","$\\varsigma$":"ς","$\\sigma$":"σ","$\\tau$":"τ","$\\upsilon$":"υ","$\\varphi$":"φ","$\\chi$":"χ","$\\psi$":"ψ","$\\omega$":"ω","$\\vartheta$":"ϑ","$\\Upsilon$":"ϒ","$\\phi$":"ϕ","$\\varpi$":"ϖ","$\\varrho$":"ϱ","$\\epsilon$":"ϵ","{\\textendash}":"–","{\\textemdash}":"—","---":"—","--":"–","{\\textbardbl}":"‖","{\\textunderscore}":"‗","{\\textquoteleft}":"‘","{\\textquoteright}":"’","{\\quotesinglbase}":"‚","{\\textquotedblleft}":"“","{\\textquotedblright}":"”","{\\quotedblbase}":"„","{\\textdagger}":"†","{\\textdaggerdbl}":"‡","{\\textbullet}":"•","{\\textellipsis}":"…","{\\textperthousand}":"‰","'''":"‴","''":"”","``":"“","```":"‷","{\\guilsinglleft}":"‹","{\\guilsinglright}":"›","!!":"‼","{\\textfractionsolidus}":"⁄","?!":"⁈","!?":"⁉","$^{0}$":"⁰","$^{4}$":"⁴","$^{5}$":"⁵","$^{6}$":"⁶","$^{7}$":"⁷","$^{8}$":"⁸","$^{9}$":"⁹","$^{+}$":"⁺","$^{-}$":"⁻","$^{=}$":"⁼","$^{(}$":"⁽","$^{)}$":"⁾","$^{n}$":"ⁿ","$_{0}$":"₀","$_{1}$":"₁","$_{2}$":"₂","$_{3}$":"₃","$_{4}$":"₄","$_{5}$":"₅","$_{6}$":"₆","$_{7}$":"₇","$_{8}$":"₈","$_{9}$":"₉","$_{+}$":"₊","$_{-}$":"₋","$_{=}$":"₌","$_{(}$":"₍","$_{)}$":"₎","{\\texteuro}":"€","{\\textcelsius}":"℃","{\\textnumero}":"№","{\\textcircledP}":"℗","{\\textservicemark}":"℠","{TEL}":"℡","{\\texttrademark}":"™","{\\textohm}":"Ω","{\\textestimated}":"℮","{\\`A}":"À","{\\'A}":"Á","{\\^A}":"Â","{\\~A}":"Ã",'{\\"A}':"Ä","{\\r A}":"Å","{\\c C}":"Ç","{\\`E}":"È","{\\'E}":"É","{\\^E}":"Ê",'{\\"E}':"Ë","{\\`I}":"Ì","{\\'I}":"Í","{\\^I}":"Î",'{\\"I}':"Ï","{\\~N}":"Ñ","{\\`O}":"Ò","{\\'O}":"Ó","{\\^O}":"Ô","{\\~O}":"Õ",'{\\"O}':"Ö","{\\`U}":"Ù","{\\'U}":"Ú","{\\^U}":"Û",'{\\"U}':"Ü","{\\'Y}":"Ý","{\\`a}":"à","{\\'a}":"á","{\\^a}":"â","{\\~a}":"ã",'{\\"a}':"ä","{\\r a}":"å","{\\c c}":"ç","{\\`e}":"è","{\\'e}":"é","{\\^e}":"ê",'{\\"e}':"ë","{\\`i}":"ì","{\\'i}":"í","{\\^i}":"î",'{\\"i}':"ï","{\\~n}":"ñ","{\\`o}":"ò","{\\'o}":"ó","{\\^o}":"ô","{\\~o}":"õ",'{\\"o}':"ö","{\\`u}":"ù","{\\'u}":"ú","{\\^u}":"û",'{\\"u}':"ü","{\\'y}":"ý",'{\\"y}':"ÿ","{\\=A}":"Ā","{\\=a}":"ā","{\\u A}":"Ă","{\\u a}":"ă","{\\k A}":"Ą","{\\k a}":"ą","{\\'C}":"Ć","{\\'c}":"ć","{\\^C}":"Ĉ","{\\^c}":"ĉ","{\\.C}":"Ċ","{\\.c}":"ċ","{\\v C}":"Č","{\\v c}":"č","{\\v D}":"Ď","{\\v d}":"ď","{\\=E}":"Ē","{\\=e}":"ē","{\\u E}":"Ĕ","{\\u e}":"ĕ","{\\.E}":"Ė","{\\.e}":"ė","{\\k E}":"Ę","{\\k e}":"ę","{\\v E}":"Ě","{\\v e}":"ě","{\\^G}":"Ĝ","{\\^g}":"ĝ","{\\u G}":"Ğ","{\\u g}":"ğ","{\\.G}":"Ġ","{\\.g}":"ġ","{\\c G}":"Ģ","{\\c g}":"ģ","{\\^H}":"Ĥ","{\\^h}":"ĥ","{\\~I}":"Ĩ","{\\~i}":"ĩ","{\\=I}":"Ī","{\\=i}":"ī","{\\=\\i}":"ī","{\\u I}":"Ĭ","{\\u i}":"ĭ","{\\k I}":"Į","{\\k i}":"į","{\\.I}":"İ","{\\^J}":"Ĵ","{\\^j}":"ĵ","{\\c K}":"Ķ","{\\c k}":"ķ","{\\'L}":"Ĺ","{\\'l}":"ĺ","{\\c L}":"Ļ","{\\c l}":"ļ","{\\v L}":"Ľ","{\\v l}":"ľ","{\\L }":"Ł","{\\l }":"ł","{\\'N}":"Ń","{\\'n}":"ń","{\\c N}":"Ņ","{\\c n}":"ņ","{\\v N}":"Ň","{\\v n}":"ň","{\\=O}":"Ō","{\\=o}":"ō","{\\u O}":"Ŏ","{\\u o}":"ŏ","{\\H O}":"Ő","{\\H o}":"ő","{\\'R}":"Ŕ","{\\'r}":"ŕ","{\\c R}":"Ŗ","{\\c r}":"ŗ","{\\v R}":"Ř","{\\v r}":"ř","{\\'S}":"Ś","{\\'s}":"ś","{\\^S}":"Ŝ","{\\^s}":"ŝ","{\\c S}":"Ş","{\\c s}":"ş","{\\v S}":"Š","{\\v s}":"š","{\\c T}":"Ţ","{\\c t}":"ţ","{\\v T}":"Ť","{\\v t}":"ť","{\\~U}":"Ũ","{\\~u}":"ũ","{\\=U}":"Ū","{\\=u}":"ū","{\\u U}":"Ŭ","{\\u u}":"ŭ","{\\r U}":"Ů","{\\r u}":"ů","{\\H U}":"Ű","{\\H u}":"ű","{\\k U}":"Ų","{\\k u}":"ų","{\\^W}":"Ŵ","{\\^w}":"ŵ","{\\^Y}":"Ŷ","{\\^y}":"ŷ",'{\\"Y}':"Ÿ","{\\'Z}":"Ź","{\\'z}":"ź","{\\.Z}":"Ż","{\\.z}":"ż","{\\v Z}":"Ž","{\\v z}":"ž","{\\v A}":"Ǎ","{\\v a}":"ǎ","{\\v I}":"Ǐ","{\\v i}":"ǐ","{\\v O}":"Ǒ","{\\v o}":"ǒ","{\\v U}":"Ǔ","{\\v u}":"ǔ","{\\v G}":"Ǧ","{\\v g}":"ǧ","{\\v K}":"Ǩ","{\\v k}":"ǩ","{\\k O}":"Ǫ","{\\k o}":"ǫ","{\\v j}":"ǰ","{\\'G}":"Ǵ","{\\'g}":"ǵ","{\\.B}":"Ḃ","{\\.b}":"ḃ","{\\d B}":"Ḅ","{\\d b}":"ḅ","{\\b B}":"Ḇ","{\\b b}":"ḇ","{\\.D}":"Ḋ","{\\.d}":"ḋ","{\\d D}":"Ḍ","{\\d d}":"ḍ","{\\b D}":"Ḏ","{\\b d}":"ḏ","{\\c D}":"Ḑ","{\\c d}":"ḑ","{\\.F}":"Ḟ","{\\.f}":"ḟ","{\\=G}":"Ḡ","{\\=g}":"ḡ","{\\.H}":"Ḣ","{\\.h}":"ḣ","{\\d H}":"Ḥ","{\\d h}":"ḥ",'{\\"H}':"Ḧ",'{\\"h}':"ḧ","{\\c H}":"Ḩ","{\\c h}":"ḩ","{\\'K}":"Ḱ","{\\'k}":"ḱ","{\\d K}":"Ḳ","{\\d k}":"ḳ","{\\b K}":"Ḵ","{\\b k}":"ḵ","{\\d L}":"Ḷ","{\\d l}":"ḷ","{\\b L}":"Ḻ","{\\b l}":"ḻ","{\\'M}":"Ḿ","{\\'m}":"ḿ","{\\.M}":"Ṁ","{\\.m}":"ṁ","{\\d M}":"Ṃ","{\\d m}":"ṃ","{\\.N}":"Ṅ","{\\.n}":"ṅ","{\\d N}":"Ṇ","{\\d n}":"ṇ","{\\b N}":"Ṉ","{\\b n}":"ṉ","{\\'P}":"Ṕ","{\\'p}":"ṕ","{\\.P}":"Ṗ","{\\.p}":"ṗ","{\\.R}":"Ṙ","{\\.r}":"ṙ","{\\d R}":"Ṛ","{\\d r}":"ṛ","{\\b R}":"Ṟ","{\\b r}":"ṟ","{\\.S}":"Ṡ","{\\.s}":"ṡ","{\\d S}":"Ṣ","{\\d s}":"ṣ","{\\.T}":"Ṫ","{\\.t}":"ṫ","{\\d T}":"Ṭ","{\\d t}":"ṭ","{\\b T}":"Ṯ","{\\b t}":"ṯ","{\\~V}":"Ṽ","{\\~v}":"ṽ","{\\d V}":"Ṿ","{\\d v}":"ṿ","{\\`W}":"Ẁ","{\\`w}":"ẁ","{\\'W}":"Ẃ","{\\'w}":"ẃ",'{\\"W}':"Ẅ",'{\\"w}':"ẅ","{\\.W}":"Ẇ","{\\.w}":"ẇ","{\\d W}":"Ẉ","{\\d w}":"ẉ","{\\.X}":"Ẋ","{\\.x}":"ẋ",'{\\"X}':"Ẍ",'{\\"x}':"ẍ","{\\.Y}":"Ẏ","{\\.y}":"ẏ","{\\^Z}":"Ẑ","{\\^z}":"ẑ","{\\d Z}":"Ẓ","{\\d z}":"ẓ","{\\b Z}":"Ẕ","{\\b z}":"ẕ","{\\b h}":"ẖ",'{\\"t}':"ẗ","{\\r w}":"ẘ","{\\r y}":"ẙ","{\\d A}":"Ạ","{\\d a}":"ạ","{\\d E}":"Ẹ","{\\d e}":"ẹ","{\\~E}":"Ẽ","{\\~e}":"ẽ","{\\d I}":"Ị","{\\d i}":"ị","{\\d O}":"Ọ","{\\d o}":"ọ","{\\d U}":"Ụ","{\\d u}":"ụ","{\\`Y}":"Ỳ","{\\`y}":"ỳ","{\\d Y}":"Ỵ","{\\d y}":"ỵ","{\\~Y}":"Ỹ","{\\~y}":"ỹ","{\\~}":"∼","~":" "}},{}],416:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=void 0;var i={article:"article-journal",book:"book",booklet:"book",proceedings:"book",manual:!1,mastersthesis:"thesis",misc:!1,inbook:"chapter",incollection:"chapter",conference:"paper-conference",inproceedings:"paper-conference",online:"website",patent:"patent",phdthesis:"thesis",techreport:"report",unpublished:"manuscript"};r.default=r.parse=function(t){return i.hasOwnProperty(t)?!1===i[t]?"book":i[t]:(logger.warn("[set]","BibTeX publication type not recognized: ".concat(t,'. Defaulting to "book".')),"book")}},{}],417:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseAsync=r.parse=void 0;var i=o(t("./json")),s=o(t("../../../util/fetchFile")),n=o(t("../../../util/fetchFileAsync"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var n=t.apply(e,r);function o(t,e){try{var r=n[t](e),o=r.value}catch(t){return void s(t)}r.done?i(o):Promise.resolve(o).then(a,l)}function a(t){o("next",t)}function l(t){o("throw",t)}a()})}}var l,u,c={Accept:"application/vnd.citationstyles.csl+json"},p=(l=a(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.default)(e,{headers:c});case 2:return r=t.sent,t.abrupt("return","[]"===r?{}:JSON.parse(r));case 4:case"end":return t.stop()}},t,this)})),function(t){return l.apply(this,arguments)}),m=(u=a(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat(e).map(p));case 2:return r=t.sent,t.abrupt("return",r.map(i.default));case 4:case"end":return t.stop()}},t,this)})),function(t){return u.apply(this,arguments)});r.parseAsync=m;var f=function(t){var e=(0,s.default)(t,{headers:c});return"[]"===e?{}:JSON.parse(e)};r.parse=function(t){return[].concat(t).map(f).map(i.default)}},{"../../../util/fetchFile":441,"../../../util/fetchFileAsync":442,"./json":420}],418:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=void 0;r.default=r.parse=function(t){return(Array.isArray(t)?t:t.trim().split(/(?:\s+)/g)).map(function(t){return"https://doi.org/".concat(t)})}},{}],419:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formats=r.parsers=r.ref=void 0;var i=a(t("./id")),s=a(t("./api")),n=a(t("./json")),o=a(t("./type"));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}r.ref="@doi";var l={id:i,api:s,json:n,type:o};r.parsers=l;var u={"@doi/api":{parse:s.parse,parseAsync:s.parseAsync,parseType:{dataType:"String",predicate:/^\s*(https?:\/\/(?:dx\.)?doi\.org\/(10.\d{4,9}\/[-._;()\/:A-Z0-9]+))\s*$/i,extends:"@else/url"}},"@doi/id":{parse:i.parse,parseType:{dataType:"String",predicate:/^\s*(10.\d{4,9}\/[-._;()\/:A-Z0-9]+)\s*$/i}},"@doi/list+text":{parse:i.parse,parseType:{dataType:"String",tokenList:/^10.\d{4,9}\/[-._;()\/:A-Z0-9]+$/i}},"@doi/list+object":{parse:i.parse,parseType:{dataType:"Array",elementConstraint:"@doi/id"}},"@doi/type":{parse:o.parse}};r.formats=u},{"./api":417,"./id":418,"./json":420,"./type":421}],420:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=void 0;var i,s=(i=t("./type"))&&i.__esModule?i:{default:i};r.default=r.parse=function(t){var e={type:(0,s.default)(t.type)};return["submitted","issued","event-date","original-date","container","accessed"].forEach(function(e){t[e]&&"number"==typeof t[e]["date-parts"][0]&&(t[e]["date-parts"]=[t[e]["date-parts"]])}),Object.assign({},t,e)}},{"./type":421}],421:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=void 0;var i={"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference"};r.default=r.parse=function(t){return i[t]||t}},{}],422:[function(t,e,r){"use strict";var i=t("../../plugins/"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("./modules"));for(var n in s){var o=s[n],a=o.ref,l=o.formats;(0,i.add)(a,{input:l})}},{"../../plugins/":439,"./modules":423}],423:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.other=r.wikidata=r.doi=r.bibtex=r.bibjson=void 0;var i=l(t("./bibjson/"));r.bibjson=i;var s=l(t("./bibtex/"));r.bibtex=s;var n=l(t("./doi/"));r.doi=n;var o=l(t("./wikidata/"));r.wikidata=o;var a=l(t("./other/"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}r.other=a},{"./bibjson/":408,"./bibtex/":411,"./doi/":419,"./other/":426,"./wikidata/":431}],424:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parse=void 0;r.parse=function(){return[]}},{}],425:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parse=void 0;r.parse=function(t){return t.value||t.textContent}},{}],426:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formats=r.parsers=r.ref=void 0;var i=l(t("./empty")),s=l(t("./url")),n=l(t("./json")),o=l(t("./jquery")),a=l(t("./html"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}r.ref="@else";var u={empty:i,url:s,json:n,jquery:o,html:a};r.parsers=u;var c={"@empty/text":{parse:i.parse,parseType:{dataType:"String",predicate:function(t){return""===t}}},"@empty/whitespace+text":{parse:i.parse,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:i.parse,parseType:{dataType:"Primitive",predicate:function(t){return null==t}}},"@else/json":{parse:n.parse,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parse:s.parse,parseAsync:s.parseAsync,parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[-a-z\d%_.~+:]*)*(\?[;&a-z\d%_.~+=-]*)?(#[-a-z\d_]*)?$/i}},"@else/jquery":{parse:o.parse,parseType:{dataType:"ComplexObject",predicate:function(t){return"undefined"!=typeof jQuery&&t instanceof jQuery}}},"@else/html":{parse:a.parse,parseType:{dataType:"ComplexObject",predicate:function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement}}}};r.formats=c},{"./empty":424,"./html":425,"./jquery":427,"./json":428,"./url":429}],427:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parse=void 0;r.parse=function(t){return t.val()||t.text()||t.html()}},{}],428:[function(t,e,r){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=void 0;var s=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']];r.default=r.parse=function(t){try{return JSON.parse(t)}catch(e){logger.info("[set]","Input was not valid JSON, switching to experimental parser for invalid JSON");try{return s.forEach(function(e){var r=i(e,2),s=r[0],n=r[1];t=t.replace(s,n)}),JSON.parse(t)}catch(t){return void logger.error("[set]","Experimental parser failed. Please improve the JSON. If this is not JSON, please re-read the supported formats.")}}}},{}],429:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"parseAsync",{enumerable:!0,get:function(){return s.default}});var i=n(t("../../../util/fetchFile")),s=n(t("../../../util/fetchFileAsync"));function n(t){return t&&t.__esModule?t:{default:t}}},{"../../../util/fetchFile":441,"../../../util/fetchFileAsync":442}],430:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"parseAsync",{enumerable:!0,get:function(){return s.default}});var i=n(t("../../../util/fetchFile")),s=n(t("../../../util/fetchFileAsync"));function n(t){return t&&t.__esModule?t:{default:t}}},{"../../../util/fetchFile":441,"../../../util/fetchFileAsync":442}],431:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formats=r.parsers=r.ref=void 0;var i=u(t("./list")),s=u(t("./json")),n=u(t("./prop")),o=u(t("./type")),a=u(t("./url")),l=u(t("./api"));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}r.ref="@wikidata";var c={list:i,json:s,prop:n,type:o,url:a,api:l};r.parsers=c;var p={"@wikidata/id":{parse:i.parse,parseType:{dataType:"String",predicate:/^\s*(Q\d+)\s*$/}},"@wikidata/list+text":{parse:i.parse,parseType:{dataType:"String",predicate:/^\s*((?:Q\d+(?:\s+|,|))*Q\d+)\s*$/}},"@wikidata/api":{parse:l.parse,parseAsync:l.parseAsync,parseType:{dataType:"String",predicate:/^(https?:\/\/(?:www\.)?wikidata.org\/w\/api\.php(?:\?.*)?)$/,extends:"@else/url"}},"@wikidata/url":{parse:a.parse,parseType:{dataType:"String",predicate:/\/(Q\d+)(?:[#?\/]|\s*$)/,extends:"@else/url"}},"@wikidata/list+object":{parse:i.parse,parseType:{dataType:"Array",elementConstraint:"@wikidata/id"}},"@wikidata/object":{parse:s.parse,parseAsync:s.parseAsync,parseType:{dataType:"SimpleObject",propertyConstraint:{props:"entities"}}},"@wikidata/prop":{parse:n.parse},"@wikidata/type":{parse:o.parse}};r.formats=p},{"./api":430,"./json":432,"./list":433,"./prop":434,"./type":435,"./url":436}],432:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseAsync=r.default=r.parse=void 0;var i,s=(i=t("wikidata-sdk"))&&i.__esModule?i:{default:i},n=t("./prop");function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var n=t.apply(e,r);function o(t,e){try{var r=n[t](e),o=r.value}catch(t){return void s(t)}r.done?i(o):Promise.resolve(o).then(a,l)}function a(t){o("next",t)}function l(t){o("throw",t)}a()})}}var l,u=(l=a(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(Object.keys(e.entities).map(function(){var t=a(regeneratorRuntime.mark(function t(r){var i,l,u,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.entities[r],l=i.labels,u=i.claims,c=s.default.simplifyClaims(u,null,null,!0),p={_wikiId:r,id:r},t.next=5,Promise.all(Object.keys(c).map(function(){var t=a(regeneratorRuntime.mark(function t(e){var r,i,s,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.parseAsync)(e,c[e],"en");case 2:(r=t.sent)&&(i=o(r,2),s=i[0],a=i[1],Array.isArray(p[s])?p[s]=p[s].concat(a):void 0!==a&&(p[s]=a));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 5:return Array.isArray(p.author)&&p.author.sort(function(t,e){return t._ordinal-e._ordinal}),p.title||(p.title=l.en.value),t.abrupt("return",p);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}},t,this)})),function(t){return l.apply(this,arguments)});r.parseAsync=u;r.default=r.parse=function(t){return Object.keys(t.entities).map(function(e){var r=t.entities[e],i=r.labels,a=r.claims,l=s.default.simplifyClaims(a,null,null,!0),u={_wikiId:e,id:e};return Object.keys(l).forEach(function(t){var e=(0,n.parse)(t,l[t],"en");if(e){var r=o(e,2),i=r[0],s=r[1];Array.isArray(u[i])?u[i]=u[i].concat(s):void 0!==s&&(u[i]=s)}}),Array.isArray(u.author)&&u.author.sort(function(t,e){return t._ordinal-e._ordinal}),u.title||(u.title=i.en.value),u})}},{"./prop":434,"wikidata-sdk":350}],433:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=void 0;var i,s=(i=t("wikidata-sdk"))&&i.__esModule?i:{default:i};r.default=r.parse=function(t){var e=Array.isArray(t)?t:t.trim().split(/(?:[\s,]\s*)/g);return[].concat(s.default.getEntities(e,["en"]))}},{"wikidata-sdk":350}],434:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseAsync=r.default=r.parse=void 0;var i=u(t("wikidata-sdk")),s=u(t("../../../util/fetchFile")),n=u(t("../../../util/fetchFileAsync")),o=u(t("./type")),a=u(t("../../date")),l=u(t("../../name"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var n=t.apply(e,r);function o(t,e){try{var r=n[t](e),o=r.value}catch(t){return void s(t)}r.done?i(o):Promise.resolve(o).then(a,l)}function a(t){o("next",t)}function l(t){o("throw",t)}a()})}}var p=function(t,e){var r=Array.isArray(t)?t:"string"==typeof t?t.split("|"):"",n=i.default.getEntities(r,[e],"labels"),o=JSON.parse((0,s.default)(n)).entities||{};return Object.keys(o).map(function(t){return(o[t].labels[e]||{}).value})},m=function(t){return t.P1545?parseInt(t.P1545[0]):-1},f={P31:"type",P50:"author",P57:"director",P86:"composer",P98:"editor",P110:"illustrator",P123:"publisher",P136:"genre",P212:"ISBN",P236:"ISSN",P291:"publisher-place",P304:"page",P348:"version",P356:"DOI",P393:"edition",P433:"issue",P478:"volume",P577:"issued",P655:"translator",P698:"PMID",P932:"PMCID",P953:"URL",P957:"ISBN",P1104:"number-of-pages",P1433:"container-title",P1476:"title",P2093:"author",P2860:!1,P921:!1,P3181:!1,P364:!1},h=function(t,e,r){if(f.hasOwnProperty(t)){if(!1!==f[t]){var i=f[t];return e?[i,function(t,e){var i=e[0].value;switch(t){case"P31":var s=(0,o.default)(i);return s||(logger.warn("[set]","Wikidata entry type not recognized: ".concat(i,'. Defaulting to "book".')),"book");case"P50":case"P57":case"P86":case"P98":case"P110":case"P655":return e.map(function(t){var e=t.value,i=t.qualifiers,s=(0,l.default)(p(e,r)[0]);return s._ordinal=m(i),s});case"P577":return(0,a.default)(i);case"P123":case"P136":case"P291":case"P1433":return p(i,r)[0];case"P2093":return e.map(function(t){var e=t.value,r=t.qualifiers,i=(0,l.default)(e);return i._ordinal=m(r),i});default:return i}}(t,e)]:i}}else logger.info("[set]","Unknown property: ".concat(t))};r.default=r.parse=h;var d,g,b=(d=c(regeneratorRuntime.mark(function t(e,r){var s,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Array.isArray(e)?e:"string"==typeof e?e.split("|"):"",o=i.default.getEntities(s,[r],"labels"),t.t1=JSON,t.next=5,(0,n.default)(o);case 5:if(t.t2=t.sent,t.t0=t.t1.parse.call(t.t1,t.t2).entities,t.t0){t.next=9;break}t.t0={};case 9:return a=t.t0,t.abrupt("return",Object.keys(a).map(function(t){return(a[t].labels[r]||{}).value}));case 11:case"end":return t.stop()}},t,this)})),function(t,e){return d.apply(this,arguments)}),_=(g=c(regeneratorRuntime.mark(function t(e,r,i){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(){var t=c(regeneratorRuntime.mark(function t(e,r){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=r[0].value,t.t0=e,t.next="P50"===t.t0?4:"P57"===t.t0?4:"P86"===t.t0?4:"P98"===t.t0?4:"P110"===t.t0?4:"P655"===t.t0?4:"P123"===t.t0?5:"P136"===t.t0?5:"P291"===t.t0?5:"P1433"===t.t0?5:8;break;case 4:return t.abrupt("return",Promise.all(r.map(function(){var t=c(regeneratorRuntime.mark(function t(e){var r,s,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.value,s=e.qualifiers,t.t0=l.default,t.next=4,b(r,i);case 4:return t.t1=t.sent[0],(n=(0,t.t0)(t.t1))._ordinal=m(s),t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())));case 5:return t.next=7,b(s,i);case 7:return t.abrupt("return",t.sent[0]);case 8:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()(e,r);case 2:if(!(s=t.sent)){t.next=7;break}return t.abrupt("return",[h(e),s]);case 7:return t.abrupt("return",h(e,r,i));case 8:case"end":return t.stop()}},t,this)})),function(t,e,r){return g.apply(this,arguments)});r.parseAsync=_},{"../../../util/fetchFile":441,"../../../util/fetchFileAsync":442,"../../date":398,"../../name":437,"./type":435,"wikidata-sdk":350}],435:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=void 0;var i={Q49848:"article",Q191067:"article",Q13442814:"article-journal",Q18918145:"article-journal",Q38926:"article-newspaper",Q5707594:"article-newspaper",Q30070590:"article-magazine",Q686822:"bill",Q3331189:"book",Q571:"book",Q1555508:"broadcast",Q15416:"broadcast",Q1980247:"chapter",Q1172284:"dataset",Q10389811:"entry",Q19389637:"entry",Q17329259:"entry-encyclopedia",Q30070753:"figure",Q1027879:"graphic",Q4502142:"graphic",Q478798:"graphic",Q838948:"graphic",Q178651:"interview",Q49371:"legislation",Q820655:"legislation",Q2334719:"legal_case",Q87167:"manuscript",Q4006:"map",Q11424:"motion_picture",Q30070675:"motion_picture",Q187947:"musical_score",Q18536349:"pamphlet",Q190399:"pamphlet",Q26973022:"paper-conference",Q23927052:"paper-conference",Q253623:"patent",Q30070565:"personal_communication",Q30070439:"personal_communication",Q133492:"personal_communication",Q628523:"personal_communication",Q7216866:"post",Q17928402:"post-blog",Q10870555:"report",Q265158:"review",Q637866:"review-book",Q7366:"song",Q3741908:"song",Q30070318:"song",Q24634210:"song",Q861911:"speech",Q1266946:"thesis",Q187685:"thesis",Q131569:"treaty",Q36774:"webpage"};r.default=r.parse=function(t){return i[t]}},{}],436:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parse=void 0;r.parse=function(t){return t.match(/\/(Q\d+)(?:[#?\/]|\s*$)/)[1]}},{}],437:[function(t,e,r){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],i=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){s=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.parse=r.types=r.scope=void 0;var s=function(t){return t.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1")},n=function(t){return"(?:".concat(t.join("|"),")\\b")},o=function(t,e){return new RegExp("(?:^| )(".concat(t,"$)"),e)},a=n(["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"].map(s)),l=n(["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"].map(s)),u=n(["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"]),c=new RegExp("^((?:".concat(a," )*)(.*)$"),"i"),p=o("(?:".concat(l,", )*(?:").concat(l,")"),"i"),m=o("".concat(/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source,".*")),f=o("(?:".concat(/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source,".*|").concat(u,".*|\\S*)"));r.default=r.parse=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"string"!=typeof t&&(t+="");var e="",r="",s="";if(/[^.], /.test(t)){var n=t.split(", ");s=n.shift();var o=RegExp(l).exec(n.join(", "));e=n.splice(o&&0!==o.index?0:-1,1)[0],r=n.join(", ")}else{var a=t.split(p,2),u=a.shift().split(f,2);e=u[0],s=u[1],r=a.pop()}var h=i(e.match(c),3),d=h[1],g=h[2],b=r,_=i(s.split(m,2).reverse(),2),v=_[0],y=_[1];if(!g&&v)return v.includes(" ")?{literal:v}:{family:v};if(v){var x={"dropping-particle":d,given:g,suffix:b,"non-dropping-particle":y,family:v};return Object.keys(x).forEach(function(t){x[t]||delete x[t]}),x}return logger.warn("[set]","Could not parse name: '".concat(t,"', falling back to literal")),{literal:t}};r.scope="@name";r.types="@name"},{}],438:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.remove=r.get=r.add=void 0;var i={};r.add=function(t,e){i[t]=e};r.get=function(t){return i[t]};r.remove=function(t){delete i[t]}},{}],439:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.config=r.dict=r.output=r.input=r.list=r.has=r.remove=r.add=void 0;var i=a(t("../parse/interface/"));r.input=i;var s=a(t("../get/registrar"));r.output=s;var n=a(t("../get/dict"));r.dict=n;var o=a(t("./config"));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}r.config=o;var l={input:i,output:s,dict:n,config:o},u={};r.add=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=u[t]={};for(var i in"config"in e&&(l.config.add(t,e.config),delete e.config),e){var s=r[i]={},n=e[i];for(var o in n){var a=n[o];s[o]=!0,l[i].add(o,a)}}};r.remove=function(t){var e=u[t];for(var r in e){var i=e[r];for(var s in i)l[r].remove(s)}delete u[t]};r.has=function(t){return t in u};r.list=function(){return Object.keys(u)}},{"../get/dict":371,"../get/registrar":395,"../parse/interface/":404,"./config":438}],440:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(t){return JSON.parse(JSON.stringify(t))};r.default=i},{}],441:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=t("sync-request"))&&i.__esModule?i:{default:i};var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};e.headers&&(r.headers=e.headers,r.allowRedirectHeaders=Object.keys(e.headers));try{return(0,s.default)("GET",t,r).getBody("utf8")}catch(e){return logger.error("[set]","File '".concat(t,"' could not be fetched:"),e.message),"[]"}};r.default=n},{"sync-request":332}],442:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,t("isomorphic-fetch");var i,s,n=(i=regeneratorRuntime.mark(function t(e){var r,i,s=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},i={},r.headers&&(i.headers=r.headers,i.allowRedirectHeaders=Object.keys(r.headers)),t.prev=3,t.abrupt("return",fetch(e,i).then(function(t){return t.text()}));case 7:return t.prev=7,t.t0=t.catch(3),logger.error("[set]","File '".concat(e,"' could not be fetched:"),t.t0.message),t.abrupt("return","[]");case 11:case"end":return t.stop()}},t,this,[[3,7]])}),s=function(){var t=this,e=arguments;return new Promise(function(r,s){var n=i.apply(t,e);function o(t,e){try{var i=n[t](e),o=i.value}catch(t){return void s(t)}i.done?r(o):Promise.resolve(o).then(a,l)}function a(t){o("next",t)}function l(t){o("throw",t)}a()})},function(t){return s.apply(this,arguments)});r.default=n},{"isomorphic-fetch":325}],443:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(t,e){for(var r;t.includes(r);)r="".concat(e).concat(Math.random().toString().slice(2));return r};r.default=i},{}],444:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"fetchFile",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"fetchFileAsync",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"fetchId",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"TokenStack",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"Register",{enumerable:!0,get:function(){return l.default}}),r.attr=void 0;var i=p(t("./deepCopy")),s=p(t("./fetchFile")),n=p(t("./fetchFileAsync")),o=p(t("./fetchId")),a=p(t("./stack")),l=p(t("./register")),u=t("../get/modules/csl/attr"),c=t("../get/modules/csl/affix");function p(t){return t&&t.__esModule?t:{default:t}}var m={getAttributedEntry:u.getAttributedEntry,getPrefixedEntry:u.getPrefixedEntry,getWrappedEntry:c.getWrappedEntry};r.attr=m},{"../get/modules/csl/affix":379,"../get/modules/csl/attr":380,"./deepCopy":440,"./fetchFile":441,"./fetchFileAsync":442,"./fetchId":443,"./register":445,"./stack":446}],445:[function(t,e,r){"use strict";function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e}var e,r,s;return e=t,(r=[{key:"set",value:function(t,e){return this.data[t]=e,this}},{key:"add",value:function(){return this.set.apply(this,arguments)}},{key:"delete",value:function(t){return delete this.data[t],this}},{key:"get",value:function(t){return this.data[t]}},{key:"has",value:function(t){return this.data.hasOwnProperty(t)}},{key:"list",value:function(){return Object.keys(this.data)}}])&&i(e.prototype,r),s&&i(e,s),t}();r.default=s},{}],446:[function(t,e,r){"use strict";function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stack=e,this.index=0,this.current=this.stack[this.index]}var e,r,s;return e=t,s=[{key:"getPatternText",value:function(t){return'"'.concat(t instanceof RegExp?t.source:t,'"')}},{key:"getMatchCallback",value:function(e){if(Array.isArray(e)){var r=e.map(t.getMatchCallback);return function(t){return r.some(function(e){return e(t)})}}return e instanceof Function?e:e instanceof RegExp?function(t){return e.test(t)}:function(t){return e===t}}}],(r=[{key:"tokensLeft",value:function(){return this.stack.length-this.index}},{key:"matches",value:function(e){return t.getMatchCallback(e)(this.current,this.index,this.stack)}},{key:"matchesSequence",value:function(e){var r=this.stack.slice(this.index,this.index+e.length).join("");return"string"==typeof e?r===e:e.every(function(e,i){return t.getMatchCallback(e)(r[i])})}},{key:"consumeToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^[\s\S]$/,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(r.inverse,r.spaced),s=void 0===i||i;s&&this.consumeWhitespace();var n=this.current;if(!t.getMatchCallback(e)(n,this.index,this.stack))throw new SyntaxError("Unexpected token at index ".concat(this.index,": Expected ").concat(t.getPatternText(e),', got "').concat(n,'"'));return this.current=this.stack[++this.index],s&&this.consumeWhitespace(),n}},{key:"consumeWhitespace",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^\s$/,e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).optional,r=void 0===e||e;return this.consume(t,{min:+!r})}},{key:"consumeN",value:function(t){if(this.tokensLeft()<t)throw new SyntaxError("Not enough tokens left");for(var e=this.index;t--;)this.current=this.stack[++this.index];return this.stack.slice(e,this.index).join("")}},{key:"consumeSequence",value:function(t){if(this.matchesSequence(t))return this.consumeN(t.length);throw new SyntaxError('Expected "'.concat(t,'", got "').concat(this.consumeN(t.length),'"'))}},{key:"consume",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^[\s\S]$/,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.min,s=void 0===i?0:i,n=r.max,o=void 0===n?1/0:n,a=r.inverse,l=void 0!==a&&a,u=r.tokenMap,c=r.tokenFilter,p=this.index,m=t.getMatchCallback(e);m(this.current,this.index,this.stack)!==l;)this.current=this.stack[++this.index];var f=this.stack.slice(p,this.index);if(f.length<s)throw new SyntaxError("Not enough ".concat(t.getPatternText(e)));if(f.length>o)throw new SyntaxError("Too many ".concat(t.getPatternText(e)));return u&&(f=f.map(u)),c&&(f=f.filter(c)),f.join("")}}])&&i(e.prototype,r),s&&i(e,s),t}();r.default=s},{}],447:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cite",{enumerable:!0,get:function(){return i.version}}),Object.defineProperty(r,"citeproc",{enumerable:!0,get:function(){return s.PROCESSOR_VERSION}});var i=t("../package.json"),s=t("citeproc")},{"../package.json":361,citeproc:323}],"citation-js":[function(t,e,r){"use strict";t("@babel/polyfill"),t("./logger");var i=h(t("./Cite/static")),s=h(t("./plugins/index")),n=h(t("./get/index")),o=h(t("./parse/index")),a=h(t("./util/index")),l=h(t("./version")),u=f(t("./async/index")),c=f(t("./Cite/index")),p=h(t("./get/modules/csl/locales")),m=h(t("./get/modules/csl/styles"));function f(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}var d={engine:t("./get/modules/csl/engines").fetchEngine,style:m.default,locale:p.default,item:function(t){return function(e){return t.find(function(t){return t.id===e})}},register:{addTemplate:m.templates.add.bind(m.templates),getTemplate:m.templates.get.bind(m.templates),hasTemplate:m.templates.has.bind(m.templates),addLocale:p.locales.add.bind(p.locales),getLocale:p.locales.get.bind(p.locales),hasLocale:p.locales.has.bind(p.locales)}};Object.assign(c.default,i,{async:u.default,plugins:s,get:n,CSL:d,parse:o,util:a,version:l,input:o.chain,inputAsync:o.chainAsync}),e.exports=c.default},{"./Cite/index":363,"./Cite/static":368,"./async/index":369,"./get/index":372,"./get/modules/csl/engines":383,"./get/modules/csl/locales":386,"./get/modules/csl/styles":388,"./logger":396,"./parse/index":399,"./plugins/index":439,"./util/index":444,"./version":447,"@babel/polyfill":1}]},{},[]);