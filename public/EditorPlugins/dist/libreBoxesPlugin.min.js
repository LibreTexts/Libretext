console.log("CKEditor LibreBoxes Plugin"),LibreEditor.libreBoxes=e=>{Array.isArray(e.toolbar[10])&&e.toolbar[10].push("LibreBoxesOptions"),CKEDITOR.plugins.add("LibreBoxes",{require:["richcombo"],init(e){const t="Boxes",o=[{template:"BoxDefinition",value:"box-definition",text:"Definition"},{template:"BoxEmphasis",value:"box-emphasis",text:"Emphasis"},{template:"BoxExample",value:"box-example",text:"Example"},{template:"BoxExercise",value:"box-exercise",text:"Exercise"},{template:"BoxInteractive",value:"box-interactive",text:"Interactive"},{template:"BoxNote",value:"box-note",text:"Note"},{template:"BoxObjectives",value:"box-objectives",text:"Objectives"},{template:"BoxQuery",value:"box-query",text:"Query"},{template:"BoxTheorem",value:"box-theorem",text:"Theorem"},{template:"BoxWarning",value:"box-warning",text:"Warning"}];for(let t=0,a=o.length;t<a;t+=1)e.addCommand(o[t].value,{async exec(e){const a="Sorry, we're having trouble loading the template. Please use Elements > Templates to insert.";try{const i=new XMLHttpRequest;i.onerror=e=>{console.error(e),alert(a)},i.onload=()=>{const t=JSON.parse(i.responseText);"string"==typeof t.template&&e.insertHtml(t.template.trim())},i.open("PUT","https://api.libretexts.org/endpoint/template"),i.setRequestHeader("Content-Type","application/json;"),i.send(JSON.stringify({path:`Template:${o[t].template}`,subdomain:LibreTexts.extractSubdomain()}))}catch(e){alert(a),console.error(e)}}});e.ui.addRichCombo("LibreBoxesOptions",{label:t,title:t,voiceLabel:t,toolbar:"insert",multiSelect:!1,className:"cke_librebox",panel:{css:[e.config.contentsCss,CKEDITOR.skin.getPath("editor")],voiceLabel:t,attributes:{"aria-label":t}},init(){this.startGroup(t);for(let e=0,t=o.length;e<t;e+=1)this.add(o[e].value,`<span>${o[e].text}</span>`,o[e].text)},onClick(t){e.execCommand(t)}})}}),CKEDITOR.config.extraPlugins+=(""===CKEDITOR.config.extraPlugins?"":",")+"LibreBoxes"};