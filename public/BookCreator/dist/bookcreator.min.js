(()=>{"use strict";var e={314:(e,o,n)=>{n.d(o,{Z:()=>c});var t=n(81),r=n.n(t),a=n(645),i=n.n(a)()(r());i.push([e.id,"#book-creator {\n  display: none;\n  --font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n  font-family: var(--font-family);\n}\n\n#book-creator.is-open {\n  display: block;\n}\n\n#book-creator__overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n#book-creator__container {\n  background-color: #fff;\n  padding: 30px;\n  min-width: 50vw;\n  max-width: 90vw;\n  max-height: 150vh;\n  border-radius: 4px;\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n\n#book-creator__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n#book-creator__title {\n  font-weight: 700;\n  line-height: 1.25;\n  color: #127BC4;\n  box-sizing: border-box;\n  font-family: var(--font-family);\n  margin: 0 !important;\n}\n\n#book-creator__close_iconbtn {\n  background: transparent;\n  border: none;\n}\n\n#book-creator__close_iconbtn::before {\n  content: '\\2715';\n}\n\n#book-creator__close_iconbtn:hover {\n  background: transparent;\n  border: none;\n  box-shadow: none;\n}\n\n#book-creator__close_iconbtn:focus {\n  box-shadow: none;\n  background: #BFBFBF;\n}\n\n#book-creator__content {\n  padding: 2em 0 0;\n}\n\n.book-creator__form_label {\n  font-weight: 500;\n}\n\n.book-creator__form_label::after {\n  content: none;\n}\n\n.book-creator__form_label_detail {\n  color: #6C757D;\n}\n\n.book-creator__form_error {\n  border-color: #DC3545;\n}\n\n.book-creator__form_hidden {\n  display: none;\n}\n\n#book-creator__action_buttons_container {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 2em;\n}\n\n.book-creator__action_button {\n  font-family: var(--font-family);\n  border-radius: 0.25rem;\n  border: none;\n  font-size: 1.1em;\n  margin-left: 0.5em;\n}\n\n.book-creator__action_button:hover, .book-creator__action_button:focus {\n  box-shadow: none !important;\n  border: none !important;\n}\n\n#book-creator__submit {\n  background-color: #127BC4;\n  color: #FFF;\n}\n\n#book-creator__submit:hover, #book-creator__submit:focus {\n  background-color: #0E629C;\n}\n\n#book-creator__close:hover, #book-creator__close:focus {\n  background-color: #BFBFBF;\n}\n\n#book-creator__loader {\n  display: none;\n}\n\n#book-creator__loader.is_loading {\n  display: block;\n  width: 100%;\n  height: 100px;\n  margin: 1em auto 2em;\n  text-align: center;\n}\n\n#book-creator__loader.is_loading:after {\n  content: \" \";\n  display: block;\n  width: 64px;\n  height: 64px;\n  margin: 1em auto;\n  border-radius: 50%;\n  border: 6px solid #127BC4;\n  border-color: #127BC4 transparent #127BC4 transparent;\n  animation: book-creator-is-loading 2s linear infinite;\n}\n\n@keyframes book-creator-is-loading {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@media screen and (max-width: 768px) {\n  #book-creator__container {\n    min-width: 75vw;\n  }\n}\n\n@media screen and (prefers-reduced-motion: reduce) {\n  #book-creator__loader.is_loading:after {\n    display: none;\n  }\n}",""]);const c=i},645:e=>{e.exports=function(e){var o=[];return o.toString=function(){return this.map((function(o){var n="",t=void 0!==o[5];return o[4]&&(n+="@supports (".concat(o[4],") {")),o[2]&&(n+="@media ".concat(o[2]," {")),t&&(n+="@layer".concat(o[5].length>0?" ".concat(o[5]):""," {")),n+=e(o),t&&(n+="}"),o[2]&&(n+="}"),o[4]&&(n+="}"),n})).join("")},o.i=function(e,n,t,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(t)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);t&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),o.push(d))}},o}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var o=[];function n(e){for(var n=-1,t=0;t<o.length;t++)if(o[t].identifier===e){n=t;break}return n}function t(e,t){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],l=t.base?s[0]+t.base:s[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var f=n(u),b={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)o[f].references++,o[f].updater(b);else{var m=r(b,t);t.byIndex=c,o.splice(c,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function r(e,o){var n=o.domAPI(o);return n.update(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap&&o.supports===e.supports&&o.layer===e.layer)return;n.update(e=o)}else n.remove()}}e.exports=function(e,r){var a=t(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=n(a[i]);o[c].references--}for(var s=t(e,r),l=0;l<a.length;l++){var d=n(a[l]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}a=s}}},569:e=>{var o={};e.exports=function(e,n){var t=function(e){if(void 0===o[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}o[e]=n}return o[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(n)}},216:e=>{e.exports=function(e){var o=document.createElement("style");return e.setAttributes(o,e.attributes),e.insert(o,e.options),o}},565:(e,o,n)=>{e.exports=function(e){var o=n.nc;o&&e.setAttribute("nonce",o)}},795:e=>{e.exports=function(e){var o=e.insertStyleElement(e);return{update:function(n){!function(e,o,n){var t="";n.supports&&(t+="@supports (".concat(n.supports,") {")),n.media&&(t+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(t+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),t+=n.css,r&&(t+="}"),n.media&&(t+="}"),n.supports&&(t+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),o.styleTagTransform(t,e,o.options)}(o,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)}}}},589:e=>{e.exports=function(e,o){if(o.styleSheet)o.styleSheet.cssText=e;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(e))}}}},o={};function n(t){var r=o[t];if(void 0!==r)return r.exports;var a=o[t]={id:t,exports:{}};return e[t](a,a.exports,n),a.exports}n.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),n.nc=void 0,(()=>{var e=n(379),o=n.n(e),t=n(795),r=n.n(t),a=n(569),i=n.n(a),c=n(565),s=n.n(c),l=n(216),d=n.n(l),u=n(589),f=n.n(u),b=n(314),m={};function h(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,o){if(e){if("string"==typeof e)return v(e,o);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,o):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,o){(null==o||o>e.length)&&(o=e.length);for(var n=0,t=new Array(o);n<o;n++)t[n]=e[n];return t}m.styleTagTransform=f(),m.setAttributes=s(),m.insert=i().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=d(),o()(b.Z,m),b.Z&&b.Z.locals&&b.Z.locals;var p,g,_,y,k,w=(p=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],g=function(){function e(o){var n=o.targetModal,t=o.triggers,r=void 0===t?[]:t,a=o.onShow,i=void 0===a?function(){}:a,c=o.onClose,s=void 0===c?function(){}:c,l=o.openTrigger,d=void 0===l?"data-micromodal-trigger":l,u=o.closeTrigger,f=void 0===u?"data-micromodal-close":u,b=o.openClass,m=void 0===b?"is-open":b,v=o.disableScroll,p=void 0!==v&&v,g=o.disableFocus,_=void 0!==g&&g,y=o.awaitCloseAnimation,k=void 0!==y&&y,w=o.awaitOpenAnimation,x=void 0!==w&&w,E=o.debugMode,C=void 0!==E&&E;!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(n),this.config={debugMode:C,disableScroll:p,openTrigger:d,closeTrigger:f,openClass:m,onShow:i,onClose:s,awaitCloseAnimation:k,awaitOpenAnimation:x,disableFocus:_},r.length>0&&this.registerTriggers.apply(this,h(r)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var o;return(o=[{key:"registerTriggers",value:function(){for(var e=this,o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];n.filter(Boolean).forEach((function(o){o.addEventListener("click",(function(o){return e.showModal(o)}))}))}},{key:"showModal",value:function(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var n=function o(){e.modal.removeEventListener("animationend",o,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",n,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,o)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function e(){o.classList.remove(n),o.removeEventListener("animationend",e,!1)}),!1)}else o.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var o=document.querySelector("body");switch(e){case"enable":Object.assign(o.style,{overflow:""});break;case"disable":Object.assign(o.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(p);return Array.apply(void 0,h(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var o=this.getFocusableNodes();if(0!==o.length){var n=o.filter((function(o){return!o.hasAttribute(e.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&o[0].focus()}}}},{key:"retainFocus",value:function(e){var o=this.getFocusableNodes();if(0!==o.length)if(o=o.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var n=o.indexOf(document.activeElement);e.shiftKey&&0===n&&(o[o.length-1].focus(),e.preventDefault()),!e.shiftKey&&o.length>0&&n===o.length-1&&(o[0].focus(),e.preventDefault())}else o[0].focus()}}])&&function(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(e.prototype,o),e}(),_=null,y=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},k=function(e,o){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!o)return!0;for(var n in o)y(n);return!0},{init:function(e){var o=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),n=h(document.querySelectorAll("[".concat(o.openTrigger,"]"))),t=function(e,o){var n=[];return e.forEach((function(e){var t=e.attributes[o].value;void 0===n[t]&&(n[t]=[]),n[t].push(e)})),n}(n,o.openTrigger);if(!0!==o.debugMode||!1!==k(n,t))for(var r in t){var a=t[r];o.targetModal=r,o.triggers=h(a),_=new g(o)}},show:function(e,o){var n=o||{};n.targetModal=e,!0===n.debugMode&&!1===y(e)||(_&&_.removeEventListeners(),(_=new g(n)).showModal())},close:function(e){e?_.closeModalById(e):_.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=w);const x=w,E="book-creator__form_error";let C=null,M=null;LibreTexts.bookCreator=function(){(function(){if(LibreTexts.active?.bookCreator)return;const e=document.createElement("template");e.innerHTML='<div id="book-creator" aria-hidden="true"> <div id="book-creator__overlay" tabindex="-1" data-micromodal-close> <div id="book-creator__container" role="dialog" aria-modal="true" aria-labelledby="book-creator__title" aria-live="polite" aria-busy="false"> <header id="book-creator__header"> <h2 id="book-creator__title">New Book</h2> <button id="book-creator__close_iconbtn" aria-label="Cancel" data-micromodal-close></button> </header> <div id="book-creator__content"> <form id="book-creator__form"> <label for="book-creator__title_input" class="book-creator__form_label"> Title <span class="book-creator__form_label_detail"> (required, max. 125 characters)</span> </label> <input id="book-creator__title_input" type="text" aria-required="true"/> <div id="book-creator__action_buttons_container"> <button id="book_creator__close" class="book-creator__action_button" data-micromodal-close>Cancel</button> <button id="book-creator__submit" class="book-creator__action_button" type="submit">Create</button> </div> </form> <div id="book-creator__loader" aria-hidden="true"> <span>Creating book, this may take a moment...</span> </div> </div> </div> </div> </div>',document.body.appendChild(e.content),LibreTexts.active.bookCreator=!0,M=document.getElementById("book-creator__form"),M?M.addEventListener("submit",(e=>{e.preventDefault(),async function(){if(C=document.getElementById("book-creator__title_input"),C){if(C.classList.remove(E),C.setAttribute("aria-invalid","false"),function(){let e=!0;const o=C.value;return(!o||o.trim().length<1||o.trim().length>125)&&(e=!1,C.classList.add(E),C.setAttribute("aria-invalid","true")),e}())try{const e=document.getElementById("book-creator__container"),o=document.getElementById("book-creator__loader");e&&e.setAttribute("aria-busy","true"),o&&(o.classList.add("is_loading"),M.classList.add("book-creator__form_hidden"));const n=await LibreTexts.sendAPI("createBook",{title:C.value},"POST"),t=await n.json();if(!t.data?.url)throw new Error("New URL not provided.");window.location.href=t.data.url}catch(e){console.error(e),window.alert("Sorry, we seem to have encountered an error. Please refresh and try again.")}}else window.alert("Sorry, we encountered an error reading your input.")}()})):console.error("[BookCreator] Form element not found in DOM!")})(),x.show("book-creator")}})()})();